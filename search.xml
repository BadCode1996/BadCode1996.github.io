<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Thymeleaf</title>
      <link href="/posts/20081401.html/"/>
      <url>/posts/20081401.html/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>ğŸ“ŒGithubé¡¹ç›®åœ°å€ï¼š<a href="https://github.com/BadCode1996/thymeleaf" target="_blank" rel="noopener">thymeleaf</a></p><hr><h1>Thymeleafç®€ä»‹</h1><p>å®˜æ–¹ç½‘ç«™ï¼š<a href="https://www.thymeleaf.org" target="_blank" rel="noopener">https://www.thymeleaf.org</a></p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/image/20200814005903.png" alt="1526434145635"></p><p><strong>Thymeleaf</strong>æ˜¯ç”¨æ¥å¼€å‘Webå’Œç‹¬ç«‹ç¯å¢ƒé¡¹ç›®çš„ç°ä»£æœåŠ¡å™¨ç«¯Javaæ¨¡æ¿å¼•æ“ã€‚</p><p>Thymeleafçš„ä¸»è¦ç›®æ ‡æ˜¯ä¸ºæ‚¨çš„å¼€å‘å·¥ä½œæµç¨‹å¸¦æ¥ä¼˜é›…çš„<em>è‡ªç„¶æ¨¡æ¿</em> - HTMLã€‚å¯ä»¥åœ¨ç›´æ¥æµè§ˆå™¨ä¸­æ­£ç¡®æ˜¾ç¤ºï¼Œå¹¶ä¸”å¯ä»¥ä½œä¸ºé™æ€åŸå‹ï¼Œä»è€Œåœ¨å¼€å‘å›¢é˜Ÿä¸­å®ç°æ›´å¼ºå¤§çš„åä½œã€‚</p><p>å€ŸåŠ©Spring Frameworkçš„æ¨¡å—ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„å–œå¥½è¿›è¡Œè‡ªç”±é€‰æ‹©ï¼Œå¯æ’æ‹”åŠŸèƒ½ç»„ä»¶ï¼ŒThymeleafæ˜¯ç°ä»£HTML5 JVM Webå¼€å‘çš„ç†æƒ³é€‰æ‹© - å°½ç®¡å®ƒå¯ä»¥åšçš„æ›´å¤šã€‚</p><p>Springå®˜æ–¹æ”¯æŒçš„æœåŠ¡çš„æ¸²æŸ“æ¨¡æ¿ä¸­ï¼Œå¹¶ä¸åŒ…å«jspã€‚è€Œæ˜¯Thymeleafå’ŒFreemarkerç­‰ï¼Œè€ŒThymeleafä¸SpringMVCçš„è§†å›¾æŠ€æœ¯ï¼ŒåŠSpringBootçš„è‡ªåŠ¨åŒ–é…ç½®é›†æˆéå¸¸å®Œç¾ï¼Œå‡ ä¹æ²¡æœ‰ä»»ä½•æˆæœ¬ï¼Œä½ åªç”¨å…³æ³¨Thymeleafçš„è¯­æ³•å³å¯ã€‚</p><h1>ç‰¹ç‚¹</h1><p>ç‰¹ç‚¹ï¼š</p><ul><li>åŠ¨é™ç»“åˆï¼šThymeleaf åœ¨æœ‰ç½‘ç»œå’Œæ— ç½‘ç»œçš„ç¯å¢ƒä¸‹çš†å¯è¿è¡Œï¼Œå³å®ƒå¯ä»¥è®©ç¾å·¥åœ¨æµè§ˆå™¨æŸ¥çœ‹é¡µé¢çš„é™æ€æ•ˆæœï¼Œä¹Ÿå¯ä»¥è®©ç¨‹åºå‘˜åœ¨æœåŠ¡å™¨æŸ¥çœ‹å¸¦æ•°æ®çš„åŠ¨æ€é¡µé¢æ•ˆæœã€‚è¿™æ˜¯ç”±äºå®ƒæ”¯æŒ html åŸå‹ï¼Œç„¶ååœ¨ html æ ‡ç­¾é‡Œå¢åŠ é¢å¤–çš„å±æ€§æ¥è¾¾åˆ°æ¨¡æ¿+æ•°æ®çš„å±•ç¤ºæ–¹å¼ã€‚æµè§ˆå™¨è§£é‡Š html æ—¶ä¼šå¿½ç•¥æœªå®šä¹‰çš„æ ‡ç­¾å±æ€§ï¼Œæ‰€ä»¥ thymeleaf çš„æ¨¡æ¿å¯ä»¥é™æ€åœ°è¿è¡Œï¼›å½“æœ‰æ•°æ®è¿”å›åˆ°é¡µé¢æ—¶ï¼ŒThymeleaf æ ‡ç­¾ä¼šåŠ¨æ€åœ°æ›¿æ¢æ‰é™æ€å†…å®¹ï¼Œä½¿é¡µé¢åŠ¨æ€æ˜¾ç¤ºã€‚</li><li>å¼€ç®±å³ç”¨ï¼šå®ƒæä¾›æ ‡å‡†å’Œspringæ ‡å‡†ä¸¤ç§æ–¹è¨€ï¼Œå¯ä»¥ç›´æ¥å¥—ç”¨æ¨¡æ¿å®ç°JSTLã€ OGNLè¡¨è¾¾å¼æ•ˆæœï¼Œé¿å…æ¯å¤©å¥—æ¨¡æ¿ã€æ”¹jstlã€æ”¹æ ‡ç­¾çš„å›°æ‰°ã€‚åŒæ—¶å¼€å‘äººå‘˜ä¹Ÿå¯ä»¥æ‰©å±•å’Œåˆ›å»ºè‡ªå®šä¹‰çš„æ–¹è¨€ã€‚</li><li>å¤šæ–¹è¨€æ”¯æŒï¼šThymeleaf æä¾›springæ ‡å‡†æ–¹è¨€å’Œä¸€ä¸ªä¸ SpringMVC å®Œç¾é›†æˆçš„å¯é€‰æ¨¡å—ï¼Œå¯ä»¥å¿«é€Ÿçš„å®ç°è¡¨å•ç»‘å®šã€å±æ€§ç¼–è¾‘å™¨ã€å›½é™…åŒ–ç­‰åŠŸèƒ½ã€‚</li><li>ä¸SpringBootå®Œç¾æ•´åˆï¼ŒSpringBootæä¾›äº†Thymeleafçš„é»˜è®¤é…ç½®ï¼Œå¹¶ä¸”ä¸ºThymeleafè®¾ç½®äº†è§†å›¾è§£æå™¨ï¼Œæˆ‘ä»¬å¯ä»¥åƒä»¥å‰æ“ä½œjspä¸€æ ·æ¥æ“ä½œThymeleafã€‚ä»£ç å‡ ä¹æ²¡æœ‰ä»»ä½•åŒºåˆ«ï¼Œå°±æ˜¯åœ¨æ¨¡æ¿è¯­æ³•ä¸Šæœ‰åŒºåˆ«ã€‚</li></ul><h1>ç¯å¢ƒå‡†å¤‡</h1><p>æˆ‘ä»¬æ¥åˆ›å»ºä¸€ä¸ªmoduleï¼Œä¸ºå­¦ä¹ Thymeleafåšå‡†å¤‡ï¼š</p><h2 id="åˆ›å»ºmodule">åˆ›å»ºmodule</h2><p>ä½¿ç”¨spring è„šæ‰‹æ¶åˆ›å»ºï¼š</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/08/14/20200814010629.png" alt="image-20200814010629056"></p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/08/14/20200814010811.png" alt="image-20200814010811179"></p><p>å‹¾é€‰webå’ŒThymeleafçš„ä¾èµ–ï¼š</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/08/14/20200814010905.png" alt="image-20200814010905837"></p><p>é¡¹ç›®ç»“æ„ï¼š</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/08/14/20200814011223.png" alt="20200814011223"></p><p>pom</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/POM/4.0.0"</span> <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3.2.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">relativePath</span>/&gt;</span> <span class="comment">&lt;!-- lookup parent from repository --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.demo<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>thymeleaf<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>thymeleaf<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">description</span>&gt;</span>Demo project for Spring Boot<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">java.version</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-thymeleaf<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">exclusions</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.junit.vintage<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit-vintage-engine<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¸éœ€è¦åšä»»ä½•é…ç½®ï¼Œå¯åŠ¨å™¨å·²ç»å¸®æˆ‘ä»¬æŠŠThymeleafçš„è§†å›¾å™¨é…ç½®å®Œæˆï¼š</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/08/14/20200814012621.png" alt="image-20200814012621222"></p><p>è€Œä¸”ï¼Œè¿˜é…ç½®äº†æ¨¡æ¿æ–‡ä»¶ï¼ˆhtmlï¼‰çš„ä½ç½®ï¼Œä¸jspç±»ä¼¼çš„å‰ç¼€+ è§†å›¾å + åç¼€é£æ ¼ï¼š</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/08/14/20200814013018.png" alt="image-20200814013018250"></p><ul><li>é»˜è®¤å‰ç¼€ï¼š<code>classpath:/templates/</code></li><li>é»˜è®¤åç¼€ï¼š<code>.html</code></li></ul><p>æ‰€ä»¥å¦‚æœæˆ‘ä»¬è¿”å›è§†å›¾ï¼š<code>users</code>ï¼Œä¼šæŒ‡å‘åˆ° <code>classpath:/templates/users.html</code></p><p>Thymeleafé»˜è®¤ä¼šå¼€å¯é¡µé¢ç¼“å­˜ï¼Œæé«˜é¡µé¢å¹¶å‘èƒ½åŠ›ã€‚ä½†ä¼šå¯¼è‡´æˆ‘ä»¬ä¿®æ”¹é¡µé¢ä¸ä¼šç«‹å³è¢«å±•ç°ï¼Œå› æ­¤æˆ‘ä»¬å…³é—­ç¼“å­˜ï¼š</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å…³é—­Thymeleafçš„ç¼“å­˜</span></span><br><span class="line"><span class="meta">spring.thymeleaf.cache</span>=<span class="string">false</span></span><br></pre></td></tr></table></figure><p>å¦å¤–ï¼Œä¿®æ”¹å®Œæ¯•é¡µé¢ï¼Œéœ€è¦ä½¿ç”¨å¿«æ·é”®ï¼š<code>Ctrl + Shift + F9</code>æ¥åˆ·æ–°å·¥ç¨‹ã€‚</p><h2 id="å¿«é€Ÿå¼€å§‹">å¿«é€Ÿå¼€å§‹</h2><p>å‡†å¤‡ä¸€ä¸ªcontrollerï¼Œæ§åˆ¶è§†å›¾è·³è½¬ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloThymeleaf</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"show1"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">show1</span><span class="params">(Model model)</span></span>&#123;</span><br><span class="line">        model.addAttribute(<span class="string">"msg"</span>,<span class="string">"Hello Thymeleaf"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"hello1"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ–°å»ºä¸€ä¸ªhtmlæ¨¡æ¿å‘½åä¸º<code>hello1.html</code>ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span> <span class="attr">xmlns:th</span>=<span class="string">"http://www.thymeleaf.org"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$&#123;msg&#125;"</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>ï¼ŒæŠŠhtml çš„åç§°ç©ºé—´ï¼Œæ”¹æˆï¼š<code>xmlns:th=&quot;http://www.thymeleaf.org&quot;</code> ä¼šæœ‰è¯­æ³•æç¤º</p><p>å¦‚æœæ²¡æœ‰æç¤ºï¼Œä½¿ç”¨å¿«æ·é”®<code>Ctrl + Alt + S</code>è¿›å…¥è®¾ç½®</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/08/14/20200814013652.png" alt="image-20200814013652037"></p><p>å‹¾é€‰Thymeleafæ’ä»¶å³å¯ã€‚</p><p>å¯åŠ¨é¡¹ç›®ï¼Œè®¿é—®é¡µé¢ï¼šlocalhost:8080/show1</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/08/14/20200814015845.png" alt="image-20200814015845146"></p><h1>è¯­æ³•</h1><p>Thymeleafçš„ä¸»è¦ä½œç”¨æ˜¯æŠŠmodelä¸­çš„æ•°æ®æ¸²æŸ“åˆ°htmlä¸­ï¼Œå› æ­¤å…¶è¯­æ³•ä¸»è¦æ˜¯å¦‚ä½•è§£æmodelä¸­çš„æ•°æ®ã€‚ä»ä»¥ä¸‹æ–¹é¢æ¥å­¦ä¹ ï¼š</p><ul><li>å˜é‡</li><li>æ–¹æ³•</li><li>æ¡ä»¶åˆ¤æ–­</li><li>å¾ªç¯</li><li>è¿ç®—<ul><li>é€»è¾‘è¿ç®—</li><li>å¸ƒå°”è¿ç®—</li><li>æ¯”è¾ƒè¿ç®—</li><li>æ¡ä»¶è¿ç®—</li></ul></li><li>å…¶å®ƒ</li></ul><h2 id="å˜é‡">å˜é‡</h2><h3 id="å˜é‡æ¡ˆä¾‹">å˜é‡æ¡ˆä¾‹</h3><p>æˆ‘ä»¬å…ˆæ–°å»ºä¸€ä¸ªå®ä½“ç±»ï¼šUser</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ€§åˆ«</span></span><br><span class="line"><span class="comment">     * 0ç”· 1å¥³</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">byte</span> sex;</span><br><span class="line">    <span class="keyword">private</span> User friend;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// TODO get set and construction </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨Controllerä¸­æ·»åŠ æ•°æ®</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping</span>(<span class="string">"show2"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">show2</span><span class="params">(Model model)</span></span>&#123;</span><br><span class="line">    User user = <span class="keyword">new</span> User();</span><br><span class="line">    user.setName(<span class="string">"Tom"</span>);</span><br><span class="line">    user.setAge(<span class="number">10</span>);</span><br><span class="line">    user.setSex(<span class="number">0</span>);</span><br><span class="line">    user.setFriend(<span class="keyword">new</span> User(<span class="string">"Jerry"</span>,<span class="number">9</span>,<span class="number">1</span>));</span><br><span class="line">    model.addAttribute(<span class="string">"user"</span>,user);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"hello2"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¯­æ³•è¯´æ˜ï¼š</p></blockquote><p>Thymeleafé€šè¿‡<code>${}</code>æ¥è·å–modelä¸­çš„å˜é‡ï¼Œæ³¨æ„è¿™ä¸æ˜¯elè¡¨è¾¾å¼ï¼Œè€Œæ˜¯ognlè¡¨è¾¾å¼ï¼Œä½†æ˜¯è¯­æ³•éå¸¸åƒã€‚</p><blockquote><p>ç¤ºä¾‹ï¼š</p></blockquote><p>æˆ‘ä»¬åœ¨<code>hello2.html</code>é¡µé¢è·å–useræ•°æ®ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span> <span class="attr">xmlns:th</span>=<span class="string">"http://www.thymeleaf.org"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><br><span class="line">    æ¬¢è¿æ‚¨ï¼š<span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;user.name&#125;"</span>&gt;</span>è¯·ç™»å½•<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ•ˆæœï¼š</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/08/14/20200814015902.png" alt="image-20200814015902282"></p><p>æ„Ÿè§‰è·Ÿelè¡¨è¾¾å¼å‡ ä¹æ˜¯ä¸€æ ·çš„ã€‚ä¸è¿‡åŒºåˆ«åœ¨äºï¼Œæˆ‘ä»¬çš„è¡¨è¾¾å¼å†™åœ¨ä¸€ä¸ªåä¸ºï¼š<code>th:text</code>çš„æ ‡ç­¾å±æ€§ä¸­ï¼Œè¿™ä¸ªå«åš<code>æŒ‡ä»¤</code></p><h3 id="åŠ¨é™ç»“åˆ">åŠ¨é™ç»“åˆ</h3><blockquote><p>æŒ‡ä»¤ï¼š</p></blockquote><p>Thymeleafå´‡å°š<code>è‡ªç„¶æ¨¡æ¿</code>ï¼Œæ„æ€å°±æ˜¯æ¨¡æ¿æ˜¯çº¯æ­£çš„htmlä»£ç ï¼Œè„±ç¦»æ¨¡æ¿å¼•æ“ï¼Œåœ¨çº¯é™æ€ç¯å¢ƒä¹Ÿå¯ä»¥ç›´æ¥è¿è¡Œã€‚ç°åœ¨å¦‚æœæˆ‘ä»¬ç›´æ¥åœ¨htmlä¸­ç¼–å†™ <code>${}</code>è¿™æ ·çš„è¡¨è¾¾å¼ï¼Œæ˜¾ç„¶åœ¨é™æ€ç¯å¢ƒä¸‹å°±ä¼šå‡ºé”™ï¼Œè¿™ä¸ç¬¦åˆThymeleafçš„ç†å¿µã€‚</p><p>Thymeleafä¸­æ‰€æœ‰çš„è¡¨è¾¾å¼éƒ½éœ€è¦å†™åœ¨<code>æŒ‡ä»¤</code>ä¸­ï¼ŒæŒ‡ä»¤æ˜¯HTML5ä¸­çš„è‡ªå®šä¹‰å±æ€§ï¼Œåœ¨Thymeleafä¸­æ‰€æœ‰æŒ‡ä»¤éƒ½æ˜¯ä»¥<code>th:</code>å¼€å¤´ã€‚å› ä¸ºè¡¨è¾¾å¼<code>${user.name}</code>æ˜¯å†™åœ¨è‡ªå®šä¹‰å±æ€§ä¸­ï¼Œå› æ­¤åœ¨é™æ€ç¯å¢ƒä¸‹ï¼Œè¡¨è¾¾å¼çš„å†…å®¹ä¼šè¢«å½“åšæ˜¯æ™®é€šå­—ç¬¦ä¸²ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨å¿½ç•¥è¿™äº›æŒ‡ä»¤ï¼Œè¿™æ ·å°±ä¸ä¼šæŠ¥é”™äº†ï¼</p><p>ç°åœ¨ï¼Œæˆ‘ä»¬ä¸ç»è¿‡SpringMVCï¼Œè€Œæ˜¯ç›´æ¥ç”¨æµè§ˆå™¨æ‰“å¼€é¡µé¢çœ‹çœ‹ï¼š</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/08/14/20200814020231.png" alt="image-20200814020230997"></p><ul><li>é™æ€é¡µé¢ä¸­ï¼Œ<code>th</code>æŒ‡ä»¤ä¸è¢«è¯†åˆ«ï¼Œä½†æ˜¯æµè§ˆå™¨ä¹Ÿä¸ä¼šæŠ¥é”™ï¼ŒæŠŠå®ƒå½“åšä¸€ä¸ªæ™®é€šå±æ€§å¤„ç†ã€‚è¿™æ ·<code>span</code>çš„é»˜è®¤å€¼<code>è¯·ç™»å½•</code>å°±ä¼šå±•ç°åœ¨é¡µé¢</li><li>å¦‚æœæ˜¯åœ¨Thymeleafç¯å¢ƒä¸‹ï¼Œ<code>th</code>æŒ‡ä»¤å°±ä¼šè¢«è¯†åˆ«å’Œè§£æï¼Œè€Œ<code>th:text</code>çš„å«ä¹‰å°±æ˜¯<strong>æ›¿æ¢æ‰€åœ¨æ ‡ç­¾ä¸­çš„æ–‡æœ¬å†…å®¹</strong>ï¼Œäºæ˜¯<code>user.name</code>çš„å€¼å°±æ›¿ä»£äº† <code>span</code>ä¸­é»˜è®¤çš„è¯·ç™»å½•</li></ul><p>æŒ‡ä»¤çš„è®¾è®¡ï¼Œæ­£æ˜¯Thymeleafçš„é«˜æ˜ä¹‹å¤„ï¼Œä¹Ÿæ˜¯å®ƒä¼˜äºå…¶å®ƒæ¨¡æ¿å¼•æ“çš„åŸå› ã€‚åŠ¨é™ç»“åˆçš„è®¾è®¡ï¼Œä½¿å¾—æ— è®ºæ˜¯å‰ç«¯å¼€å‘äººå‘˜è¿˜æ˜¯åç«¯å¼€å‘äººå‘˜å¯ä»¥å®Œç¾å¥‘åˆã€‚</p><blockquote><p>å‘ä¸‹å…¼å®¹</p></blockquote><p>ä½†æ˜¯è¦æ³¨æ„ï¼Œå¦‚æœæµè§ˆå™¨ä¸æ”¯æŒHtml5æ€ä¹ˆåŠï¼Ÿ</p><p>å¦‚æœä¸æ”¯æŒè¿™ç§<code>th:</code>çš„å‘½åç©ºé—´å†™æ³•ï¼Œé‚£ä¹ˆå¯ä»¥æŠŠ<code>th:text</code>æ¢æˆ <code>data-th-text</code>ï¼ŒThymeleafä¹Ÿå¯ä»¥å…¼å®¹ã€‚</p><blockquote><p>escape</p></blockquote><p>å¦å¤–ï¼Œ<code>th:text</code>æŒ‡ä»¤å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œä¼šæŠŠè¡¨è¾¾å¼è¯»å–åˆ°çš„å€¼è¿›è¡Œå¤„ç†ï¼Œé˜²æ­¢htmlçš„æ³¨å…¥ã€‚</p><p>ä¾‹å¦‚ï¼Œ<code>&lt;p&gt;ä½ å¥½&lt;/p&gt;</code>å°†ä¼šè¢«æ ¼å¼åŒ–è¾“å‡ºä¸º<code>$lt;p$gt;ä½ å¥½$lt;/p$lt;</code>ã€‚</p><p>å¦‚æœæƒ³è¦ä¸è¿›è¡Œæ ¼å¼åŒ–è¾“å‡ºï¼Œè€Œæ˜¯è¦è¾“å‡ºåŸå§‹å†…å®¹ï¼Œåˆ™ä½¿ç”¨<code>th:utext</code>æ¥ä»£æ›¿.</p><h3 id="ognlè¡¨è¾¾å¼çš„è¯­æ³•ç³–">ognlè¡¨è¾¾å¼çš„è¯­æ³•ç³–</h3><p>åˆšæ‰è·å–å˜é‡å€¼ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ç»å…¸çš„<code>å¯¹è±¡.å±æ€§å</code>æ–¹å¼ã€‚ä½†æœ‰äº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬çš„å±æ€§åå¯èƒ½æœ¬èº«ä¹Ÿæ˜¯å˜é‡ï¼Œæ€ä¹ˆåŠï¼Ÿ</p><p>ognlæä¾›äº†ç±»ä¼¼jsçš„è¯­æ³•æ–¹å¼ï¼š</p><p>ä¾‹å¦‚ï¼š<code>${user.name}</code> å¯ä»¥å†™ä½œ<code>${user['name']}</code></p><h2 id="è‡ªå®šä¹‰å˜é‡">è‡ªå®šä¹‰å˜é‡</h2><blockquote><p>åœºæ™¯</p></blockquote><p>çœ‹ä¸‹é¢çš„æ¡ˆä¾‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Name: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;user.name&#125;"</span>&gt;</span>Jack<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Age: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;user.age&#125;"</span>&gt;</span>21<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>friend: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;user.friend.name&#125;"</span>&gt;</span>Rose<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬è·å–ç”¨æˆ·çš„æ‰€æœ‰ä¿¡æ¯ï¼Œåˆ†åˆ«å±•ç¤ºã€‚</p><p>å½“æ•°æ®é‡æ¯”è¾ƒå¤šçš„æ—¶å€™ï¼Œé¢‘ç¹çš„å†™<code>user.</code>å°±ä¼šéå¸¸éº»çƒ¦ã€‚</p><p>å› æ­¤ï¼ŒThymeleafæä¾›äº†è‡ªå®šä¹‰å˜é‡æ¥è§£å†³ï¼š</p><blockquote><p>ç¤ºä¾‹ï¼š</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">th:object</span>=<span class="string">"$&#123;user&#125;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Name: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"*&#123;name&#125;"</span>&gt;</span>Jack<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Age: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"*&#123;age&#125;"</span>&gt;</span>21<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>friend: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"*&#123;friend.name&#125;"</span>&gt;</span>Rose<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>é¦–å…ˆåœ¨ <code>h2</code>ä¸Š ç”¨ <code>th:object=&quot;${user}&quot;</code>è·å–userçš„å€¼ï¼Œå¹¶ä¸”ä¿å­˜</li><li>ç„¶åï¼Œåœ¨<code>h2</code>å†…éƒ¨çš„ä»»æ„å…ƒç´ ä¸Šï¼Œå¯ä»¥é€šè¿‡ <code>*{å±æ€§å}</code>çš„æ–¹å¼ï¼Œæ¥è·å–userä¸­çš„å±æ€§ï¼Œè¿™æ ·å°±çœå»äº†å¤§é‡çš„<code>user.</code>å‰ç¼€äº†</li></ul><h2 id="æ–¹æ³•">æ–¹æ³•</h2><blockquote><p>ognlè¡¨è¾¾å¼ä¸­çš„æ–¹æ³•è°ƒç”¨</p></blockquote><p>ognlè¡¨è¾¾å¼æœ¬èº«å°±æ”¯æŒæ–¹æ³•è°ƒç”¨ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">th:object</span>=<span class="string">"$&#123;user&#125;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>FirstName: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"*&#123;name.split(' ')[0]&#125;"</span>&gt;</span>Jack<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>LastName: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"*&#123;name.split(' ')[1]&#125;"</span>&gt;</span>Li<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>è¿™é‡Œæˆ‘ä»¬è°ƒç”¨äº†nameï¼ˆæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼‰çš„splitæ–¹æ³•ã€‚</li></ul><blockquote><p>Thymeleafå†…ç½®å¯¹è±¡</p></blockquote><p>Thymeleafä¸­æä¾›äº†ä¸€äº›å†…ç½®å¯¹è±¡ï¼Œå¹¶ä¸”åœ¨è¿™äº›å¯¹è±¡ä¸­æä¾›äº†ä¸€äº›æ–¹æ³•ï¼Œæ–¹ä¾¿æˆ‘ä»¬æ¥è°ƒç”¨ã€‚è·å–è¿™äº›å¯¹è±¡ï¼Œéœ€è¦ä½¿ç”¨<code>#å¯¹è±¡å</code>æ¥å¼•ç”¨ã€‚</p><ul><li>ä¸€äº›ç¯å¢ƒç›¸å…³å¯¹è±¡</li></ul><table><thead><tr><th style="text-align:center">å¯¹è±¡</th><th style="text-align:left">ä½œç”¨</th></tr></thead><tbody><tr><td style="text-align:center"><code>#ctx</code></td><td style="text-align:left">è·å–Thymeleafè‡ªå·±çš„Contextå¯¹è±¡</td></tr><tr><td style="text-align:center"><code>#requset</code></td><td style="text-align:left">å¦‚æœæ˜¯webç¨‹åºï¼Œå¯ä»¥è·å–HttpServletRequestå¯¹è±¡</td></tr><tr><td style="text-align:center"><code>#response</code></td><td style="text-align:left">å¦‚æœæ˜¯webç¨‹åºï¼Œå¯ä»¥è·å–HttpServletReponseå¯¹è±¡</td></tr><tr><td style="text-align:center"><code>#session</code></td><td style="text-align:left">å¦‚æœæ˜¯webç¨‹åºï¼Œå¯ä»¥è·å–HttpSessionå¯¹è±¡</td></tr><tr><td style="text-align:center"><code>#servletContext</code></td><td style="text-align:left">å¦‚æœæ˜¯webç¨‹åºï¼Œå¯ä»¥è·å–HttpServletContextå¯¹è±¡</td></tr><tr><td style="text-align:center"></td><td style="text-align:left"></td></tr></tbody></table><ul><li>Thymeleafæä¾›çš„å…¨å±€å¯¹è±¡ï¼š</li></ul><table><thead><tr><th style="text-align:center">å¯¹è±¡</th><th style="text-align:left">ä½œç”¨</th></tr></thead><tbody><tr><td style="text-align:center"><code>#dates</code></td><td style="text-align:left">å¤„ç†java.util.dateçš„å·¥å…·å¯¹è±¡</td></tr><tr><td style="text-align:center"><code>#calendars</code></td><td style="text-align:left">å¤„ç†java.util.calendarçš„å·¥å…·å¯¹è±¡</td></tr><tr><td style="text-align:center"><code>#numbers</code></td><td style="text-align:left">ç”¨æ¥å¯¹æ•°å­—æ ¼å¼åŒ–çš„æ–¹æ³•</td></tr><tr><td style="text-align:center"><code>#strings</code></td><td style="text-align:left">ç”¨æ¥å¤„ç†å­—ç¬¦ä¸²çš„æ–¹æ³•</td></tr><tr><td style="text-align:center"><code>#bools</code></td><td style="text-align:left">ç”¨æ¥åˆ¤æ–­å¸ƒå°”å€¼çš„æ–¹æ³•</td></tr><tr><td style="text-align:center"><code>#arrays</code></td><td style="text-align:left">ç”¨æ¥æŠ¤ç†æ•°ç»„çš„æ–¹æ³•</td></tr><tr><td style="text-align:center"><code>#lists</code></td><td style="text-align:left">ç”¨æ¥å¤„ç†Listé›†åˆçš„æ–¹æ³•</td></tr><tr><td style="text-align:center"><code>#sets</code></td><td style="text-align:left">ç”¨æ¥å¤„ç†seté›†åˆçš„æ–¹æ³•</td></tr><tr><td style="text-align:center"><code>#maps</code></td><td style="text-align:left">ç”¨æ¥å¤„ç†mapé›†åˆçš„æ–¹æ³•</td></tr></tbody></table><ul><li>ä¸¾ä¾‹</li></ul><p>æˆ‘ä»¬åœ¨ç¯å¢ƒå˜é‡ä¸­æ·»åŠ æ—¥æœŸç±»å‹å¯¹è±¡</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping</span>(<span class="string">"show3"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">show3</span><span class="params">(Model model)</span></span>&#123;</span><br><span class="line">    model.addAttribute(<span class="string">"today"</span>, <span class="keyword">new</span> Date());</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"hello3"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ–°å»º<code>hello3.html</code>é¡µé¢</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span> <span class="attr">xmlns:th</span>=<span class="string">"http://www.thymeleaf.org"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    ä»Šå¤©æ˜¯: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;#dates.format(today,'yyyy-MM-dd HH:mm:ss')&#125;"</span>&gt;</span>2020-08-14<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ•ˆæœï¼š</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/08/14/20200814020935.png" alt="20200814020935"></p><h2 id="å­—é¢å€¼">å­—é¢å€¼</h2><p>æœ‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦åœ¨æŒ‡ä»¤ä¸­å¡«å†™åŸºæœ¬ç±»å‹å¦‚ï¼šå­—ç¬¦ä¸²ã€æ•°å€¼ã€å¸ƒå°”ç­‰ï¼Œå¹¶ä¸å¸Œæœ›è¢«Thymeleafè§£æä¸ºå˜é‡ï¼Œè¿™ä¸ªæ—¶å€™ç§°ä¸ºå­—é¢å€¼ã€‚</p><ul><li><p>å­—ç¬¦ä¸²å­—é¢å€¼</p><p>ä½¿ç”¨ä¸€å¯¹<code>'</code>å¼•ç”¨çš„å†…å®¹å°±æ˜¯å­—ç¬¦ä¸²å­—é¢å€¼äº†ï¼šåœ¨hello3.htmlä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">  ä½ æ­£åœ¨è§‚çœ‹ <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"'thymeleaf'"</span>&gt;</span>template<span class="tag">&lt;/<span class="name">span</span>&gt;</span> çš„å­—ç¬¦ä¸²å¸¸é‡å€¼.</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>th:text</code>ä¸­çš„thymeleafå¹¶ä¸ä¼šè¢«è®¤ä¸ºæ˜¯å˜é‡ï¼Œè€Œæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/08/14/20200814021510.png" alt="image-20200814021510093"></p></li><li><p>æ•°å­—å­—é¢å€¼</p><p>æ•°å­—ä¸éœ€è¦ä»»ä½•ç‰¹æ®Šè¯­æ³•ï¼Œ å†™çš„ä»€ä¹ˆå°±æ˜¯ä»€ä¹ˆï¼Œè€Œä¸”å¯ä»¥ç›´æ¥è¿›è¡Œç®—æœ¯è¿ç®—</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>ä»Šå¹´æ˜¯ <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"2020"</span>&gt;</span>1900<span class="tag">&lt;/<span class="name">span</span>&gt;</span>å¹´.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>åå¹´åå°†ä¼šæ˜¯ <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"2020 + 10"</span>&gt;</span>1910<span class="tag">&lt;/<span class="name">span</span>&gt;</span>å¹´.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/08/14/20200814022030.png" alt="image-20200814022030294"></p></li><li><p>å¸ƒå°”å­—é¢å€¼</p><p>å¸ƒå°”ç±»å‹çš„å­—é¢å€¼æ˜¯trueæˆ–falseï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:if</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">    ä½ å¡«çš„æ˜¯true</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œå¼•ç”¨äº†ä¸€ä¸ª<code>th:if</code>æŒ‡ä»¤ï¼Œè·Ÿvueä¸­çš„<code>v-if</code>ç±»ä¼¼</p></li></ul><h2 id="æ‹¼æ¥">æ‹¼æ¥</h2><p>æˆ‘ä»¬ç»å¸¸ä¼šç”¨åˆ°æ™®é€šå­—ç¬¦ä¸²ä¸è¡¨è¾¾å¼æ‹¼æ¥çš„æƒ…å†µï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;span th:text&#x3D;&quot;&#39;æ¬¢è¿æ‚¨:&#39; + $&#123;user.name&#125; + &#39;!&#39;&quot;&gt;&lt;&#x2F;span&gt;</span><br></pre></td></tr></table></figure><p>å­—ç¬¦ä¸²å­—é¢å€¼éœ€è¦ç”¨<code>''</code>ï¼Œæ‹¼æ¥èµ·æ¥éå¸¸éº»çƒ¦ï¼ŒThymeleafå¯¹æ­¤è¿›è¡Œäº†ç®€åŒ–ï¼Œä½¿ç”¨ä¸€å¯¹<code>|</code>å³å¯ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;span th:text&#x3D;&quot;|æ¬¢è¿æ‚¨:$&#123;user.name&#125;|&quot;&gt;&lt;&#x2F;span&gt;</span><br></pre></td></tr></table></figure><p>ä¸ä¸Šé¢æ˜¯å®Œå…¨ç­‰æ•ˆçš„ï¼Œè¿™æ ·å°±çœå»äº†å­—ç¬¦ä¸²å­—é¢å€¼çš„ä¹¦å†™ã€‚</p><p>ä¿®æ”¹äº†<code>hello2.html</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span> <span class="attr">xmlns:th</span>=<span class="string">"http://www.thymeleaf.org"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><br><span class="line">    æ¬¢è¿æ‚¨: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;user.name&#125;"</span>&gt;</span>è¯·ç™»å½•<span class="tag">&lt;/<span class="name">span</span>&gt;</span>!</span><br><span class="line"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"'æ¬¢è¿æ‚¨: ' + $&#123;user.name&#125; + '!'"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"|æ¬¢è¿æ‚¨: $&#123;user.name&#125; !|"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç»“æœï¼š</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/08/14/20200814022540.png" alt="image-20200814022540599"></p><h2 id="è¿ç®—">è¿ç®—</h2><p>éœ€è¦æ³¨æ„ï¼š<code>${}</code>å†…éƒ¨çš„æ˜¯é€šè¿‡OGNLè¡¨è¾¾å¼å¼•æ“è§£æçš„ï¼Œå¤–éƒ¨çš„æ‰æ˜¯é€šè¿‡Thymeleafçš„å¼•æ“è§£æï¼Œå› æ­¤è¿ç®—ç¬¦å°½é‡æ”¾åœ¨<code>${}</code>å¤–è¿›è¡Œã€‚</p><ul><li><p>ç®—æœ¯è¿ç®—</p><p>æ”¯æŒçš„ç®—æœ¯è¿ç®—ç¬¦ï¼š<code>+ - * / %</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"|Age: $&#123;user.age&#125;|"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;user.age&#125;%2 == 0"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/08/14/20200814022918.png" alt="image-20200814022918121"></p></li><li><p>æ¯”è¾ƒè¿ç®—</p><p>æ”¯æŒçš„æ¯”è¾ƒè¿ç®—ï¼š<code>&gt;</code>, <code>&lt;</code>, <code>&gt;=</code> and <code>&lt;=</code>  ï¼Œä½†æ˜¯<code>&gt;</code>, <code>&lt;</code>ä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼Œå› ä¸ºxmlä¼šè§£æä¸ºæ ‡ç­¾ï¼Œè¦ä½¿ç”¨åˆ«åã€‚</p><p>æ³¨æ„ <code>==</code> and <code>!=</code>ä¸ä»…å¯ä»¥æ¯”è¾ƒæ•°å€¼ï¼Œç±»ä¼¼äºequalsçš„åŠŸèƒ½ã€‚</p><p>å¯ä»¥ä½¿ç”¨çš„åˆ«åï¼š<code>gt (&gt;), lt (&lt;), ge (&gt;=), le (&lt;=), not (!). Also eq (==), neq/ne (!=).</code></p></li><li><p>æ¡ä»¶è¿ç®—</p><ul><li><p>ä¸‰å…ƒè¿ç®—</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;user.sex&#125;==0 ? 'ç”·':'å¥³'"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/08/14/20200814023223.png" alt="image-20200814023223659"></p><p>ä¸‰å…ƒè¿ç®—ç¬¦çš„ä¸‰ä¸ªéƒ¨åˆ†ï¼šconditon ? then : else</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">conditionï¼šæ¡ä»¶</span><br><span class="line"></span><br><span class="line">thenï¼šæ¡ä»¶æˆç«‹çš„ç»“æœ</span><br><span class="line"></span><br><span class="line">elseï¼šä¸æˆç«‹çš„ç»“æœ</span><br></pre></td></tr></table></figure></li><li><p>é»˜è®¤å€¼</p><p>æœ‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬å–ä¸€ä¸ªå€¼å¯èƒ½ä¸ºç©ºï¼Œè¿™ä¸ªæ—¶å€™éœ€è¦åšéç©ºåˆ¤æ–­ï¼Œå¯ä»¥ä½¿ç”¨ <code>è¡¨è¾¾å¼ ?: é»˜è®¤å€¼</code>ç®€å†™ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;name&#125; ?: 'äºŒç‹—'"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/08/14/20200814023518.png" alt="image-20200814023518919"></p></li></ul></li></ul><h2 id="å¾ªç¯">å¾ªç¯</h2><p>å¾ªç¯ä¹Ÿæ˜¯éå¸¸é¢‘ç¹ä½¿ç”¨çš„éœ€æ±‚ï¼Œæˆ‘ä»¬ä½¿ç”¨<code>th:each</code>æŒ‡ä»¤æ¥å®Œæˆï¼š</p><p>å‡å¦‚æœ‰ç”¨æˆ·çš„é›†åˆï¼šusersåœ¨Contextä¸­ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">tr</span> <span class="attr">th:each</span>=<span class="string">"user : $&#123;users&#125;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"$&#123;user.name&#125;"</span>&gt;</span>Name<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"$&#123;user.age&#125;"</span>&gt;</span>Age<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br></pre></td></tr></table></figure><p>${users} æ˜¯è¦éå†çš„é›†åˆï¼Œå¯ä»¥æ˜¯ä»¥ä¸‹ç±»å‹ï¼š</p><ul><li>Iterableï¼Œå®ç°äº†Iterableæ¥å£çš„ç±»</li><li>Enumerationï¼Œæšä¸¾</li><li>Interatorï¼Œè¿­ä»£å™¨</li><li>Mapï¼Œéå†å¾—åˆ°çš„æ˜¯Map.Entry</li><li>Arrayï¼Œæ•°ç»„åŠå…¶å®ƒä¸€åˆ‡ç¬¦åˆæ•°ç»„ç»“æœçš„å¯¹è±¡</li></ul><p>åœ¨è¿­ä»£çš„åŒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è·å–è¿­ä»£çš„çŠ¶æ€å¯¹è±¡ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">tr</span> <span class="attr">th:each</span>=<span class="string">"user,stat : $&#123;users&#125;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"$&#123;user.name&#125;"</span>&gt;</span>Name<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"$&#123;user.age&#125;"</span>&gt;</span>Age<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br></pre></td></tr></table></figure><p>statå¯¹è±¡åŒ…å«ä»¥ä¸‹å±æ€§ï¼š</p><ul><li>indexï¼Œä»0å¼€å§‹çš„è§’æ ‡</li><li>countï¼Œå…ƒç´ çš„ä¸ªæ•°ï¼Œä»1å¼€å§‹</li><li>sizeï¼Œæ€»å…ƒç´ ä¸ªæ•°</li><li>currentï¼Œå½“å‰éå†åˆ°çš„å…ƒç´ </li><li>even/oddï¼Œè¿”å›æ˜¯å¦ä¸ºå¥‡å¶ï¼Œbooleanå€¼</li><li>first/lastï¼Œè¿”å›æ˜¯å¦ä¸ºç¬¬ä¸€æˆ–æœ€åï¼Œbooleanå€¼</li></ul><h2 id="é€»è¾‘åˆ¤æ–­">é€»è¾‘åˆ¤æ–­</h2><p>æœ‰äº†<code>ifå’Œelse</code>ï¼Œæˆ‘ä»¬èƒ½å®ç°ä¸€åˆ‡åŠŸèƒ½<sup>_</sup>ã€‚</p><p>Thymeleafä¸­ä½¿ç”¨<code>th:if</code> æˆ–è€… <code>th:unless</code> ï¼Œä¸¤è€…çš„æ„æ€æ°å¥½ç›¸åã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">th:if</span>=<span class="string">"$&#123;user.age&#125; &lt; 18"</span>&gt;</span>å°é²œè‚‰<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¦‚æœè¡¨è¾¾å¼çš„å€¼ä¸ºtrueï¼Œåˆ™æ ‡ç­¾ä¼šæ¸²æŸ“åˆ°é¡µé¢ï¼Œå¦åˆ™ä¸è¿›è¡Œæ¸²æŸ“ã€‚</p><p>ä»¥ä¸‹æƒ…å†µè¢«è®¤å®šä¸ºtrueï¼š</p><ul><li>è¡¨è¾¾å¼å€¼ä¸ºtrue</li><li>è¡¨è¾¾å¼å€¼ä¸ºé0æ•°å€¼</li><li>è¡¨è¾¾å¼å€¼ä¸ºé0å­—ç¬¦</li><li>è¡¨è¾¾å¼å€¼ä¸ºå­—ç¬¦ä¸²ï¼Œä½†ä¸æ˜¯<code>&quot;false&quot;</code>,<code>&quot;no&quot;</code>,<code>&quot;off&quot;</code></li><li>è¡¨è¾¾å¼ä¸æ˜¯å¸ƒå°”ã€å­—ç¬¦ä¸²ã€æ•°å­—ã€å­—ç¬¦ä¸­çš„ä»»ä½•ä¸€ç§</li></ul><p>å…¶å®ƒæƒ…å†µåŒ…æ‹¬nulléƒ½è¢«è®¤å®šä¸ºfalse</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/08/14/20200814023956.png" alt="image-20200814023956092"></p><h2 id="åˆ†æ”¯æ§åˆ¶switch">åˆ†æ”¯æ§åˆ¶switch</h2><p>è¿™é‡Œè¦ä½¿ç”¨ä¸¤ä¸ªæŒ‡ä»¤ï¼š<code>th:switch</code> å’Œ <code>th:case</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span> <span class="attr">xmlns:th</span>=<span class="string">"http://www.thymeleaf.org"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:switch</span>=<span class="string">"$&#123;user.role&#125;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">th:case</span>=<span class="string">"'admin'"</span>&gt;</span>ç®¡ç†å‘˜<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">th:case</span>=<span class="string">"'manager'"</span>&gt;</span>ç»ç†<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">th:case</span>=<span class="string">"*"</span>&gt;</span>å…¶ä»–ç”¨æˆ·<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Controller</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping</span>(<span class="string">"show4"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">show4</span><span class="params">(Model model)</span></span>&#123;</span><br><span class="line">    User user = <span class="keyword">new</span> User();</span><br><span class="line">    user.setName(<span class="string">"Carey"</span>);</span><br><span class="line">    user.setAge(<span class="number">20</span>);</span><br><span class="line">    user.setSex(<span class="number">0</span>);</span><br><span class="line">    user.setRole(<span class="string">"admin"</span>);</span><br><span class="line">    model.addAttribute(<span class="string">"user"</span>,user);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"hello4"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸€æ—¦æœ‰ä¸€ä¸ªth:caseæˆç«‹ï¼Œå…¶å®ƒçš„åˆ™ä¸å†åˆ¤æ–­ã€‚ä¸javaä¸­çš„switchæ˜¯ä¸€æ ·çš„ã€‚</p><p>å¦å¤–<code>th:case=&quot;*&quot;</code>è¡¨ç¤ºé»˜è®¤ï¼Œæ”¾æœ€åã€‚</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/08/14/20200814024904.png" alt="image-20200814024904501"></p><h2 id="JSæ¨¡æ¿">JSæ¨¡æ¿</h2><p>æ¨¡æ¿å¼•æ“ä¸ä»…å¯ä»¥æ¸²æŸ“htmlï¼Œä¹Ÿå¯ä»¥å¯¹JSä¸­çš„è¿›è¡Œé¢„å¤„ç†ã€‚è€Œä¸”ä¸ºäº†åœ¨çº¯é™æ€ç¯å¢ƒä¸‹å¯ä»¥è¿è¡Œï¼Œå…¶Thymeleafä»£ç å¯ä»¥è¢«æ³¨é‡Šèµ·æ¥ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">th:inline</span>=<span class="string">"javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">const</span> user = <span class="comment">/*[[$&#123;user&#125;]]*/</span> &#123;&#125;;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">const</span> age = <span class="comment">/*[[$&#123;user.age&#125;]]*/</span> <span class="number">20</span>;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(user);</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(age)</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><p>åœ¨scriptæ ‡ç­¾ä¸­é€šè¿‡<code>th:inline=&quot;javascript&quot;</code>æ¥å£°æ˜è¿™æ˜¯è¦ç‰¹æ®Šå¤„ç†çš„jsè„šæœ¬</p></li><li><p>è¯­æ³•ç»“æ„ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> user = <span class="comment">/*[[Thymeleafè¡¨è¾¾å¼]]*/</span> <span class="string">"é™æ€ç¯å¢ƒä¸‹çš„é»˜è®¤å€¼"</span>;</span><br></pre></td></tr></table></figure><p>å› ä¸ºThymeleafè¢«æ³¨é‡Šèµ·æ¥ï¼Œå› æ­¤å³ä¾¿æ˜¯é™æ€ç¯å¢ƒä¸‹ï¼Œ jsä»£ç ä¹Ÿä¸ä¼šæŠ¥é”™ï¼Œè€Œæ˜¯é‡‡ç”¨è¡¨è¾¾å¼åé¢è·Ÿç€çš„é»˜è®¤å€¼ã€‚</p><p>çœ‹çœ‹é¡µé¢çš„æºç ï¼š</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/08/14/20200814025237.png" alt="image-20200814025237148"></p><p>Userå¯¹è±¡è¢«ç›´æ¥å¤„ç†ä¸ºjsonæ ¼å¼äº†ï¼Œéå¸¸æ–¹ä¾¿ã€‚</p><p>æ§åˆ¶å°ï¼š</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/08/14/20200814025321.png" alt="image-20200814025321551"></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
          <category> æ¨¡æ¿å¼•æ“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Thymeleaf </tag>
            
            <tag> æ¨¡æ¿å¼•æ“ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è·¨åŸŸè§£å†³æ–¹æ¡ˆ</title>
      <link href="/posts/20072601.html/"/>
      <url>/posts/20072601.html/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><div class="note info icon">            <p>æœ¬æ–‡ä½œè€…ï¼š <a href="https://segmentfault.com/u/hoby" target="_blank" rel="noopener">å®‰é™deæ²‰æ·€</a><br>æœ¬æ–‡é“¾æ¥ï¼š <a href="https://segmentfault.com/a/1190000011145364#item-3" target="_blank" rel="noopener">https://segmentfault.com/a/1190000011145364#item-3</a> å‰ç«¯å¸¸è§è·¨åŸŸè§£å†³æ–¹æ¡ˆï¼ˆå…¨ï¼‰</p>          </div><h1>è·¨åŸŸè§£å†³æ–¹æ¡ˆ</h1><ul><li><p>é€šè¿‡jsonpè·¨åŸŸ</p></li><li><p>document.domain + iframeè·¨åŸŸ</p></li><li><p>location.hash + iframe</p></li><li><p><a href="http://window.name" target="_blank" rel="noopener">window.name</a> + iframeè·¨åŸŸ</p></li><li><p>postMessageè·¨åŸŸ</p></li><li><p>è·¨åŸŸèµ„æºå…±äº«ï¼ˆCORSï¼‰</p></li><li><p>nginxä»£ç†è·¨åŸŸ</p></li><li><p>Nodejsä¸­é—´ä»¶ä»£ç†è·¨åŸŸ</p></li><li><p>WebSocketåè®®è·¨åŸŸ</p></li></ul><h2 id="é€šè¿‡jsonpè·¨åŸŸ">é€šè¿‡jsonpè·¨åŸŸ</h2><p>é€šå¸¸ä¸ºäº†å‡è½»webæœåŠ¡å™¨çš„è´Ÿè½½ï¼Œæˆ‘ä»¬æŠŠjsã€cssï¼Œimgç­‰é™æ€èµ„æºåˆ†ç¦»åˆ°å¦ä¸€å°ç‹¬ç«‹åŸŸåçš„æœåŠ¡å™¨ä¸Šï¼Œåœ¨htmlé¡µé¢ä¸­å†é€šè¿‡ç›¸åº”çš„æ ‡ç­¾ä»ä¸åŒåŸŸåä¸‹åŠ è½½é™æ€èµ„æºï¼Œè€Œè¢«æµè§ˆå™¨å…è®¸ï¼ŒåŸºäºæ­¤åŸç†ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åŠ¨æ€åˆ›å»ºscriptï¼Œå†è¯·æ±‚ä¸€ä¸ªå¸¦å‚ç½‘å€å®ç°è·¨åŸŸé€šä¿¡ã€‚</p><ul><li><p>åŸç”Ÿå®ç°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">   <span class="keyword">var</span> script = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>);</span><br><span class="line">   script.type = <span class="string">'text/javascript'</span>;</span><br><span class="line">  </span><br><span class="line">   <span class="comment">// ä¼ å‚ä¸€ä¸ªå›è°ƒå‡½æ•°åç»™åç«¯ï¼Œæ–¹ä¾¿åç«¯è¿”å›æ—¶æ‰§è¡Œè¿™ä¸ªåœ¨å‰ç«¯å®šä¹‰çš„å›è°ƒå‡½æ•°</span></span><br><span class="line">   script.src = <span class="string">'http://www.domain2.com:8080/login?user=admin&amp;callback=handleCallback'</span>;</span><br><span class="line">   <span class="built_in">document</span>.head.appendChild(script);</span><br><span class="line">  </span><br><span class="line">   <span class="comment">// å›è°ƒæ‰§è¡Œå‡½æ•°</span></span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">handleCallback</span>(<span class="params">res</span>) </span>&#123;</span><br><span class="line">       alert(<span class="built_in">JSON</span>.stringify(res));</span><br><span class="line">   &#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>æœåŠ¡ç«¯è¿”å›å¦‚ä¸‹ï¼ˆè¿”å›æ—¶å³æ‰§è¡Œå…¨å±€å‡½æ•°ï¼‰ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">handleCallback(&#123;<span class="string">"status"</span>: <span class="literal">true</span>, <span class="string">"user"</span>: <span class="string">"admin"</span>&#125;)</span><br></pre></td></tr></table></figure></li><li><p>jQuery ajaxï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$.ajax(&#123;</span><br><span class="line">    url: <span class="string">'http://www.domain2.com:8080/login'</span>,</span><br><span class="line">    type: <span class="string">'get'</span>,</span><br><span class="line">    dataType: <span class="string">'jsonp'</span>,  <span class="comment">// è¯·æ±‚æ–¹å¼ä¸ºjsonp</span></span><br><span class="line">    jsonpCallback: <span class="string">"handleCallback"</span>,    <span class="comment">// è‡ªå®šä¹‰å›è°ƒå‡½æ•°å</span></span><br><span class="line">    data: &#123;&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p>Vue.jsï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.$http.jsonp(<span class="string">'http://www.domain2.com:8080/login'</span>, &#123;</span><br><span class="line">    params: &#123;&#125;,</span><br><span class="line">    jsonp: <span class="string">'handleCallback'</span></span><br><span class="line">&#125;).then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res); </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>åç«¯Node.jsä»£ç ç¤ºä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> querystring = <span class="built_in">require</span>(<span class="string">'querystring'</span>);</span><br><span class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>);</span><br><span class="line"><span class="keyword">var</span> server = http.createServer();</span><br><span class="line"></span><br><span class="line">server.on(<span class="string">'request'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> params = qs.parse(req.url.split(<span class="string">'?'</span>)[<span class="number">1</span>]);</span><br><span class="line">    <span class="keyword">var</span> fn = params.callback;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// jsonpè¿”å›è®¾ç½®</span></span><br><span class="line">    res.writeHead(<span class="number">200</span>, &#123; <span class="string">'Content-Type'</span>: <span class="string">'text/javascript'</span> &#125;);</span><br><span class="line">    res.write(fn + <span class="string">'('</span> + <span class="built_in">JSON</span>.stringify(params) + <span class="string">')'</span>);</span><br><span class="line"></span><br><span class="line">    res.end();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">server.listen(<span class="string">'8080'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'Server is running at port 8080...'</span>);</span><br></pre></td></tr></table></figure><p><strong>jsonpç¼ºç‚¹ï¼šåªèƒ½å®ç°getä¸€ç§è¯·æ±‚ã€‚</strong></p></li></ul><h2 id="document-domain-iframeè·¨åŸŸ">document.domain + iframeè·¨åŸŸ</h2><p>æ­¤æ–¹æ¡ˆä»…é™ä¸»åŸŸç›¸åŒï¼Œå­åŸŸä¸åŒçš„è·¨åŸŸåº”ç”¨åœºæ™¯ã€‚</p><p>å®ç°åŸç†ï¼šä¸¤ä¸ªé¡µé¢éƒ½é€šè¿‡jså¼ºåˆ¶è®¾ç½®document.domainä¸ºåŸºç¡€ä¸»åŸŸï¼Œå°±å®ç°äº†åŒåŸŸã€‚</p><ul><li><p>çˆ¶çª—å£ï¼š(<a href="http://www.domain.com/a.html" target="_blank" rel="noopener">http://www.domain.com/a.html</a>)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;iframe id=<span class="string">"iframe"</span> src=<span class="string">"http://child.domain.com/b.html"</span>&gt;&lt;<span class="regexp">/iframe&gt;</span></span><br><span class="line"><span class="regexp">&lt;script&gt;</span></span><br><span class="line"><span class="regexp">    document.domain = 'domain.com';</span></span><br><span class="line"><span class="regexp">    var user = 'admin';</span></span><br><span class="line"><span class="regexp">&lt;/</span>script&gt;</span><br></pre></td></tr></table></figure></li><li><p>å­çª—å£ï¼š(<a href="http://child.domain.com/b.html" target="_blank" rel="noopener">http://child.domain.com/b.html</a>)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="built_in">document</span>.domain = <span class="string">'domain.com'</span>;</span><br><span class="line">    <span class="comment">// è·å–çˆ¶çª—å£ä¸­å˜é‡</span></span><br><span class="line">    alert(<span class="string">'get js data from parent ---&gt; '</span> + <span class="built_in">window</span>.parent.user);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="location-hash-iframe">location.hash + iframe</h2><p>å®ç°åŸç†ï¼š aæ¬²ä¸bè·¨åŸŸç›¸äº’é€šä¿¡ï¼Œé€šè¿‡ä¸­é—´é¡µcæ¥å®ç°ã€‚ ä¸‰ä¸ªé¡µé¢ï¼Œä¸åŒåŸŸä¹‹é—´åˆ©ç”¨iframeçš„location.hashä¼ å€¼ï¼Œç›¸åŒåŸŸä¹‹é—´ç›´æ¥jsè®¿é—®æ¥é€šä¿¡ã€‚</p><p>å…·ä½“å®ç°ï¼šAåŸŸï¼ša.html -&gt; BåŸŸï¼šb.html -&gt; AåŸŸï¼šc.htmlï¼Œaä¸bä¸åŒåŸŸåªèƒ½é€šè¿‡hashå€¼å•å‘é€šä¿¡ï¼Œbä¸cä¹Ÿä¸åŒåŸŸä¹Ÿåªèƒ½å•å‘é€šä¿¡ï¼Œä½†cä¸aåŒåŸŸï¼Œæ‰€ä»¥cå¯é€šè¿‡parent.parentè®¿é—®aé¡µé¢æ‰€æœ‰å¯¹è±¡ã€‚</p><ul><li><p>a.htmlï¼š(<a href="http://www.domain1.com/a.html" target="_blank" rel="noopener">http://www.domain1.com/a.html</a>)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;iframe id=<span class="string">"iframe"</span> src=<span class="string">"http://www.domain2.com/b.html"</span> style=<span class="string">"display:none;"</span>&gt;&lt;<span class="regexp">/iframe&gt;</span></span><br><span class="line"><span class="regexp">&lt;script&gt;</span></span><br><span class="line"><span class="regexp">    var iframe = document.getElementById('iframe');</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">    /</span><span class="regexp">/ å‘b.htmlä¼ hashå€¼</span></span><br><span class="line"><span class="regexp">    setTimeout(function() &#123;</span></span><br><span class="line"><span class="regexp">        iframe.src = iframe.src + '#user=admin';</span></span><br><span class="line"><span class="regexp">    &#125;, 1000);</span></span><br><span class="line"><span class="regexp">    </span></span><br><span class="line"><span class="regexp">    /</span><span class="regexp">/ å¼€æ”¾ç»™åŒåŸŸc.htmlçš„å›è°ƒæ–¹æ³•</span></span><br><span class="line"><span class="regexp">    function onCallback(res) &#123;</span></span><br><span class="line"><span class="regexp">        alert('data from c.html ---&gt; ' + res);</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">&lt;/</span>script&gt;</span><br></pre></td></tr></table></figure></li><li><p>b.htmlï¼š(<a href="http://www.domain2.com/b.html" target="_blank" rel="noopener">http://www.domain2.com/b.html</a>)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;iframe id=<span class="string">"iframe"</span> src=<span class="string">"http://www.domain1.com/c.html"</span> style=<span class="string">"display:none;"</span>&gt;&lt;<span class="regexp">/iframe&gt;</span></span><br><span class="line"><span class="regexp">&lt;script&gt;</span></span><br><span class="line"><span class="regexp">    var iframe = document.getElementById('iframe');</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">    /</span><span class="regexp">/ ç›‘å¬a.htmlä¼ æ¥çš„hashå€¼ï¼Œå†ä¼ ç»™c.html</span></span><br><span class="line"><span class="regexp">    window.onhashchange = function () &#123;</span></span><br><span class="line"><span class="regexp">        iframe.src = iframe.src + location.hash;</span></span><br><span class="line"><span class="regexp">    &#125;;</span></span><br><span class="line"><span class="regexp">&lt;/</span>script&gt;</span><br></pre></td></tr></table></figure></li><li><p>c.htmlï¼š(<a href="http://www.domain1.com/c.html" target="_blank" rel="noopener">http://www.domain1.com/c.html</a>)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="comment">// ç›‘å¬b.htmlä¼ æ¥çš„hashå€¼</span></span><br><span class="line">    <span class="built_in">window</span>.onhashchange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// å†é€šè¿‡æ“ä½œåŒåŸŸa.htmlçš„jså›è°ƒï¼Œå°†ç»“æœä¼ å›</span></span><br><span class="line">        <span class="built_in">window</span>.parent.parent.onCallback(<span class="string">'hello: '</span> + location.hash.replace(<span class="string">'#user='</span>, <span class="string">''</span>));</span><br><span class="line">    &#125;;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="window-name-iframeè·¨åŸŸ"><a href="http://window.name" target="_blank" rel="noopener">window.name</a> + iframeè·¨åŸŸ</h2><p>window.nameå±æ€§çš„ç‹¬ç‰¹ä¹‹å¤„ï¼šnameå€¼åœ¨ä¸åŒçš„é¡µé¢ï¼ˆç”šè‡³ä¸åŒåŸŸåï¼‰åŠ è½½åä¾æ—§å­˜åœ¨ï¼Œå¹¶ä¸”å¯ä»¥æ”¯æŒéå¸¸é•¿çš„ name å€¼ï¼ˆ2MBï¼‰ã€‚</p><ul><li>a.htmlï¼š(<a href="http://www.domain1.com/a.html" target="_blank" rel="noopener">http://www.domain1.com/a.html</a>)</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> proxy = <span class="function"><span class="keyword">function</span>(<span class="params">url, callback</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> state = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">var</span> iframe = <span class="built_in">document</span>.createElement(<span class="string">'iframe'</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åŠ è½½è·¨åŸŸé¡µé¢</span></span><br><span class="line">    iframe.src = url;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// onloadäº‹ä»¶ä¼šè§¦å‘2æ¬¡ï¼Œç¬¬1æ¬¡åŠ è½½è·¨åŸŸé¡µï¼Œå¹¶ç•™å­˜æ•°æ®äºwindow.name</span></span><br><span class="line">    iframe.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (state === <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="comment">// ç¬¬2æ¬¡onload(åŒåŸŸproxyé¡µ)æˆåŠŸåï¼Œè¯»å–åŒåŸŸwindow.nameä¸­æ•°æ®</span></span><br><span class="line">            callback(iframe.contentWindow.name);</span><br><span class="line">            destoryFrame();</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (state === <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">// ç¬¬1æ¬¡onload(è·¨åŸŸé¡µ)æˆåŠŸåï¼Œåˆ‡æ¢åˆ°åŒåŸŸä»£ç†é¡µé¢</span></span><br><span class="line">            iframe.contentWindow.location = <span class="string">'http://www.domain1.com/proxy.html'</span>;</span><br><span class="line">            state = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(iframe);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å–æ•°æ®ä»¥åé”€æ¯è¿™ä¸ªiframeï¼Œé‡Šæ”¾å†…å­˜ï¼›è¿™ä¹Ÿä¿è¯äº†å®‰å…¨ï¼ˆä¸è¢«å…¶ä»–åŸŸframe jsè®¿é—®ï¼‰</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">destoryFrame</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        iframe.contentWindow.document.write(<span class="string">''</span>);</span><br><span class="line">        iframe.contentWindow.close();</span><br><span class="line">        <span class="built_in">document</span>.body.removeChild(iframe);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¯·æ±‚è·¨åŸŸbé¡µé¢æ•°æ®</span></span><br><span class="line">proxy(<span class="string">'http://www.domain2.com/b.html'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">    alert(data);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><ul><li><p>proxy.htmlï¼š(<a href="http://www.domain1.com/proxy.html" target="_blank" rel="noopener">http://www.domain1.com/proxyâ€¦</a>)<br>ä¸­é—´ä»£ç†é¡µï¼Œä¸a.htmlåŒåŸŸï¼Œå†…å®¹ä¸ºç©ºå³å¯ã€‚</p></li><li><p>b.htmlï¼š(<a href="http://www.domain2.com/b.html" target="_blank" rel="noopener">http://www.domain2.com/b.html</a>)</p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="built_in">window</span>.name = <span class="string">'This is domain2 data!'</span>;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>æ€»ç»“ï¼šé€šè¿‡iframeçš„srcå±æ€§ç”±å¤–åŸŸè½¬å‘æœ¬åœ°åŸŸï¼Œè·¨åŸŸæ•°æ®å³ç”±iframeçš„window.nameä»å¤–åŸŸä¼ é€’åˆ°æœ¬åœ°åŸŸã€‚è¿™ä¸ªå°±å·§å¦™åœ°ç»•è¿‡äº†æµè§ˆå™¨çš„è·¨åŸŸè®¿é—®é™åˆ¶ï¼Œä½†åŒæ—¶å®ƒåˆæ˜¯å®‰å…¨æ“ä½œã€‚</p><h2 id="postMessageè·¨åŸŸ">postMessageè·¨åŸŸ</h2><p>postMessageæ˜¯HTML5 XMLHttpRequest Level 2ä¸­çš„APIï¼Œä¸”æ˜¯ä¸ºæ•°ä¸å¤šå¯ä»¥è·¨åŸŸæ“ä½œçš„windowå±æ€§ä¹‹ä¸€ï¼Œå®ƒå¯ç”¨äºè§£å†³ä»¥ä¸‹æ–¹é¢çš„é—®é¢˜ï¼š</p><ul><li>é¡µé¢å’Œå…¶æ‰“å¼€çš„æ–°çª—å£çš„æ•°æ®ä¼ é€’</li><li>å¤šçª—å£ä¹‹é—´æ¶ˆæ¯ä¼ é€’</li><li>é¡µé¢ä¸åµŒå¥—çš„iframeæ¶ˆæ¯ä¼ é€’</li><li>ä¸Šé¢ä¸‰ä¸ªåœºæ™¯çš„è·¨åŸŸæ•°æ®ä¼ é€’</li></ul><p>ç”¨æ³•ï¼špostMessage(data,origin)æ–¹æ³•æ¥å—ä¸¤ä¸ªå‚æ•°<br>dataï¼š html5è§„èŒƒæ”¯æŒä»»æ„åŸºæœ¬ç±»å‹æˆ–å¯å¤åˆ¶çš„å¯¹è±¡ï¼Œä½†éƒ¨åˆ†æµè§ˆå™¨åªæ”¯æŒå­—ç¬¦ä¸²ï¼Œæ‰€ä»¥ä¼ å‚æ—¶æœ€å¥½ç”¨JSON.stringify()åºåˆ—åŒ–ã€‚<br>originï¼š åè®®+ä¸»æœº+ç«¯å£å·ï¼Œä¹Ÿå¯ä»¥è®¾ç½®ä¸º&quot;*&quot;ï¼Œè¡¨ç¤ºå¯ä»¥ä¼ é€’ç»™ä»»æ„çª—å£ï¼Œå¦‚æœè¦æŒ‡å®šå’Œå½“å‰çª—å£åŒæºçš„è¯è®¾ç½®ä¸º&quot;/&quot;ã€‚</p><ul><li>a.htmlï¼š(<a href="http://www.domain1.com/a.html" target="_blank" rel="noopener">http://www.domain1.com/a.html</a>)</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;iframe id=<span class="string">"iframe"</span> src=<span class="string">"http://www.domain2.com/b.html"</span> style=<span class="string">"display:none;"</span>&gt;&lt;<span class="regexp">/iframe&gt;</span></span><br><span class="line"><span class="regexp">&lt;script&gt;       </span></span><br><span class="line"><span class="regexp">    var iframe = document.getElementById('iframe');</span></span><br><span class="line"><span class="regexp">    iframe.onload = function() &#123;</span></span><br><span class="line"><span class="regexp">        var data = &#123;</span></span><br><span class="line"><span class="regexp">            name: 'aym'</span></span><br><span class="line"><span class="regexp">        &#125;;</span></span><br><span class="line"><span class="regexp">        /</span><span class="regexp">/ å‘domain2ä¼ é€è·¨åŸŸæ•°æ®</span></span><br><span class="line"><span class="regexp">        iframe.contentWindow.postMessage(JSON.stringify(data), 'http:/</span><span class="regexp">/www.domain2.com');</span></span><br><span class="line"><span class="regexp">    &#125;;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">    /</span><span class="regexp">/ æ¥å—domain2è¿”å›æ•°æ®</span></span><br><span class="line"><span class="regexp">    window.addEventListener('message', function(e) &#123;</span></span><br><span class="line"><span class="regexp">        alert('data from domain2 ---&gt; ' + e.data);</span></span><br><span class="line"><span class="regexp">    &#125;, false);</span></span><br><span class="line"><span class="regexp">&lt;/</span>script&gt;</span><br></pre></td></tr></table></figure><ul><li>b.htmlï¼š(<a href="http://www.domain2.com/b.html" target="_blank" rel="noopener">http://www.domain2.com/b.html</a>)</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="comment">// æ¥æ”¶domain1çš„æ•°æ®</span></span><br><span class="line">    <span class="built_in">window</span>.addEventListener(<span class="string">'message'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">        alert(<span class="string">'data from domain1 ---&gt; '</span> + e.data);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> data = <span class="built_in">JSON</span>.parse(e.data);</span><br><span class="line">        <span class="keyword">if</span> (data) &#123;</span><br><span class="line">            data.number = <span class="number">16</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// å¤„ç†åå†å‘å›domain1</span></span><br><span class="line">            <span class="built_in">window</span>.parent.postMessage(<span class="built_in">JSON</span>.stringify(data), <span class="string">'http://www.domain1.com'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;, <span class="literal">false</span>);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><h2 id="è·¨åŸŸèµ„æºå…±äº«ï¼ˆCORSï¼‰">è·¨åŸŸèµ„æºå…±äº«ï¼ˆCORSï¼‰</h2><p>æ™®é€šè·¨åŸŸè¯·æ±‚ï¼šåªæœåŠ¡ç«¯è®¾ç½®Access-Control-Allow-Originå³å¯ï¼Œå‰ç«¯æ— é¡»è®¾ç½®ï¼Œè‹¥è¦å¸¦cookieè¯·æ±‚ï¼šå‰åç«¯éƒ½éœ€è¦è®¾ç½®ã€‚</p><p>éœ€æ³¨æ„çš„æ˜¯ï¼šç”±äºåŒæºç­–ç•¥çš„é™åˆ¶ï¼Œæ‰€è¯»å–çš„cookieä¸ºè·¨åŸŸè¯·æ±‚æ¥å£æ‰€åœ¨åŸŸçš„cookieï¼Œè€Œéå½“å‰é¡µã€‚å¦‚æœæƒ³å®ç°å½“å‰é¡µcookieçš„å†™å…¥ï¼Œå¯å‚è€ƒä¸‹æ–‡ï¼šä¸ƒã€nginxåå‘ä»£ç†ä¸­è®¾ç½®proxy_cookie_domain å’Œ å…«ã€NodeJsä¸­é—´ä»¶ä»£ç†ä¸­cookieDomainRewriteå‚æ•°çš„è®¾ç½®ã€‚</p><p>ç›®å‰ï¼Œæ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒè¯¥åŠŸèƒ½(IE8+ï¼šIE8/9éœ€è¦ä½¿ç”¨XDomainRequestå¯¹è±¡æ¥æ”¯æŒCORSï¼‰)ï¼ŒCORSä¹Ÿå·²ç»æˆä¸ºä¸»æµçš„è·¨åŸŸè§£å†³æ–¹æ¡ˆã€‚</p><h3 id="å‰ç«¯è®¾ç½®">å‰ç«¯è®¾ç½®</h3><ul><li><p>åŸç”Ÿajax</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‰ç«¯è®¾ç½®æ˜¯å¦å¸¦cookie</span></span><br><span class="line">xhr.withCredentials = <span class="literal">true</span>;</span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹ä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest(); <span class="comment">// IE8/9éœ€ç”¨window.XDomainRequestå…¼å®¹</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å‰ç«¯è®¾ç½®æ˜¯å¦å¸¦cookie</span></span><br><span class="line">xhr.withCredentials = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">xhr.open(<span class="string">'post'</span>, <span class="string">'http://www.domain2.com:8080/login'</span>, <span class="literal">true</span>);</span><br><span class="line">xhr.setRequestHeader(<span class="string">'Content-Type'</span>, <span class="string">'application/x-www-form-urlencoded'</span>);</span><br><span class="line">xhr.send(<span class="string">'user=admin'</span>);</span><br><span class="line"></span><br><span class="line">xhr.onreadystatechange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (xhr.readyState == <span class="number">4</span> &amp;&amp; xhr.status == <span class="number">200</span>) &#123;</span><br><span class="line">        alert(xhr.responseText);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li><li><p>jQuery ajax</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$.ajax(&#123;</span><br><span class="line">    ...</span><br><span class="line">   xhrFields: &#123;</span><br><span class="line">       withCredentials: <span class="literal">true</span>    <span class="comment">// å‰ç«¯è®¾ç½®æ˜¯å¦å¸¦cookie</span></span><br><span class="line">   &#125;,</span><br><span class="line">   crossDomain: <span class="literal">true</span>,   <span class="comment">// ä¼šè®©è¯·æ±‚å¤´ä¸­åŒ…å«è·¨åŸŸçš„é¢å¤–ä¿¡æ¯ï¼Œä½†ä¸ä¼šå«cookie</span></span><br><span class="line">    ...</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p>vueæ¡†æ¶</p><ul><li><p>axiosè®¾ç½®ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">axios.defaults.withCredentials = <span class="literal">true</span></span><br></pre></td></tr></table></figure></li><li><p>vue-resourceè®¾ç½®ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Vue.http.options.credentials = <span class="literal">true</span></span><br></pre></td></tr></table></figure></li></ul></li></ul><h3 id="æœåŠ¡ç«¯è®¾ç½®ï¼š">æœåŠ¡ç«¯è®¾ç½®ï¼š</h3><p>è‹¥åç«¯è®¾ç½®æˆåŠŸï¼Œå‰ç«¯æµè§ˆå™¨æ§åˆ¶å°åˆ™ä¸ä¼šå‡ºç°è·¨åŸŸæŠ¥é”™ä¿¡æ¯ï¼Œåä¹‹ï¼Œè¯´æ˜æ²¡è®¾æˆåŠŸã€‚</p><ul><li><p>Javaåå°ï¼š</p>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * å¯¼å…¥åŒ…ï¼šimport javax.servlet.http.HttpServletResponse;</span></span><br><span class="line"><span class="comment"> * æ¥å£å‚æ•°ä¸­å®šä¹‰ï¼šHttpServletResponse response</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å…è®¸è·¨åŸŸè®¿é—®çš„åŸŸåï¼šè‹¥æœ‰ç«¯å£éœ€å†™å…¨ï¼ˆåè®®+åŸŸå+ç«¯å£ï¼‰ï¼Œè‹¥æ²¡æœ‰ç«¯å£æœ«å°¾ä¸ç”¨åŠ '/'</span></span><br><span class="line">response.setHeader(<span class="string">"Access-Control-Allow-Origin"</span>, <span class="string">"http://www.domain1.com"</span>); </span><br><span class="line"></span><br><span class="line"><span class="comment">// å…è®¸å‰ç«¯å¸¦è®¤è¯cookieï¼šå¯ç”¨æ­¤é¡¹åï¼Œä¸Šé¢çš„åŸŸåä¸èƒ½ä¸º'*'ï¼Œå¿…é¡»æŒ‡å®šå…·ä½“çš„åŸŸåï¼Œå¦åˆ™æµè§ˆå™¨ä¼šæç¤º</span></span><br><span class="line">response.setHeader(<span class="string">"Access-Control-Allow-Credentials"</span>, <span class="string">"true"</span>); </span><br><span class="line"></span><br><span class="line"><span class="comment">// æç¤ºOPTIONSé¢„æ£€æ—¶ï¼Œåç«¯éœ€è¦è®¾ç½®çš„ä¸¤ä¸ªå¸¸ç”¨è‡ªå®šä¹‰å¤´</span></span><br><span class="line">response.setHeader(<span class="string">"Access-Control-Allow-Headers"</span>, <span class="string">"Content-Type,X-Requested-With"</span>);</span><br></pre></td></tr></table></figure></li><li><p>Nodejsåå°ç¤ºä¾‹ï¼š</p>  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>);</span><br><span class="line"><span class="keyword">var</span> server = http.createServer();</span><br><span class="line"><span class="keyword">var</span> qs = <span class="built_in">require</span>(<span class="string">'querystring'</span>);</span><br><span class="line"></span><br><span class="line">server.on(<span class="string">'request'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> postData = <span class="string">''</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ•°æ®å—æ¥æ”¶ä¸­</span></span><br><span class="line">    req.addListener(<span class="string">'data'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">chunk</span>) </span>&#123;</span><br><span class="line">        postData += chunk;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ•°æ®æ¥æ”¶å®Œæ¯•</span></span><br><span class="line">    req.addListener(<span class="string">'end'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        postData = qs.parse(postData);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è·¨åŸŸåå°è®¾ç½®</span></span><br><span class="line">        res.writeHead(<span class="number">200</span>, &#123;</span><br><span class="line">            <span class="string">'Access-Control-Allow-Credentials'</span>: <span class="string">'true'</span>,     <span class="comment">// åç«¯å…è®¸å‘é€Cookie</span></span><br><span class="line">            <span class="string">'Access-Control-Allow-Origin'</span>: <span class="string">'http://www.domain1.com'</span>,    <span class="comment">// å…è®¸è®¿é—®çš„åŸŸï¼ˆåè®®+åŸŸå+ç«¯å£ï¼‰</span></span><br><span class="line">            <span class="comment">/* </span></span><br><span class="line"><span class="comment">             * æ­¤å¤„è®¾ç½®çš„cookieè¿˜æ˜¯domain2çš„è€Œédomain1ï¼Œå› ä¸ºåç«¯ä¹Ÿä¸èƒ½è·¨åŸŸå†™cookie(nginxåå‘ä»£ç†å¯ä»¥å®ç°)ï¼Œ</span></span><br><span class="line"><span class="comment">             * ä½†åªè¦domain2ä¸­å†™å…¥ä¸€æ¬¡cookieè®¤è¯ï¼Œåé¢çš„è·¨åŸŸæ¥å£éƒ½èƒ½ä»domain2ä¸­è·å–cookieï¼Œä»è€Œå®ç°æ‰€æœ‰çš„æ¥å£éƒ½èƒ½è·¨åŸŸè®¿é—®</span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">            <span class="string">'Set-Cookie'</span>: <span class="string">'l=a123456;Path=/;Domain=www.domain2.com;HttpOnly'</span>  <span class="comment">// HttpOnlyçš„ä½œç”¨æ˜¯è®©jsæ— æ³•è¯»å–cookie</span></span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        res.write(<span class="built_in">JSON</span>.stringify(postData));</span><br><span class="line">        res.end();</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">server.listen(<span class="string">'8080'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'Server is running at port 8080...'</span>);</span><br></pre></td></tr></table></figure></li></ul><h2 id="nginxä»£ç†è·¨åŸŸ">nginxä»£ç†è·¨åŸŸ</h2><h3 id="nginxé…ç½®è§£å†³iconfontè·¨åŸŸ">nginxé…ç½®è§£å†³iconfontè·¨åŸŸ</h3><p>æµè§ˆå™¨è·¨åŸŸè®¿é—®jsã€cssã€imgç­‰å¸¸è§„é™æ€èµ„æºè¢«åŒæºç­–ç•¥è®¸å¯ï¼Œä½†iconfontå­—ä½“æ–‡ä»¶(eot|otf|ttf|woff|svg)ä¾‹å¤–ï¼Œæ­¤æ—¶å¯åœ¨nginxçš„é™æ€èµ„æºæœåŠ¡å™¨ä¸­åŠ å…¥ä»¥ä¸‹é…ç½®ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">location / &#123;</span><br><span class="line">  add_header Access-Control-Allow-Origin *;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="nginxåå‘ä»£ç†æ¥å£è·¨åŸŸ">nginxåå‘ä»£ç†æ¥å£è·¨åŸŸ</h3><p>è·¨åŸŸåŸç†ï¼š åŒæºç­–ç•¥æ˜¯æµè§ˆå™¨çš„å®‰å…¨ç­–ç•¥ï¼Œä¸æ˜¯HTTPåè®®çš„ä¸€éƒ¨åˆ†ã€‚æœåŠ¡å™¨ç«¯è°ƒç”¨HTTPæ¥å£åªæ˜¯ä½¿ç”¨HTTPåè®®ï¼Œä¸ä¼šæ‰§è¡ŒJSè„šæœ¬ï¼Œä¸éœ€è¦åŒæºç­–ç•¥ï¼Œä¹Ÿå°±ä¸å­˜åœ¨è·¨è¶Šé—®é¢˜ã€‚</p><p>å®ç°æ€è·¯ï¼šé€šè¿‡nginxé…ç½®ä¸€ä¸ªä»£ç†æœåŠ¡å™¨ï¼ˆåŸŸåä¸domain1ç›¸åŒï¼Œç«¯å£ä¸åŒï¼‰åšè·³æ¿æœºï¼Œåå‘ä»£ç†è®¿é—®domain2æ¥å£ï¼Œå¹¶ä¸”å¯ä»¥é¡ºä¾¿ä¿®æ”¹cookieä¸­domainä¿¡æ¯ï¼Œæ–¹ä¾¿å½“å‰åŸŸcookieå†™å…¥ï¼Œå®ç°è·¨åŸŸç™»å½•ã€‚</p><p>nginxå…·ä½“é…ç½®ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#proxyæœåŠ¡å™¨</span><br><span class="line">server &#123;</span><br><span class="line">    listen       <span class="number">81</span>;</span><br><span class="line">    server_name  www.domain1.com;</span><br><span class="line"></span><br><span class="line">    location / &#123;</span><br><span class="line">        proxy_pass   http:<span class="comment">//www.domain2.com:8080;  #åå‘ä»£ç†</span></span><br><span class="line">        proxy_cookie_domain www.domain2.com www.domain1.com; #ä¿®æ”¹cookieé‡ŒåŸŸå</span><br><span class="line">        index  index.html index.htm;</span><br><span class="line"></span><br><span class="line">        # å½“ç”¨webpack-dev-serverç­‰ä¸­é—´ä»¶ä»£ç†æ¥å£è®¿é—®nignxæ—¶ï¼Œæ­¤æ—¶æ— æµè§ˆå™¨å‚ä¸ï¼Œæ•…æ²¡æœ‰åŒæºé™åˆ¶ï¼Œä¸‹é¢çš„è·¨åŸŸé…ç½®å¯ä¸å¯ç”¨</span><br><span class="line">        add_header Access-Control-Allow-Origin http:<span class="comment">//www.domain1.com;  #å½“å‰ç«¯åªè·¨åŸŸä¸å¸¦cookieæ—¶ï¼Œå¯ä¸º*</span></span><br><span class="line">        add_header Access-Control-Allow-Credentials <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>å‰ç«¯ä»£ç ç¤ºä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‰ç«¯å¼€å…³ï¼šæµè§ˆå™¨æ˜¯å¦è¯»å†™cookie</span></span><br><span class="line">xhr.withCredentials = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¿é—®nginxä¸­çš„ä»£ç†æœåŠ¡å™¨</span></span><br><span class="line">xhr.open(<span class="string">'get'</span>, <span class="string">'http://www.domain1.com:81/?user=admin'</span>, <span class="literal">true</span>);</span><br><span class="line">xhr.send();</span><br></pre></td></tr></table></figure></li><li><p>Nodejsåå°ç¤ºä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>);</span><br><span class="line"><span class="keyword">var</span> server = http.createServer();</span><br><span class="line"><span class="keyword">var</span> qs = <span class="built_in">require</span>(<span class="string">'querystring'</span>);</span><br><span class="line"></span><br><span class="line">server.on(<span class="string">'request'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> params = qs.parse(req.url.substring(<span class="number">2</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å‘å‰å°å†™cookie</span></span><br><span class="line">    res.writeHead(<span class="number">200</span>, &#123;</span><br><span class="line">        <span class="string">'Set-Cookie'</span>: <span class="string">'l=a123456;Path=/;Domain=www.domain2.com;HttpOnly'</span>   <span class="comment">// HttpOnly:è„šæœ¬æ— æ³•è¯»å–</span></span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    res.write(<span class="built_in">JSON</span>.stringify(params));</span><br><span class="line">    res.end();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">server.listen(<span class="string">'8080'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'Server is running at port 8080...'</span>);</span><br></pre></td></tr></table></figure></li></ul><h2 id="Nodejsä¸­é—´ä»¶ä»£ç†è·¨åŸŸ">Nodejsä¸­é—´ä»¶ä»£ç†è·¨åŸŸ</h2><p>nodeä¸­é—´ä»¶å®ç°è·¨åŸŸä»£ç†ï¼ŒåŸç†å¤§è‡´ä¸nginxç›¸åŒï¼Œéƒ½æ˜¯é€šè¿‡å¯ä¸€ä¸ªä»£ç†æœåŠ¡å™¨ï¼Œå®ç°æ•°æ®çš„è½¬å‘ï¼Œä¹Ÿå¯ä»¥é€šè¿‡è®¾ç½®cookieDomainRewriteå‚æ•°ä¿®æ”¹å“åº”å¤´ä¸­cookieä¸­åŸŸåï¼Œå®ç°å½“å‰åŸŸçš„cookieå†™å…¥ï¼Œæ–¹ä¾¿æ¥å£ç™»å½•è®¤è¯ã€‚</p><h3 id="évueæ¡†æ¶çš„è·¨åŸŸï¼ˆ2æ¬¡è·¨åŸŸï¼‰">évueæ¡†æ¶çš„è·¨åŸŸï¼ˆ2æ¬¡è·¨åŸŸï¼‰</h3><p>åˆ©ç”¨node + express + http-proxy-middlewareæ­å»ºä¸€ä¸ªproxyæœåŠ¡å™¨ã€‚</p><ul><li><p>å‰ç«¯ä»£ç ç¤ºä¾‹ï¼š</p>  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‰ç«¯å¼€å…³ï¼šæµè§ˆå™¨æ˜¯å¦è¯»å†™cookie</span></span><br><span class="line">xhr.withCredentials = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¿é—®http-proxy-middlewareä»£ç†æœåŠ¡å™¨</span></span><br><span class="line">xhr.open(<span class="string">'get'</span>, <span class="string">'http://www.domain1.com:3000/login?user=admin'</span>, <span class="literal">true</span>);</span><br><span class="line">xhr.send();</span><br></pre></td></tr></table></figure></li><li><p>ä¸­é—´ä»¶æœåŠ¡å™¨ï¼š</p>  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>);</span><br><span class="line"><span class="keyword">var</span> proxy = <span class="built_in">require</span>(<span class="string">'http-proxy-middleware'</span>);</span><br><span class="line"><span class="keyword">var</span> app = express();</span><br><span class="line"></span><br><span class="line">app.use(<span class="string">'/'</span>, proxy(&#123;</span><br><span class="line">    <span class="comment">// ä»£ç†è·¨åŸŸç›®æ ‡æ¥å£</span></span><br><span class="line">    target: <span class="string">'http://www.domain2.com:8080'</span>,</span><br><span class="line">    changeOrigin: <span class="literal">true</span>,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä¿®æ”¹å“åº”å¤´ä¿¡æ¯ï¼Œå®ç°è·¨åŸŸå¹¶å…è®¸å¸¦cookie</span></span><br><span class="line">    onProxyRes: <span class="function"><span class="keyword">function</span>(<span class="params">proxyRes, req, res</span>) </span>&#123;</span><br><span class="line">        res.header(<span class="string">'Access-Control-Allow-Origin'</span>, <span class="string">'http://www.domain1.com'</span>);</span><br><span class="line">        res.header(<span class="string">'Access-Control-Allow-Credentials'</span>, <span class="string">'true'</span>);</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä¿®æ”¹å“åº”ä¿¡æ¯ä¸­çš„cookieåŸŸå</span></span><br><span class="line">    cookieDomainRewrite: <span class="string">'www.domain1.com'</span>  <span class="comment">// å¯ä»¥ä¸ºfalseï¼Œè¡¨ç¤ºä¸ä¿®æ”¹</span></span><br><span class="line">&#125;));</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">3000</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'Proxy server is listen at port 3000...'</span>);</span><br></pre></td></tr></table></figure></li><li><p>Nodejsåå°åŒï¼ˆå…­ï¼šnginxï¼‰</p></li></ul><h3 id="vueæ¡†æ¶çš„è·¨åŸŸï¼ˆ1æ¬¡è·¨åŸŸï¼‰">vueæ¡†æ¶çš„è·¨åŸŸï¼ˆ1æ¬¡è·¨åŸŸï¼‰</h3><p>åˆ©ç”¨node + webpack + webpack-dev-serverä»£ç†æ¥å£è·¨åŸŸã€‚åœ¨å¼€å‘ç¯å¢ƒä¸‹ï¼Œç”±äºvueæ¸²æŸ“æœåŠ¡å’Œæ¥å£ä»£ç†æœåŠ¡éƒ½æ˜¯webpack-dev-serveråŒä¸€ä¸ªï¼Œæ‰€ä»¥é¡µé¢ä¸ä»£ç†æ¥å£ä¹‹é—´ä¸å†è·¨åŸŸï¼Œæ— é¡»è®¾ç½®headersè·¨åŸŸä¿¡æ¯äº†ã€‚</p><p>webpack.config.jséƒ¨åˆ†é…ç½®ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    entry: &#123;&#125;,</span><br><span class="line">    <span class="built_in">module</span>: &#123;&#125;,</span><br><span class="line">    ...</span><br><span class="line">    devServer: &#123;</span><br><span class="line">        historyApiFallback: <span class="literal">true</span>,</span><br><span class="line">        proxy: [&#123;</span><br><span class="line">            context: <span class="string">'/login'</span>,</span><br><span class="line">            target: <span class="string">'http://www.domain2.com:8080'</span>,  <span class="comment">// ä»£ç†è·¨åŸŸç›®æ ‡æ¥å£</span></span><br><span class="line">            changeOrigin: <span class="literal">true</span>,</span><br><span class="line">            secure: <span class="literal">false</span>,  <span class="comment">// å½“ä»£ç†æŸäº›httpsæœåŠ¡æŠ¥é”™æ—¶ç”¨</span></span><br><span class="line">            cookieDomainRewrite: <span class="string">'www.domain1.com'</span>  <span class="comment">// å¯ä»¥ä¸ºfalseï¼Œè¡¨ç¤ºä¸ä¿®æ”¹</span></span><br><span class="line">        &#125;],</span><br><span class="line">        noInfo: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="WebSocketåè®®è·¨åŸŸ">WebSocketåè®®è·¨åŸŸ</h2><p>WebSocket protocolæ˜¯HTML5ä¸€ç§æ–°çš„åè®®ã€‚å®ƒå®ç°äº†æµè§ˆå™¨ä¸æœåŠ¡å™¨å…¨åŒå·¥é€šä¿¡ï¼ŒåŒæ—¶å…è®¸è·¨åŸŸé€šè®¯ï¼Œæ˜¯server pushæŠ€æœ¯çš„ä¸€ç§å¾ˆå¥½çš„å®ç°ã€‚<br>åŸç”ŸWebSocket APIä½¿ç”¨èµ·æ¥ä¸å¤ªæ–¹ä¾¿ï¼Œ<a href="http://xn--Socket-hz8ig3bo82im51b.io" target="_blank" rel="noopener">æˆ‘ä»¬ä½¿ç”¨Socket.io</a>ï¼Œå®ƒå¾ˆå¥½åœ°å°è£…äº†webSocketæ¥å£ï¼Œæä¾›äº†æ›´ç®€å•ã€çµæ´»çš„æ¥å£ï¼Œä¹Ÿå¯¹ä¸æ”¯æŒwebSocketçš„æµè§ˆå™¨æä¾›äº†å‘ä¸‹å…¼å®¹ã€‚</p><ul><li><p>å‰ç«¯ä»£ç ï¼š</p>  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>user inputï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcss.com/socket.io/2.2.0/socket.io.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript"><span class="keyword">var</span> socket = io(<span class="string">'http://www.domain2.com:8080'</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript"><span class="comment">// è¿æ¥æˆåŠŸå¤„ç†</span></span></span><br><span class="line"><span class="actionscript">socket.on(<span class="string">'connect'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// ç›‘å¬æœåŠ¡ç«¯æ¶ˆæ¯</span></span></span><br><span class="line"><span class="actionscript">    socket.on(<span class="string">'message'</span>, <span class="function"><span class="keyword">function</span><span class="params">(msg)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">'data from server: ---&gt; '</span> + msg); </span></span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line"><span class="actionscript">    <span class="comment">// ç›‘å¬æœåŠ¡ç«¯å…³é—­</span></span></span><br><span class="line"><span class="actionscript">    socket.on(<span class="string">'disconnect'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123; </span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">'Server socket has closed.'</span>); </span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="javascript"><span class="built_in">document</span>.getElementsByTagName(<span class="string">'input'</span>)[<span class="number">0</span>].onblur = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">    socket.send(<span class="keyword">this</span>.value);</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>Nodejs socketåå°ï¼š</p>  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>);</span><br><span class="line"><span class="keyword">var</span> socket = <span class="built_in">require</span>(<span class="string">'socket.io'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯httpæœåŠ¡</span></span><br><span class="line"><span class="keyword">var</span> server = http.createServer(<span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">    res.writeHead(<span class="number">200</span>, &#123;</span><br><span class="line">        <span class="string">'Content-type'</span>: <span class="string">'text/html'</span></span><br><span class="line">    &#125;);</span><br><span class="line">    res.end();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">server.listen(<span class="string">'8080'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'Server is running at port 8080...'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›‘å¬socketè¿æ¥</span></span><br><span class="line">socket.listen(server).on(<span class="string">'connection'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">client</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// æ¥æ”¶ä¿¡æ¯</span></span><br><span class="line">    client.on(<span class="string">'message'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">msg</span>) </span>&#123;</span><br><span class="line">        client.send(<span class="string">'helloï¼š'</span> + msg);</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'data from client: ---&gt; '</span> + msg);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ–­å¼€å¤„ç†</span></span><br><span class="line">    client.on(<span class="string">'disconnect'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'Client socket has closed.'</span>); </span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li></ul>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
          <category> å°é—®é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Corsè§£å†³è·¨åŸŸé—®é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Corsè§£å†³è·¨åŸŸé—®é¢˜</title>
      <link href="/posts/20072501.html/"/>
      <url>/posts/20072501.html/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h1>é—®é¢˜</h1><p>é—®é¢˜ï¼šaxiosè¯·æ±‚ï¼Œå‡ºç°ä¸¤æ¬¡requestï¼Œå…¶ä¸­ä¸€æ¬¡<strong>Request Method: OPTIONS</strong></p><img align="left" src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/07/25/image-20200725023024105.png"/><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/07/25/image-20200725024504498.png" alt="image-20200725024504498"></p><ul><li><img align="left" src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/07/25/image-20200725023155992.png"/></li><li><img  align="left" src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/07/25/image-20200725023840504.png"/></li></ul><p>åŸå› ï¼šè·¨åŸŸåŸå› </p><h1>è·¨åŸŸé—®é¢˜</h1><h2 id="ä»€ä¹ˆæ˜¯è·¨åŸŸ">ä»€ä¹ˆæ˜¯è·¨åŸŸ</h2><p>è·¨åŸŸæ˜¯æŒ‡è·¨åŸŸåè®¿é—®ï¼Œä¸€ä¸‹æƒ…å†µéƒ½å±äºè·¨åŸŸï¼š</p><table><thead><tr><th>è·¨åŸŸåŸå› è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>åŸŸåä¸åŒ</td><td><code>www.jd.com</code> ä¸ <code>www.taobao.com</code></td></tr><tr><td>åŸŸåç›¸åŒï¼Œç«¯å£ä¸åŒ</td><td><code>www.jd.com:8080</code> ä¸ <code>www.jd.com:8081</code></td></tr><tr><td>äºŒçº§åŸŸåä¸åŒ</td><td><code>item.jd.com</code> ä¸ <code>miaosha.jd.com</code></td></tr></tbody></table><p>å¦‚æœ<strong>åŸŸåå’Œç«¯å£éƒ½ç›¸åŒï¼Œä½†æ˜¯è¯·æ±‚è·¯å¾„ä¸åŒ</strong>ï¼Œä¸å±äºè·¨åŸŸï¼Œå¦‚ï¼š</p><p><code>www.jd.com/item</code></p><p><code>www.jd.com/goods</code></p><p>è€Œæˆ‘çš„é—®é¢˜æ˜¯å› ä¸ºä»<code>http://www.leyou.com</code>å»è®¿é—®<code>http://api.leyou.com/api/search/page</code>ï¼Œè¿™å±äºäºŒçº§åŸŸåä¸åŒï¼Œå‡ºç°<strong>è·¨åŸŸ</strong></p><h2 id="ä¸ºä»€ä¹ˆä¼šæœ‰è·¨åŸŸ">ä¸ºä»€ä¹ˆä¼šæœ‰è·¨åŸŸ</h2><p>è·¨åŸŸä¸ä¸€å®šæœ‰è·¨åŸŸé—®é¢˜ã€‚</p><p>å› ä¸º<span style="color:red"><strong>è·¨åŸŸé—®é¢˜æ˜¯æµè§ˆå™¨å¯¹ajaxçš„ä¸€ç§é™åˆ¶</strong></span>ï¼š<strong>ä¸€ä¸ªé¡µé¢å‘èµ·çš„ajaxè¯·æ±‚ï¼Œåªèƒ½æ˜¯äºå½“å‰é¡µç›¸åŒåŸŸåçš„è·¯å¾„</strong>ï¼Œè¿™æ ·å¯ä»¥æœ‰æ•ˆé˜»æ­¢è·¨ç«™æ”»å‡»ã€‚</p><h2 id="è§£å†³è·¨åŸŸé—®é¢˜çš„æ–¹æ¡ˆ">è§£å†³è·¨åŸŸé—®é¢˜çš„æ–¹æ¡ˆ</h2><p>ç›®å‰æ¯”è¾ƒå¸¸ç”¨çš„è·¨åŸŸè§£å†³æ–¹æ¡ˆæœ‰3ç§ï¼š</p><ul><li><p>Jsonp</p><p>æœ€æ—©çš„è§£å†³æ–¹æ¡ˆï¼Œåˆ©ç”¨scriptæ ‡ç­¾å¯ä»¥è·¨åŸŸçš„åŸç†å®ç°ã€‚</p><p>é™åˆ¶ï¼š</p><ul><li>éœ€è¦æœåŠ¡çš„æ”¯æŒ</li><li>åªèƒ½å‘èµ·GETè¯·æ±‚</li></ul></li><li><p>nginxåå‘ä»£ç†</p><p>æ€è·¯æ˜¯ï¼šåˆ©ç”¨nginxåå‘ä»£ç†æŠŠè·¨åŸŸæ”¹ä¸ºä¸è·¨åŸŸï¼Œæ”¯æŒå„ç§è¯·æ±‚æ–¹å¼</p><p>ç¼ºç‚¹ï¼šéœ€è¦åœ¨nginxè¿›è¡Œé¢å¤–é…ç½®ï¼Œè¯­ä¹‰ä¸æ¸…æ™°</p></li><li><p>CORS</p><p><strong>è§„èŒƒåŒ–çš„è·¨åŸŸè¯·æ±‚è§£å†³æ–¹æ¡ˆï¼Œå®‰å…¨å¯é ã€‚</strong></p><p>ä¼˜åŠ¿ï¼š</p><ul><li>åœ¨æœåŠ¡ç«¯è¿›è¡Œæ§åˆ¶æ˜¯å¦å…è®¸è·¨åŸŸï¼Œå¯è‡ªå®šä¹‰è§„åˆ™</li><li>æ”¯æŒå„ç§è¯·æ±‚æ–¹å¼</li></ul><p>ç¼ºç‚¹ï¼š</p><ul><li>ä¼šäº§ç”Ÿé¢å¤–çš„è¯·æ±‚</li></ul></li></ul><p>æˆ‘ä»¬è¿™é‡Œä¼šé‡‡ç”¨corsçš„è·¨åŸŸæ–¹æ¡ˆã€‚</p><h2 id="corsè§£å†³è·¨åŸŸ">corsè§£å†³è·¨åŸŸ</h2><h3 id="ä»€ä¹ˆæ˜¯cors">ä»€ä¹ˆæ˜¯cors</h3><p>CORSæ˜¯ä¸€ä¸ªW3Cæ ‡å‡†ï¼Œå…¨ç§°æ˜¯&quot;è·¨åŸŸèµ„æºå…±äº«&quot;ï¼ˆCross-origin resource sharingï¼‰ã€‚</p><p>å®ƒå…è®¸æµè§ˆå™¨å‘è·¨æºæœåŠ¡å™¨ï¼Œå‘å‡º<a href="http://www.ruanyifeng.com/blog/2012/09/xmlhttprequest_level_2.html" target="_blank" rel="noopener"><code>XMLHttpRequest</code></a>è¯·æ±‚ï¼Œä»è€Œå…‹æœäº†AJAXåªèƒ½<a href="http://www.ruanyifeng.com/blog/2016/04/same-origin-policy.html" target="_blank" rel="noopener">åŒæº</a>ä½¿ç”¨çš„é™åˆ¶ã€‚</p><p>CORSéœ€è¦æµè§ˆå™¨å’ŒæœåŠ¡å™¨åŒæ—¶æ”¯æŒã€‚ç›®å‰ï¼Œæ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒè¯¥åŠŸèƒ½ï¼ŒIEæµè§ˆå™¨ä¸èƒ½ä½äºIE10ã€‚</p><ul><li><p>æµè§ˆå™¨ç«¯ï¼š</p><p>ç›®å‰ï¼Œæ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒè¯¥åŠŸèƒ½ï¼ˆIE10ä»¥ä¸‹ä¸è¡Œï¼‰ã€‚æ•´ä¸ªCORSé€šä¿¡è¿‡ç¨‹ï¼Œéƒ½æ˜¯æµè§ˆå™¨è‡ªåŠ¨å®Œæˆï¼Œä¸éœ€è¦ç”¨æˆ·å‚ä¸ã€‚</p></li><li><p>æœåŠ¡ç«¯ï¼š</p><p>CORSé€šä¿¡ä¸AJAXæ²¡æœ‰ä»»ä½•å·®åˆ«ï¼Œå› æ­¤ä½ ä¸éœ€è¦æ”¹å˜ä»¥å‰çš„ä¸šåŠ¡é€»è¾‘ã€‚åªä¸è¿‡ï¼Œæµè§ˆå™¨ä¼šåœ¨è¯·æ±‚ä¸­æºå¸¦ä¸€äº›å¤´ä¿¡æ¯ï¼Œæˆ‘ä»¬éœ€è¦ä»¥æ­¤åˆ¤æ–­æ˜¯å¦è¿è¡Œå…¶è·¨åŸŸï¼Œç„¶ååœ¨å“åº”å¤´ä¸­åŠ å…¥ä¸€äº›ä¿¡æ¯å³å¯ã€‚è¿™ä¸€èˆ¬é€šè¿‡è¿‡æ»¤å™¨å®Œæˆå³å¯ã€‚</p></li></ul><h3 id="åŸç†">åŸç†</h3><p>æµè§ˆå™¨ä¼šå°†ajaxè¯·æ±‚åˆ†ä¸ºä¸¤ç±»ï¼Œå…¶å¤„ç†æ–¹æ¡ˆç•¥æœ‰å·®å¼‚ï¼šç®€å•è¯·æ±‚ã€ç‰¹æ®Šè¯·æ±‚ã€‚</p><h5 id="ç®€å•è¯·æ±‚">ç®€å•è¯·æ±‚</h5><p>åªè¦<strong>åŒæ—¶</strong>æ»¡è¶³ä»¥ä¸‹ä¸¤å¤§æ¡ä»¶ï¼Œå°±å±äºç®€å•è¯·æ±‚ã€‚ï¼š</p><p>ï¼ˆ1) è¯·æ±‚æ–¹æ³•æ˜¯ä»¥ä¸‹ä¸‰ç§æ–¹æ³•ä¹‹ä¸€ï¼š</p><ul><li>HEAD</li><li>GET</li><li>POST</li></ul><p>ï¼ˆ2ï¼‰HTTPçš„å¤´ä¿¡æ¯ä¸è¶…å‡ºä»¥ä¸‹å‡ ç§å­—æ®µï¼š</p><ul><li>Accept</li><li>Accept-Language</li><li>Content-Language</li><li>Last-Event-ID</li><li>Content-Typeï¼šåªé™äºä¸‰ä¸ªå€¼<code>application/x-www-form-urlencoded</code>ã€<code>multipart/form-data</code>ã€<code>text/plain</code></li></ul><p>å½“æµè§ˆå™¨å‘ç°å‘å¯çš„ajaxè¯·æ±‚æ˜¯ç®€å•è¯·æ±‚æ—¶ï¼Œä¼šåœ¨è¯·æ±‚å¤´ä¸­æºå¸¦ä¸€ä¸ªå­—æ®µï¼š<code>Origin</code>.</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/07/26/20200726020701.png" alt="1526019242125"></p><p>Originä¸­ä¼šæŒ‡å‡ºå½“å‰è¯·æ±‚å±äºå“ªä¸ªåŸŸï¼ˆåè®®+åŸŸå+ç«¯å£ï¼‰ã€‚æœåŠ¡ä¼šæ ¹æ®è¿™ä¸ªå€¼å†³å®šæ˜¯å¦å…è®¸å…¶è·¨åŸŸã€‚</p><p>å¦‚æœæœåŠ¡å™¨å…è®¸è·¨åŸŸï¼Œéœ€è¦åœ¨è¿”å›çš„å“åº”å¤´ä¸­æºå¸¦ä¸‹é¢ä¿¡æ¯ï¼š</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Access-Control-Allow-Origin</span>: http://manage.leyou.com</span><br><span class="line"><span class="attribute">Access-Control-Allow-Credentials</span>: true</span><br><span class="line"><span class="attribute">Content-Type</span>: text/html; charset=utf-8</span><br></pre></td></tr></table></figure><ul><li>Access-Control-Allow-Originï¼šå¯æ¥å—çš„åŸŸï¼Œæ˜¯ä¸€ä¸ªå…·ä½“åŸŸåæˆ–è€…*ï¼Œä»£è¡¨ä»»æ„</li><li>Access-Control-Allow-Credentialsï¼šæ˜¯å¦å…è®¸æºå¸¦cookieï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œcorsä¸ä¼šæºå¸¦cookieï¼Œé™¤éè¿™ä¸ªå€¼æ˜¯true</li></ul><p>æ³¨æ„ï¼š</p><p>å¦‚æœè·¨åŸŸè¯·æ±‚è¦æƒ³æ“ä½œcookieï¼Œéœ€è¦æ»¡è¶³3ä¸ªæ¡ä»¶ï¼š</p><ul><li>æœåŠ¡çš„å“åº”å¤´ä¸­éœ€è¦æºå¸¦Access-Control-Allow-Credentialså¹¶ä¸”ä¸ºtrueã€‚</li><li>æµè§ˆå™¨å‘èµ·ajaxéœ€è¦æŒ‡å®šwithCredentials ä¸ºtrue</li><li>å“åº”å¤´ä¸­çš„Access-Control-Allow-Originä¸€å®šä¸èƒ½ä¸º*ï¼Œå¿…é¡»æ˜¯ç‰¹å®šçš„åŸŸå</li></ul><h5 id="ç‰¹æ®Šè¯·æ±‚">ç‰¹æ®Šè¯·æ±‚</h5><p>ä¸ç¬¦åˆç®€å•è¯·æ±‚çš„æ¡ä»¶ï¼Œä¼šè¢«æµè§ˆå™¨åˆ¤å®šä¸ºç‰¹æ®Šè¯·æ±‚,ï¼Œä¾‹å¦‚è¯·æ±‚æ–¹å¼ä¸ºPUTã€‚</p><blockquote><p>é¢„æ£€è¯·æ±‚</p></blockquote><p>ç‰¹æ®Šè¯·æ±‚ä¼šåœ¨æ­£å¼é€šä¿¡ä¹‹å‰ï¼Œå¢åŠ ä¸€æ¬¡HTTPæŸ¥è¯¢è¯·æ±‚ï¼Œç§°ä¸º&quot;é¢„æ£€&quot;è¯·æ±‚ï¼ˆpreflightï¼‰ã€‚</p><p>æµè§ˆå™¨å…ˆè¯¢é—®æœåŠ¡å™¨ï¼Œå½“å‰ç½‘é¡µæ‰€åœ¨çš„åŸŸåæ˜¯å¦åœ¨æœåŠ¡å™¨çš„è®¸å¯åå•ä¹‹ä¸­ï¼Œä»¥åŠå¯ä»¥ä½¿ç”¨å“ªäº›HTTPåŠ¨è¯å’Œå¤´ä¿¡æ¯å­—æ®µã€‚åªæœ‰å¾—åˆ°è‚¯å®šç­”å¤ï¼Œæµè§ˆå™¨æ‰ä¼šå‘å‡ºæ­£å¼çš„<code>XMLHttpRequest</code>è¯·æ±‚ï¼Œå¦åˆ™å°±æŠ¥é”™ã€‚</p><p>ä¸€ä¸ªâ€œé¢„æ£€â€è¯·æ±‚çš„æ ·æ¿ï¼š</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">OPTIONS</span> <span class="string">/cors</span> HTTP/1.1</span><br><span class="line"><span class="attribute">Origin</span>: http://manage.leyou.com</span><br><span class="line"><span class="attribute">Access-Control-Request-Method</span>: PUT</span><br><span class="line"><span class="attribute">Access-Control-Request-Headers</span>: X-Custom-Header</span><br><span class="line"><span class="attribute">Host</span>: api.leyou.com</span><br><span class="line"><span class="attribute">Accept-Language</span>: en-US</span><br><span class="line"><span class="attribute">Connection</span>: keep-alive</span><br><span class="line"><span class="attribute">User-Agent</span>: Mozilla/5.0...</span><br></pre></td></tr></table></figure><p>ä¸ç®€å•è¯·æ±‚ç›¸æ¯”ï¼Œé™¤äº†Originä»¥å¤–ï¼Œå¤šäº†ä¸¤ä¸ªå¤´ï¼š</p><ul><li>Access-Control-Request-Methodï¼šæ¥ä¸‹æ¥ä¼šç”¨åˆ°çš„è¯·æ±‚æ–¹å¼ï¼Œæ¯”å¦‚PUT</li><li>Access-Control-Request-Headersï¼šä¼šé¢å¤–ç”¨åˆ°çš„å¤´ä¿¡æ¯</li></ul><blockquote><p>é¢„æ£€è¯·æ±‚çš„å“åº”</p></blockquote><p>æœåŠ¡çš„æ”¶åˆ°é¢„æ£€è¯·æ±‚ï¼Œå¦‚æœè®¸å¯è·¨åŸŸï¼Œä¼šå‘å‡ºå“åº”ï¼š</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">HTTP/1.1 <span class="number">200</span> OK</span><br><span class="line"><span class="attribute">Date</span>: Mon, 01 Dec 2008 01:15:39 GMT</span><br><span class="line"><span class="attribute">Server</span>: Apache/2.0.61 (Unix)</span><br><span class="line"><span class="attribute">Access-Control-Allow-Origin</span>: http://manage.leyou.com</span><br><span class="line"><span class="attribute">Access-Control-Allow-Credentials</span>: true</span><br><span class="line"><span class="attribute">Access-Control-Allow-Methods</span>: GET, POST, PUT</span><br><span class="line"><span class="attribute">Access-Control-Allow-Headers</span>: X-Custom-Header</span><br><span class="line"><span class="attribute">Access-Control-Max-Age</span>: 1728000</span><br><span class="line"><span class="attribute">Content-Type</span>: text/html; charset=utf-8</span><br><span class="line"><span class="attribute">Content-Encoding</span>: gzip</span><br><span class="line"><span class="attribute">Content-Length</span>: 0</span><br><span class="line"><span class="attribute">Keep-Alive</span>: timeout=2, max=100</span><br><span class="line"><span class="attribute">Connection</span>: Keep-Alive</span><br><span class="line"><span class="attribute">Content-Type</span>: text/plain</span><br></pre></td></tr></table></figure><p>é™¤äº†<code>Access-Control-Allow-Origin</code>å’Œ<code>Access-Control-Allow-Credentials</code>ä»¥å¤–ï¼Œè¿™é‡Œåˆé¢å¤–å¤šå‡º3ä¸ªå¤´ï¼š</p><ul><li>Access-Control-Allow-Methodsï¼šå…è®¸è®¿é—®çš„æ–¹å¼</li><li>Access-Control-Allow-Headersï¼šå…è®¸æºå¸¦çš„å¤´</li><li>Access-Control-Max-Ageï¼šæœ¬æ¬¡è®¸å¯çš„æœ‰æ•ˆæ—¶é•¿ï¼Œå•ä½æ˜¯ç§’ï¼Œ<strong>è¿‡æœŸä¹‹å‰çš„ajaxè¯·æ±‚å°±æ— éœ€å†æ¬¡è¿›è¡Œé¢„æ£€äº†</strong></li></ul><p>å¦‚æœæµè§ˆå™¨å¾—åˆ°ä¸Šè¿°å“åº”ï¼Œåˆ™è®¤å®šä¸ºå¯ä»¥è·¨åŸŸï¼Œåç»­å°±è·Ÿç®€å•è¯·æ±‚çš„å¤„ç†æ˜¯ä¸€æ ·çš„äº†ã€‚</p><h3 id="å®ç°">å®ç°</h3><p>è™½ç„¶åŸç†æ¯”è¾ƒå¤æ‚ï¼Œä½†æ˜¯å‰é¢è¯´è¿‡ï¼š</p><ul><li>æµè§ˆå™¨ç«¯éƒ½æµç”±è§ˆå™¨è‡ªåŠ¨å®Œæˆï¼Œæˆ‘ä»¬æ— éœ€æ“å¿ƒ</li><li>æœåŠ¡ç«¯å¯ä»¥é€šè¿‡æ‹¦æˆªå™¨ç»Ÿä¸€å®ç°ï¼Œä¸å¿…æ¯æ¬¡éƒ½å»è¿›è¡Œè·¨åŸŸåˆ¤å®šçš„ç¼–å†™ã€‚</li></ul><p>äº‹å®ä¸Šï¼ŒSpringMVCå·²ç»å¸®æˆ‘ä»¬å†™å¥½äº†CORSçš„è·¨åŸŸè¿‡æ»¤å™¨ï¼šCorsFilter ,å†…éƒ¨å·²ç»å®ç°äº†åˆšæ‰æ‰€è®²çš„åˆ¤å®šé€»è¾‘ï¼Œæˆ‘ä»¬ç›´æ¥ç”¨å°±å¥½äº†ã€‚</p><p>åœ¨<code>ly-api-gateway</code>ä¸­ç¼–å†™ä¸€ä¸ªé…ç½®ç±»ï¼Œå¹¶ä¸”æ³¨å†ŒCorsFilterï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.cors.CorsConfiguration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.cors.UrlBasedCorsConfigurationSource;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.filter.CorsFilter;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GlobalCorsConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> CorsFilter <span class="title">corsFilter</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">//1.æ·»åŠ CORSé…ç½®ä¿¡æ¯</span></span><br><span class="line">        CorsConfiguration config = <span class="keyword">new</span> CorsConfiguration();</span><br><span class="line">        <span class="comment">//1) å…è®¸çš„åŸŸ,ä¸è¦å†™*ï¼Œå¦åˆ™cookieå°±æ— æ³•ä½¿ç”¨äº†</span></span><br><span class="line">        config.addAllowedOrigin(<span class="string">"http://manage.leyou.com"</span>);</span><br><span class="line">        config.addAllowedOrigin(<span class="string">"http://www.leyou.com"</span>);</span><br><span class="line">        <span class="comment">//2) æ˜¯å¦å‘é€Cookieä¿¡æ¯</span></span><br><span class="line">        config.setAllowCredentials(<span class="keyword">true</span>);</span><br><span class="line">        <span class="comment">//3) å…è®¸çš„è¯·æ±‚æ–¹å¼</span></span><br><span class="line">        config.addAllowedMethod(<span class="string">"OPTIONS"</span>);</span><br><span class="line">        config.addAllowedMethod(<span class="string">"HEAD"</span>);</span><br><span class="line">        config.addAllowedMethod(<span class="string">"GET"</span>);</span><br><span class="line">        config.addAllowedMethod(<span class="string">"PUT"</span>);</span><br><span class="line">        config.addAllowedMethod(<span class="string">"POST"</span>);</span><br><span class="line">        config.addAllowedMethod(<span class="string">"DELETE"</span>);</span><br><span class="line">        config.addAllowedMethod(<span class="string">"PATCH"</span>);</span><br><span class="line">        <span class="comment">// 4ï¼‰å…è®¸çš„å¤´ä¿¡æ¯</span></span><br><span class="line">        config.addAllowedHeader(<span class="string">"*"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.æ·»åŠ æ˜ å°„è·¯å¾„ï¼Œæˆ‘ä»¬æ‹¦æˆªä¸€åˆ‡è¯·æ±‚</span></span><br><span class="line">        UrlBasedCorsConfigurationSource configSource = <span class="keyword">new</span> UrlBasedCorsConfigurationSource();</span><br><span class="line">        configSource.registerCorsConfiguration(<span class="string">"/**"</span>, config);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.è¿”å›æ–°çš„CorsFilter.</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> CorsFilter(configSource);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
          <category> å°é—®é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Corsè§£å†³è·¨åŸŸé—®é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Elasticsearch &amp;&amp; Kibana</title>
      <link href="/posts/20070801.html/"/>
      <url>/posts/20070801.html/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h1>ç®€ä»‹</h1><h2 id="Elasticsearch">Elasticsearch</h2><p><a href="https://www.elastic.co/cn/elasticsearch" target="_blank" rel="noopener">Elasticsearchå®˜ç½‘</a></p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/image/20200708183609.jpg" style="zoom:80%;" /><p>å¦‚ä¸Šæ‰€è¿°ï¼ŒElasticsearchå…·å¤‡ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p><ul><li>åˆ†å¸ƒå¼ï¼Œæ— éœ€äººå·¥æ­å»ºé›†ç¾¤ï¼ˆsolrå°±éœ€è¦äººä¸ºé…ç½®ï¼Œä½¿ç”¨Zookeeperä½œä¸ºæ³¨å†Œä¸­å¿ƒï¼‰</li><li>Restfulé£æ ¼ï¼Œä¸€åˆ‡APIéƒ½éµå¾ªReståŸåˆ™ï¼Œå®¹æ˜“ä¸Šæ‰‹</li><li>è¿‘å®æ—¶æœç´¢ï¼Œæ•°æ®æ›´æ–°åœ¨Elasticsearchä¸­å‡ ä¹æ˜¯å®Œå…¨åŒæ­¥çš„ã€‚</li></ul><h2 id="Kibana">Kibana</h2><p><a href="https://www.elastic.co/cn/kibana" target="_blank" rel="noopener">Kibanaå®˜ç½‘</a></p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/image/20200708183904.png" style="zoom:80%;" /><p>Kibanaæ˜¯ä¸€ä¸ªåŸºäºNode.jsçš„Elasticsearchç´¢å¼•åº“æ•°æ®ç»Ÿè®¡å·¥å…·ï¼Œå¯ä»¥åˆ©ç”¨Elasticsearchçš„èšåˆåŠŸèƒ½ï¼Œç”Ÿæˆå„ç§å›¾è¡¨ï¼Œå¦‚æŸ±å½¢å›¾ï¼Œçº¿çŠ¶å›¾ï¼Œé¥¼å›¾ç­‰ã€‚</p><p>è€Œä¸”è¿˜æä¾›äº†æ“ä½œElasticsearchç´¢å¼•æ•°æ®çš„æ§åˆ¶å°ï¼Œå¹¶ä¸”æä¾›äº†ä¸€å®šçš„APIæç¤ºï¼Œéå¸¸æœ‰åˆ©äºæˆ‘ä»¬å­¦ä¹ Elasticsearchçš„è¯­æ³•ã€‚</p><h1>æ“ä½œç´¢å¼•</h1><h2 id="åŸºæœ¬æ¦‚å¿µ">åŸºæœ¬æ¦‚å¿µ</h2><p>Elasticsearchä¹Ÿæ˜¯åŸºäºLuceneçš„å…¨æ–‡æ£€ç´¢åº“ï¼Œæœ¬è´¨ä¹Ÿæ˜¯å­˜å‚¨æ•°æ®ï¼Œå¾ˆå¤šæ¦‚å¿µä¸MySQLç±»ä¼¼ã€‚</p><p>å¯¹æ¯”å…³ç³»</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ç´¢å¼•åº“ï¼ˆindicesï¼‰--------------------------- æ•°æ®åº“ï¼ˆDatabaseï¼‰</span><br><span class="line">ç±»å‹ï¼ˆtypeï¼‰------------------------------- æ•°æ®è¡¨ï¼ˆTableï¼‰</span><br><span class="line">æ–‡æ¡£ï¼ˆDocumentï¼‰-------------------------- è¡Œï¼ˆRowï¼‰</span><br><span class="line">å­—æ®µï¼ˆFieldï¼‰---------------------------- åˆ—ï¼ˆColumnsï¼‰</span><br></pre></td></tr></table></figure><p>è¯¦ç»†è¯´æ˜ï¼š</p><table><thead><tr><th style="text-align:center">æ¦‚å¿µ</th><th style="text-align:center">è¯´æ˜</th></tr></thead><tbody><tr><td style="text-align:center">ç´¢å¼•åº“ï¼ˆindicesï¼‰</td><td style="text-align:center">indicesæ˜¯indexçš„å¤æ•°ï¼Œä»£è¡¨è®¸å¤šçš„ç´¢å¼•</td></tr><tr><td style="text-align:center">ç±»å‹ï¼ˆtypeï¼‰</td><td style="text-align:center">ç±»å‹æ˜¯æ¨¡æ‹ŸMySQLçš„tableæ¦‚å¿µï¼Œä¸€ä¸ªç´¢å¼•åº“ä¸‹å¯ä»¥æœ‰å¤šä¸ªä¸åŒç±»å‹çš„ç´¢å¼•ã€‚åœ¨Elasticsearch7ç‰ˆæœ¬å»é™¤äº†typeæ¦‚å¿µ</td></tr><tr><td style="text-align:center">æ–‡æ¡£ï¼ˆdocumentï¼‰</td><td style="text-align:center">å­˜å…¥ç´¢å¼•åº“åŸå§‹å¾—æ•°æ®ï¼Œæ¯”å¦‚æ¯ä¸€æ¡å•†å“ä¿¡æ¯ï¼Œå°±æ˜¯ä¸€ä¸ªæ–‡æ¡£</td></tr><tr><td style="text-align:center">å­—æ®µï¼ˆFieldï¼‰</td><td style="text-align:center">æ–‡æ¡£ä¸­çš„å±æ€§ï¼Œæ¯”å¦‚å•†å“åï¼Œå•†å“ä»·æ ¼</td></tr><tr><td style="text-align:center">æ˜ å°„é…ç½®ï¼ˆmappingsï¼‰</td><td style="text-align:center">å­—æ®µçš„æ•°æ®ç±»å‹ã€å±æ€§ã€æ˜¯å¦ç´¢å¼•ã€æ˜¯å¦å­˜å‚¨ç­‰ç‰¹æ€§</td></tr></tbody></table><p>æ˜¯ä¸æ˜¯ä¸Luceneå’ŒSolrçš„æ¦‚å¿µç›¸ä¼¼</p><p>å¦å¤–ï¼Œåœ¨SolrCloudä¸­ï¼Œæœ‰ä¸€äº›é›†ç¾¤ç›¸å…³æ¦‚å¿µï¼Œåœ¨Elasticsearchä¹Ÿæœ‰ç±»ä¼¼çš„ï¼š</p><ul><li>ç´¢å¼•é›†ï¼ˆindicesï¼Œindexçš„å¤æ•°ï¼‰ï¼šé€»è¾‘ä¸Šçš„å®Œæ•´ç´¢å¼•</li><li>åˆ†ç‰‡ï¼ˆshardï¼‰ï¼šæ•°æ®æ‹†åˆ†åçš„å„ä¸ªéƒ¨åˆ†</li><li>å‰¯æœ¬ï¼ˆreplicaï¼‰ï¼šæ¯ä¸ªåˆ†ç‰‡çš„å¤åˆ¶ï¼Œç›¸å½“äºå¤‡ä»½</li></ul><p><strong>æ³¨æ„ï¼š</strong></p><p>â€‹Elasticsearchæœ¬èº«å°±æ˜¯åˆ†å¸ƒå¼çš„ï¼Œå³ä½¿åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹ï¼ŒElasticsearché»˜è®¤å¯¹æ•°æ®è¿›è¡Œåˆ†ç‰‡å’Œå‰¯æœ¬æ“ä½œï¼Œå½“å‘é›†ç¾¤æ·»åŠ æ–°æ•°æ®æ—¶ï¼Œæ•°æ®ä¹Ÿä¼šåœ¨æ–°åŠ å…¥çš„èŠ‚ç‚¹ä¸­è¿›è¡Œå¹³è¡¡</p><h2 id="åˆ›å»ºç´¢å¼•">åˆ›å»ºç´¢å¼•</h2><blockquote><p>è¯­æ³•</p></blockquote><p>ELasticsearché‡‡ç”¨Resté£æ ¼APIï¼Œå› æ­¤å…¶APIå°±æ˜¯ä¸€æ¬¡httpè¯·æ±‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># è¯·æ±‚æ–¹å¼ï¼šPUT</span><br><span class="line"># è¯·æ±‚è·¯å¾„ï¼š/ç´¢å¼•åº“å</span><br><span class="line"># è¯·æ±‚å‚æ•°ï¼šjsonæ ¼å¼</span><br><span class="line">PUT /index_name</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">"settings"</span>: &#123;</span><br><span class="line"><span class="attr">"number_of_shards"</span>: <span class="number">3</span>,</span><br><span class="line">        <span class="attr">"number_of_replicas"</span>: <span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>settings:ç´¢å¼•åº“çš„è®¾ç½®<ul><li>number_of_shardsï¼šåˆ†ç‰‡æ•°é‡</li><li>number_of_replicasï¼šå‰¯æœ¬æ•°é‡</li></ul></li></ul><h3 id="ä½¿ç”¨Postmanæµ‹è¯•">ä½¿ç”¨Postmanæµ‹è¯•</h3><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/image/20200708213449.jpg" alt=""></p><p>å¯ä»¥çœ‹åˆ°åˆ›å»ºç´¢å¼•æˆåŠŸ</p><h3 id="ä½¿ç”¨Kibanaåˆ›å»º">ä½¿ç”¨Kibanaåˆ›å»º</h3><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/image/20200708214407.png" alt=""></p><p>ç›¸å½“äºçœå»äº†elasticsearchçš„æœåŠ¡å™¨åœ°å€ï¼Œå¹¶ä¸”æœ‰è¯­æ³•æç¤º</p><h2 id="æŸ¥çœ‹ç´¢å¼•è®¾ç½®">æŸ¥çœ‹ç´¢å¼•è®¾ç½®</h2><blockquote><p>æŸ¥çœ‹ç´¢å¼•ä¿¡æ¯ä½¿ç”¨GETè¯·æ±‚ï¼Œè¯­æ³•æ ¼å¼ï¼š<strong>GET /ç´¢å¼•åº“å</strong></p></blockquote><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GET /demo# æŸ¥è¯¢ç´¢å¼•åº“åä¸ºdemoçš„ç´¢å¼•åº“</span><br><span class="line">GET *# æŸ¥è¯¢æ‰€æœ‰ç´¢å¼•åº“</span><br></pre></td></tr></table></figure><div class="tabs" id="test1"><ul class="nav-tabs"><li class="tab active"><button data-href="#test1-1">GET /demo</button></li><li class="tab"><button data-href="#test1-2">GET *</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test1-1"><p>ä½¿ç”¨ GET /demo æŸ¥è¯¢<img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/image/20200708233852.png" alt=""></p><button class="tab-to-top" onclick="scrollToDest($(this).parents('.tabs'),65)"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-2"><p>ä½¿ç”¨ GET * æŸ¥è¯¢</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/image/20200708234104.png" alt=""></p><button class="tab-to-top" onclick="scrollToDest($(this).parents('.tabs'),65)"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="åˆ é™¤ç´¢å¼•">åˆ é™¤ç´¢å¼•</h2><blockquote><p>åˆ é™¤ç´¢å¼•ä½¿ç”¨DELETEè¯·æ±‚ï¼Œè¯­æ³•æ ¼å¼ï¼š<strong>DELETE /ç´¢å¼•åº“å</strong></p></blockquote><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DELETE /demo</span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/image/20200708234844.png" alt=""></p><p>å†æ¬¡æŸ¥çœ‹demoï¼ŒçŠ¶æ€ç ä¸º404ï¼Œå·²ç»åˆ é™¤</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/image/20200708235035.png" alt=""></p><blockquote><p>ä¹Ÿå¯ä»¥ä½¿ç”¨HEADè¯·æ±‚ï¼ŒæŸ¥çœ‹ç´¢å¼•æ˜¯å¦å­˜åœ¨ï¼Œè¯­æ³•æ ¼å¼ï¼š<strong>HEAD  /ç´¢å¼•åº“å</strong></p></blockquote><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/image/20200708235401.png" alt=""></p><h2 id="ç´¢å¼•æ˜ å°„">ç´¢å¼•æ˜ å°„</h2><p>ç´¢å¼•å·²ç»åˆ›å»ºå¥½äº†ï¼Œæ¥ä¸‹æ¥è¦æ·»åŠ æ•°æ®ã€‚æ•°æ®å­˜å‚¨åœ¨ç´¢å¼•åº“ä¸­ï¼Œéœ€è¦æŒ‡å®šä¸€äº›ç›¸å…³å±æ€§ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼š</p><ul><li>å­—æ®µçš„æ•°æ®ç±»å‹</li><li>æ˜¯å¦è¦å­˜å‚¨</li><li>æ˜¯å¦è¦ç´¢å¼•</li><li>æ˜¯å¦åˆ†è¯</li><li>åˆ†æå™¨ç§ç±»</li></ul><p>åªæœ‰é…ç½®æ¸…æ¥šï¼ŒElasticsearchæ‰ä¼šåˆ›å»ºæ•°æ®ï¼ˆä¸ä¸€å®šï¼‰</p><h3 id="åˆ›å»ºæ˜ å°„å­—æ®µ">åˆ›å»ºæ˜ å°„å­—æ®µ</h3><blockquote><p>åˆ›å»ºæ˜ å°„å­—æ®µä½¿ç”¨çš„æ˜¯PUTè¯·æ±‚ï¼Œè¯­æ³•æ ¼å¼ï¼š</p></blockquote><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">PUT /ç´¢å¼•åº“å/_mapping/ç±»å‹åç§°# Elasticsearch6ä¹‹å‰ä½¿ç”¨</span><br><span class="line">PUT /ç´¢å¼•åº“å/_mapping/# Elasticsearch7ä¹‹åä½¿ç”¨,7ç‰ˆæœ¬ä¹‹åï¼Œå»é™¤äº†type</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">"properties"</span>:&#123;</span><br><span class="line"><span class="attr">"å­—æ®µå"</span>:&#123;</span><br><span class="line"><span class="attr">"type"</span>: <span class="string">"ç±»å‹"</span>,</span><br><span class="line"><span class="attr">"index"</span>: <span class="literal">true</span>,</span><br><span class="line"><span class="attr">"store"</span>: <span class="literal">true</span>,</span><br><span class="line"><span class="attr">"analyaer"</span>: <span class="string">"åˆ†è¯å™¨"</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ç±»å‹åç§°ï¼štypeçš„æ¦‚å¿µï¼Œç±»ä¼¼äºMySQLä¸­çš„æ•°æ®è¡¨ï¼ˆtableï¼‰</li><li>å­—æ®µåï¼šFieldçš„æ¦‚å¿µï¼Œç±»ä¼¼äºMySQLä¸­çš„è¡Œï¼Œå±æ€§å<ul><li>typeï¼šç±»å‹ï¼Œå¯é€‰å€¼æœ‰textã€longã€shortã€dateã€integerã€objectç­‰</li><li>indexï¼šæ˜¯å¦ç´¢å¼•ï¼Œé»˜è®¤ä¸ºtrueï¼Œå¯ä¸å†™</li><li>storeï¼šæ˜¯å¦å­˜å‚¨ï¼Œé»˜è®¤ä¸ºfalseï¼Œå¯ä¸å†™</li><li>analyerï¼šåˆ†è¯å™¨ï¼Œè¿™é‡Œä½¿ç”¨çš„<code>ik_max_word</code>å°±æ˜¯<code>ikåˆ†è¯å™¨</code></li></ul></li></ul><p>ç¤ºä¾‹</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/image/20200709001656.png" alt=""></p><h3 id="æŸ¥çœ‹æ˜ å°„å…³ç³»">æŸ¥çœ‹æ˜ å°„å…³ç³»</h3><blockquote><p>æŸ¥çœ‹æ˜ å°„å…³ç³»ä½¿ç”¨GETè¯·æ±‚ï¼Œè¯­æ³•æ ¼å¼ï¼š<strong>GET /ç´¢å¼•åº“å/_mapping</strong></p></blockquote><p>ç¤ºä¾‹ï¼š</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET /demo1/_mapping</span><br></pre></td></tr></table></figure><p>å“åº”</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/image/20200709003533.png" alt=""></p><h3 id="å­—æ®µå±æ€§è¯¦è§£">å­—æ®µå±æ€§è¯¦è§£</h3><ul><li><p>type</p><p>Elasticsearchä¸­æ”¯æŒçš„æ•°æ®ç±»å‹éå¸¸ä¸°å¯Œï¼š</p><p>å®˜æ–¹æ–‡æ¡£åœ°å€ï¼š<a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-types.html" target="_blank" rel="noopener">typeå®˜æ–¹æ–‡æ¡£åœ°å€</a></p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/image/20200709010522.png" alt=""></p><ul><li>Stringç±»å‹ï¼Œåˆåˆ†ä¸¤ç§<ul><li>textï¼šå¯åˆ†è¯ï¼Œä¸å¯å‚ä¸èšåˆ</li><li>keywordï¼šä¸å¯åˆ†è¯ï¼Œæ•°æ®ä¼šä½œä¸ºå®Œæ•´å­—æ®µè¿›è¡ŒåŒ¹é…ï¼Œå¯ä»¥å‚ä¸èšåˆ</li></ul></li><li>Numericï¼šæ•°å€¼ç±»å‹<ul><li>åŸºæœ¬æ•°æ®ç±»å‹ï¼šlongã€integerã€shortã€byteã€doubleã€floatã€half_float</li><li>æµ®ç‚¹æ•°çš„é«˜ç²¾åº¦ç±»å‹ï¼šscaled_float<ul><li>éœ€è¦æŒ‡å®šä¸€ä¸ªç²¾åº¦å› å­ï¼Œæ¯”å¦‚10æˆ–100ï¼ŒElasticsearchä¼šæŠŠçœŸå®å€¼ä¹˜ä»¥è¿™ä¸ªå› å­åå­˜å‚¨ï¼Œå–å‡ºæ—¶å†è¿˜åŸ</li></ul></li></ul></li><li>Dateï¼šæ—¥æœŸç±»å‹<ul><li>Elasticsearchå¯ä»¥å¯¹æ—¥æœŸæ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸²å­˜å‚¨ï¼Œä½†æ˜¯å»ºè®®æˆ‘ä»¬å­˜å‚¨ä¸ºæ¯«ç§’å€¼ï¼Œå­˜å‚¨ä¸ºlongï¼ŒèŠ‚çœç©ºé—´</li></ul></li></ul></li><li><p>index</p><p>indexå½±å“å­—æ®µçš„ç´¢å¼•æƒ…å†µ</p><p>å®˜æ–¹æ–‡æ¡£åœ°å€ï¼š<a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-index.html" target="_blank" rel="noopener">indexå®˜æ–¹æ–‡æ¡£åœ°å€</a></p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/image/20200709111041.png" alt=""></p><ul><li>trueï¼šå­—æ®µä¼šè¢«ç´¢å¼•ï¼Œåˆ™å¯ä»¥ç”¨æ¥è¿›è¡Œæœç´¢ï¼Œé»˜è®¤å€¼ä¸ºtrue</li><li>falseï¼šå­—æ®µä¸ä¼šè¢«ç´¢å¼•ï¼Œä¸å¯ä»¥ç”¨æ¥è¿›è¡Œæœç´¢</li></ul></li><li><p>store</p><p>æ˜¯å¦å°†å­—æ®µè¿›è¡Œé¢å¤–å­˜å‚¨ã€‚</p><p>å®˜æ–¹æ–‡æ¡£åœ°å€ï¼š<a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-store.html" target="_blank" rel="noopener">storeå®˜æ–¹æ–‡æ¡£åœ°å€</a></p><p>åœ¨Luceneå’ŒSolrä¸­ï¼Œå¦‚æœä¸€ä¸ªå­—æ®µçš„<code>store</code>è®¾ç½®ä¸º<code>false</code>ï¼Œé‚£ä¹ˆåœ¨æ–‡æ¡£åˆ—è¡¨ä¸­å°±ä¸ä¼šæœ‰è¿™ä¸ªå­—æ®µçš„å€¼ï¼Œæœç´¢ç»“æœä¸­ä¹Ÿä¸ä¼šæ˜¾ç¤ºå‡ºæ¥ã€‚</p><p>ä½†åœ¨Elasticsearchä¸­ï¼Œå³ä½¿å­—æ®µçš„<code>store</code>è®¾ç½®ä¸º<code>false</code>ï¼Œä¹Ÿå¯ä»¥æœç´¢åˆ°ç»“æœã€‚</p><p>å› ä¸ºElasticsearchåœ¨åˆ›å»ºæ–‡æ¡£ç´¢å¼•æ—¶ï¼Œä¼šå°†æ–‡æ¡£ä¸­çš„åŸå§‹æ•°æ®å¤‡ä»½ï¼Œä¿å­˜åˆ°ä¸€ä¸ªå«<code>_source</code>çš„å±æ€§ä¸­ã€‚å¯ä»¥é€šè¿‡è¿‡æ»¤<code>_source</code>æ¥é€‰æ‹©å“ªäº›è¦æ˜¾ç¤ºï¼Œå“ªäº›ä¸æ˜¾ç¤ºã€‚</p><p>å¦‚æœ<code>store</code>è®¾ç½®ä¸º<code>true</code>ï¼Œå°±ä¼šåœ¨<code>_source</code>ä»¥å¤–é¢å¤–å­˜å‚¨ä¸€ä»½æ•°æ®ï¼Œä¼šå¾ˆå¤šä½™ï¼Œå› æ­¤ï¼Œä¸€èˆ¬éƒ½å°†<code>store</code>è®¾ç½®ä¸º<code>false</code>ï¼Œå…¶é»˜è®¤å€¼ä¹Ÿä¸º<code>false</code></p></li><li><p>boost</p><p>å®˜æ–¹æ–‡æ¡£åœ°å€ï¼š<a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-boost.html" target="_blank" rel="noopener">boostå®˜æ–¹æ–‡æ¡£åœ°å€</a></p><p>æ¿€åŠ±å› å­ï¼Œåœ¨æŸ¥è¯¢æ—¶ï¼Œå¯ä»¥ä½¿ç”¨<code>boost</code>å‚æ•°è‡ªåŠ¨å¢å¼ºå„ä¸ªå­—æ®µï¼ˆå¯¹ç›¸å…³æ€§å¾—åˆ†è¿›è¡Œè®¡ç®—ï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">PUT my_index</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"mappings"</span>: &#123;</span><br><span class="line">    <span class="string">"properties"</span>: &#123;</span><br><span class="line">      <span class="string">"title"</span>: &#123;</span><br><span class="line">        <span class="string">"type"</span>: <span class="string">"text"</span>,</span><br><span class="line">        <span class="string">"boost"</span>: 2</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="string">"content"</span>: &#123;</span><br><span class="line">        <span class="string">"type"</span>: <span class="string">"text"</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>title</code>å­—æ®µä¸Šçš„åŒ¹é…çš„æƒé‡æ˜¯<code>content</code>çš„2å€ï¼Œé»˜è®¤<code>boost</code>å€¼ä¸º1.0</p><div class="note warning icon"><p>boostä»…åº”ç”¨äºæœ¯è¯­æŸ¥è¯¢(å‰ç¼€ã€èŒƒå›´å’Œæ¨¡ç³ŠæŸ¥è¯¢ä¸è¢«å¢å¼º)ã€‚</p></div></li></ul><h2 id="æ–°å¢æ•°æ®">æ–°å¢æ•°æ®</h2><h3 id="éšæœºç”Ÿæˆid">éšæœºç”Ÿæˆid</h3><blockquote><p>é€šè¿‡POSTè¯·æ±‚ï¼Œå¯ä»¥å‘ä¸€ä¸ªå·²ç»å­˜åœ¨çš„ç´¢å¼•åº“ä¸­æ·»åŠ æ•°æ®ï¼Œè¯­æ³•æ ¼å¼ï¼š</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">POST /ç´¢å¼•åº“å/_doc</span><br><span class="line">&#123;</span><br><span class="line"><span class="string">"key"</span>: <span class="string">"value"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">POST /demo1/_doc</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"title"</span>: <span class="string">"åä¸ºæ‰‹æœº"</span>,</span><br><span class="line">  <span class="string">"images"</span>: <span class="string">"images/1.jpg"</span>,</span><br><span class="line">  <span class="string">"price"</span>: 4999.00</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/image/20200709134709.png" alt=""></p><p>æŸ¥çœ‹æ•°æ®ï¼š</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/image/20200709135324.png" alt=""></p><p>å…¶ä¸­ï¼š</p><ul><li><code>_source</code>ï¼šæºæ–‡æ¡£ä¿¡æ¯ï¼Œæ‰€æœ‰æ•°æ®éƒ½åœ¨è¿™é‡Œ</li><li><code>_id</code>ï¼šè¿™æ¡æ–‡æ¡£çš„å”¯ä¸€æ ‡è¯†ï¼Œä¸æ–‡æ¡£è‡ªå·±çš„<code>id</code>å­—æ®µæ²¡æœ‰ä»»ä½•å…³è”</li></ul><h3 id="è‡ªå®šä¹‰id">è‡ªå®šä¹‰id</h3><blockquote><p>ä¹Ÿå¯ä»¥åœ¨æ–°å¢æ•°æ®çš„æ—¶å€™è‡ªå®šä¹‰idï¼Œè¯­æ³•æ ¼å¼ï¼š</p></blockquote><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">POST /ç´¢å¼•åº“å/_doc/id</span><br><span class="line">&#123;</span><br><span class="line"><span class="code">"key": "value"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">POST /demo1/_doc/10011</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"title"</span>: <span class="string">"åä¸ºæ‰‹æœº"</span>,</span><br><span class="line">  <span class="string">"images"</span>: <span class="string">"images/1.jpg"</span>,</span><br><span class="line">  <span class="string">"price"</span>: 4999.00</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/image/20200709135818.png" alt=""></p><div class="note danger icon"><p>å›¾å¤ªå¤šäº†ï¼Œå°±ä¸ä¼ å›¾äº†ï¼Œä½¿ç”¨ä»£ç å—æ¥å±•ç¤º</p></div><p>æŸ¥çœ‹æ•°æ®ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">GET _search</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"query"</span>: &#123;</span><br><span class="line"><span class="string">"match_all"</span>: &#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»“æœï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"_index"</span> : <span class="string">"demo1"</span>,</span><br><span class="line">    <span class="attr">"_type"</span> : <span class="string">"_doc"</span>,</span><br><span class="line">    <span class="attr">"_id"</span> : <span class="string">"10010"</span>,</span><br><span class="line">    <span class="attr">"_score"</span> : <span class="number">0.18232156</span>,</span><br><span class="line"><span class="attr">"_source"</span> : &#123;</span><br><span class="line">        <span class="attr">"title"</span> : <span class="string">"åä¸ºæ‰‹æœº"</span>,</span><br><span class="line">        <span class="attr">"images"</span> : <span class="string">"images/1.jpg"</span>,</span><br><span class="line">        <span class="attr">"price"</span> : <span class="number">4999.0</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œ<code>_id</code>å±æ€§å€¼ä¸ºè‡ªå®šä¹‰id</p><h3 id="æ™ºèƒ½åˆ¤æ–­">æ™ºèƒ½åˆ¤æ–­</h3><p>åœ¨Solrä¸­ï¼Œæ–°å¢æ•°æ®åªèƒ½ä½¿ç”¨æå‰é…ç½®å¥½çš„æ˜ å°„å±æ€§çš„å­—æ®µï¼Œå¦åˆ™å°±ä¼šæŠ¥é”™ã€‚</p><p>ä½†åœ¨Elasticsearchä¸­ï¼Œå¹¶æ²¡æœ‰è¿™æ ·çš„è§„åˆ™ã€‚Elasticsearchéå¸¸æ™ºèƒ½ï¼Œä¸éœ€è¦ç»™ç´¢å¼•åº“è®¾ç½®ä»»ä½•mappingæ˜ å°„ï¼Œå®ƒå¯ä»¥æ ¹æ®è¾“å…¥çš„æ•°æ®å†…å®¹æ¥åˆ¤æ–­æ•°æ®ç±»å‹ï¼ŒåŠ¨æ€æ·»åŠ æ•°æ®æ˜ å°„ã€‚</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">POST /demo1/_doc/10010</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"title"</span>: <span class="string">"åä¸ºæ‰‹æœº"</span>,</span><br><span class="line">  <span class="string">"images"</span>: <span class="string">"images/1.jpg"</span>,</span><br><span class="line">  <span class="string">"price"</span>: 4999.00,</span><br><span class="line">  <span class="string">"stock"</span>: 200,</span><br><span class="line">  <span class="string">"saleable"</span>:<span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é¢å¤–æ·»åŠ äº†<code>stock</code>å’Œ<code>saleable</code>ä¸¤ä¸ªå­—æ®µã€‚</p><p>æŸ¥è¯¢ç»“æœï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"_index"</span> : <span class="string">"demo1"</span>,</span><br><span class="line">    <span class="attr">"_type"</span> : <span class="string">"_doc"</span>,</span><br><span class="line">    <span class="attr">"_id"</span> : <span class="string">"10010"</span>,</span><br><span class="line">    <span class="attr">"_score"</span> : <span class="number">0.2876821</span>,</span><br><span class="line">    <span class="attr">"_source"</span> : &#123;</span><br><span class="line">        <span class="attr">"title"</span> : <span class="string">"åä¸ºæ‰‹æœº"</span>,</span><br><span class="line">        <span class="attr">"images"</span> : <span class="string">"images/1.jpg"</span>,</span><br><span class="line">        <span class="attr">"price"</span> : <span class="number">4999.0</span>,</span><br><span class="line">        <span class="attr">"stock"</span> : <span class="number">200</span>,</span><br><span class="line">        <span class="attr">"saleable"</span> : <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å†æ¬¡æŸ¥çœ‹ç´¢å¼•åº“æ˜ å°„å…³ç³»</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥è¯¢è¯­å¥</span></span><br><span class="line">GET /demo1/_mapping</span><br><span class="line"><span class="comment"># ç»“æœ</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"demo1"</span> : &#123;</span><br><span class="line">    <span class="string">"mappings"</span> : &#123;</span><br><span class="line">      <span class="string">"properties"</span> : &#123;</span><br><span class="line">        <span class="string">"images"</span> : &#123;</span><br><span class="line">          <span class="string">"type"</span> : <span class="string">"keyword"</span>,</span><br><span class="line">          <span class="string">"index"</span> : <span class="literal">false</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">"price"</span> : &#123;</span><br><span class="line">          <span class="string">"type"</span> : <span class="string">"float"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">"saleable"</span> : &#123;</span><br><span class="line">          <span class="string">"type"</span> : <span class="string">"boolean"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">"stock"</span> : &#123;</span><br><span class="line">          <span class="string">"type"</span> : <span class="string">"long"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">"title"</span> : &#123;</span><br><span class="line">          <span class="string">"type"</span> : <span class="string">"text"</span>,</span><br><span class="line">          <span class="string">"analyzer"</span> : <span class="string">"ik_max_word"</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>stock</code>å’Œ<code>saleable</code>éƒ½è¢«æˆåŠŸæ˜ å°„äº†ã€‚</p><h2 id="ä¿®æ”¹æ•°æ®">ä¿®æ”¹æ•°æ®</h2><blockquote><p>ä¿®æ”¹æ•°æ®ä½¿ç”¨ PUTè¯·æ±‚ï¼Œè¯­æ³•æ ¼å¼ï¼š</p></blockquote><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">PUT /ç´¢å¼•åº“å/_doc/idå€¼</span><br><span class="line">&#123;</span><br><span class="line"><span class="code">"key": "value"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>å¦‚æœidå¯¹åº”çš„æ–‡æ¡£å­˜åœ¨ï¼Œåˆ™ä¿®æ”¹</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/image/20200709150601.png" alt=""></p></li><li><p>å¦‚æœidå¯¹åº”çš„æ–‡æ¡£ä¸å­˜åœ¨ï¼Œåˆ™æ–°å¢</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/image/20200709150637.png" alt=""></p></li></ul><h2 id="åˆ é™¤æ•°æ®">åˆ é™¤æ•°æ®</h2><blockquote><p>åˆ é™¤æ•°æ®ä½¿ç”¨ DELETEè¯·æ±‚ï¼Œè¯­æ³•æ ¼å¼ï¼š</p></blockquote><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DELETE /ç´¢å¼•åº“å/_doc/idå€¼</span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹ï¼š</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/image/20200710093800.png" alt=""></p><h1>æŸ¥è¯¢</h1><h2 id="åŸºæœ¬æŸ¥è¯¢">åŸºæœ¬æŸ¥è¯¢</h2><blockquote><p>åŸºæœ¬è¯­æ³•</p></blockquote><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">GET /ç´¢å¼•åº“å/_search</span><br><span class="line">&#123;</span><br><span class="line"><span class="code">"query":&#123;</span></span><br><span class="line"><span class="code">"æŸ¥è¯¢ç±»å‹": &#123;</span></span><br><span class="line"><span class="code">"æŸ¥è¯¢æ¡ä»¶": "æŸ¥è¯¢æ¡ä»¶å€¼"</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>query</code>ä»£è¡¨ä¸€ä¸ªæŸ¥è¯¢å¯¹è±¡ï¼Œé‡Œé¢å¯ä»¥æœ‰ä¸åŒçš„æŸ¥è¯¢å±æ€§</p><ul><li>æŸ¥è¯¢ç±»å‹ï¼š<code>match</code>ã€<code>match_all</code>ã€<code>term</code>ã€<code>range</code>ç­‰ç­‰</li><li>æŸ¥è¯¢æ¡ä»¶ï¼šæŸ¥è¯¢æ¡ä»¶ä¼šæ ¹æ®ç±»å‹çš„ä¸åŒï¼Œå†™æ³•ä¹Ÿæœ‰æ‰€ä¸åŒã€‚</li></ul><h3 id="æŸ¥è¯¢æ‰€æœ‰-match-all">æŸ¥è¯¢æ‰€æœ‰ match_all</h3><p>ç¤ºä¾‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">GET /demo1/_search</span><br><span class="line">&#123;</span><br><span class="line"><span class="string">"query"</span>: &#123;</span><br><span class="line"><span class="string">"match_all"</span>: &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><code>query</code>ï¼šä»£è¡¨æŸ¥è¯¢å¯¹è±¡</li><li><code>match_all</code>ï¼šä»£è¡¨æŸ¥è¯¢æ‰€æœ‰</li></ul><p>ç»“æœï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"took"</span> : <span class="number">3</span>,</span><br><span class="line">  <span class="attr">"timed_out"</span> : <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">"_shards"</span> : &#123;</span><br><span class="line">    <span class="attr">"total"</span> : <span class="number">3</span>,</span><br><span class="line">    <span class="attr">"successful"</span> : <span class="number">3</span>,</span><br><span class="line">    <span class="attr">"skipped"</span> : <span class="number">0</span>,</span><br><span class="line">    <span class="attr">"failed"</span> : <span class="number">0</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"hits"</span> : &#123;</span><br><span class="line">    <span class="attr">"total"</span> : &#123;</span><br><span class="line">      <span class="attr">"value"</span> : <span class="number">4</span>,</span><br><span class="line">      <span class="attr">"relation"</span> : <span class="string">"eq"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"max_score"</span> : <span class="number">1.0</span>,</span><br><span class="line">    <span class="attr">"hits"</span> : [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"_index"</span> : <span class="string">"demo1"</span>,</span><br><span class="line">        <span class="attr">"_type"</span> : <span class="string">"_doc"</span>,</span><br><span class="line">        <span class="attr">"_id"</span> : <span class="string">"10010"</span>,</span><br><span class="line">        <span class="attr">"_score"</span> : <span class="number">1.0</span>,</span><br><span class="line">        <span class="attr">"_source"</span> : &#123;</span><br><span class="line">          <span class="attr">"title"</span> : <span class="string">"åä¸ºæ‰‹æœº"</span>,</span><br><span class="line">          <span class="attr">"images"</span> : <span class="string">"images/1.jpg"</span>,</span><br><span class="line">          <span class="attr">"price"</span> : <span class="number">4999.0</span>,</span><br><span class="line">          <span class="attr">"stock"</span> : <span class="number">200</span>,</span><br><span class="line">          <span class="attr">"saleable"</span> : <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"_index"</span> : <span class="string">"demo1"</span>,</span><br><span class="line">        <span class="attr">"_type"</span> : <span class="string">"_doc"</span>,</span><br><span class="line">        <span class="attr">"_id"</span> : <span class="string">"10012"</span>,</span><br><span class="line">        <span class="attr">"_score"</span> : <span class="number">1.0</span>,</span><br><span class="line">        <span class="attr">"_source"</span> : &#123;</span><br><span class="line">          <span class="attr">"title"</span> : <span class="string">"åä¸ºæ‰‹æœº"</span>,</span><br><span class="line">          <span class="attr">"images"</span> : <span class="string">"images/1.jpg"</span>,</span><br><span class="line">          <span class="attr">"price"</span> : <span class="number">4999.0</span>,</span><br><span class="line">          <span class="attr">"stock"</span> : <span class="number">200</span>,</span><br><span class="line">          <span class="attr">"saleable"</span> : <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"_index"</span> : <span class="string">"demo1"</span>,</span><br><span class="line">        <span class="attr">"_type"</span> : <span class="string">"_doc"</span>,</span><br><span class="line">        <span class="attr">"_id"</span> : <span class="string">"llAgMnMBTqiphn18iYVc"</span>,</span><br><span class="line">        <span class="attr">"_score"</span> : <span class="number">1.0</span>,</span><br><span class="line">        <span class="attr">"_source"</span> : &#123;</span><br><span class="line">          <span class="attr">"title"</span> : <span class="string">"åä¸ºæ‰‹æœº"</span>,</span><br><span class="line">          <span class="attr">"images"</span> : <span class="string">"images/1.jpg"</span>,</span><br><span class="line">          <span class="attr">"price"</span> : <span class="number">4999.0</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"_index"</span> : <span class="string">"demo1"</span>,</span><br><span class="line">        <span class="attr">"_type"</span> : <span class="string">"_doc"</span>,</span><br><span class="line">        <span class="attr">"_id"</span> : <span class="string">"10011"</span>,</span><br><span class="line">        <span class="attr">"_score"</span> : <span class="number">1.0</span>,</span><br><span class="line">        <span class="attr">"_source"</span> : &#123;</span><br><span class="line">          <span class="attr">"title"</span> : <span class="string">"åä¸ºæ‰‹æœº"</span>,</span><br><span class="line">          <span class="attr">"images"</span> : <span class="string">"images/1.jpg"</span>,</span><br><span class="line">          <span class="attr">"price"</span> : <span class="number">4999.0</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><code>took</code>ï¼šæŸ¥è¯¢èŠ±è´¹æ—¶é—´</li><li><code>time_out</code>ï¼šæ˜¯å¦è¶…æ—¶</li><li><code>_shards</code>ï¼šåˆ†ç‰‡ä¿¡æ¯</li><li><code>hits</code>ï¼šæœç´¢ç»“æœæ€»è§ˆå¯¹è±¡<ul><li><code>total</code>ï¼šæœç´¢åˆ°çš„æ€»æ¡æ•°</li><li><code>max_score</code>ï¼šæ‰€æœ‰æœç´¢åˆ°çš„æ–‡æ¡£ä¸­å¾—åˆ†çš„æœ€é«˜åˆ†</li><li><code>hits</code>ï¼šæœç´¢ç»“æœçš„æ–‡æ¡£å¯¹è±¡æ•°ç»„ï¼Œæ¯ä¸ªå…ƒç´ æ˜¯ä¸€æ¡æœç´¢åˆ°çš„æ–‡æ¡£ä¿¡æ¯<ul><li><code>_index</code>ï¼šç´¢å¼•åº“</li><li><code>_type</code>ï¼šæ–‡æ¡£ç±»å‹</li><li><code>_id</code>ï¼šæ–‡æ¡£id</li><li><code>_score</code>ï¼šæ–‡æ¡£å¾—åˆ†</li><li><code>_source</code>ï¼šæ–‡æ¡£çš„æºæ•°æ®</li></ul></li></ul></li></ul><h3 id="åŒ¹é…æŸ¥è¯¢-match">åŒ¹é…æŸ¥è¯¢ match</h3><p>æŸ¥çœ‹å½“å‰æ–‡æ¡£æ•°æ®</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/image/20200713012105.png" alt=""></p><ul><li>or å…³ç³»</li></ul><blockquote><p>ä½¿ç”¨<code>match</code>ç±»å‹æŸ¥è¯¢ï¼Œä¼šæŠŠæŸ¥è¯¢æ¡ä»¶è¿›è¡Œåˆ†è¯ï¼Œç„¶åè¿›è¡ŒæŸ¥è¯¢ï¼Œå¤šä¸ªè¯æ¡ä¹‹é—´æ˜¯<strong>orå…³ç³»</strong></p></blockquote><p>ç¤ºä¾‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">GET /demo1/_search</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"query"</span>: &#123;</span><br><span class="line">    <span class="string">"match"</span>: &#123;</span><br><span class="line">      <span class="string">"title"</span>: <span class="string">"å°ç±³æ‰‹æœº"</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢ç»“æœï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"_index"</span>: <span class="string">"demo1"</span>,</span><br><span class="line">  <span class="attr">"_type"</span>: <span class="string">"_doc"</span>,</span><br><span class="line">  <span class="attr">"_id"</span>: <span class="string">"10001"</span>,</span><br><span class="line">  <span class="attr">"_score"</span>: <span class="number">1.3862942</span>,</span><br><span class="line">  <span class="attr">"_source"</span>: &#123;</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"åä¸ºæ‰‹æœº"</span>,</span><br><span class="line">    <span class="attr">"images"</span>: <span class="string">"images/1.jpg"</span>,</span><br><span class="line">    <span class="attr">"price"</span>: <span class="number">5999.0</span>,</span><br><span class="line">    <span class="attr">"stock"</span>: <span class="number">1500</span>,</span><br><span class="line">    <span class="attr">"saleable"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">"_index"</span>: <span class="string">"demo1"</span>,</span><br><span class="line">  <span class="attr">"_type"</span>: <span class="string">"_doc"</span>,</span><br><span class="line">  <span class="attr">"_id"</span> : <span class="string">"10005"</span>,</span><br><span class="line">  <span class="attr">"_score"</span>: <span class="number">0.87546873</span>,</span><br><span class="line">  <span class="attr">"_source"</span>: &#123;</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"å°ç±³ç”µé¥­ç…²"</span>,</span><br><span class="line">    <span class="attr">"images"</span>: <span class="string">"images/1.jpg"</span>,</span><br><span class="line">    <span class="attr">"price"</span>: <span class="number">399.0</span>,</span><br><span class="line">    <span class="attr">"stock"</span>: <span class="number">3000</span>,</span><br><span class="line">    <span class="attr">"saleable"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">"_index"</span>: <span class="string">"demo1"</span>,</span><br><span class="line">  <span class="attr">"_type"</span>: <span class="string">"_doc"</span>,</span><br><span class="line">  <span class="attr">"_id"</span>: <span class="string">"10006"</span>,</span><br><span class="line">  <span class="attr">"_score"</span>: <span class="number">0.87546873</span>,</span><br><span class="line">  <span class="attr">"_source"</span> : &#123;</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"å°ç±³ç”µè§†"</span>,</span><br><span class="line">    <span class="attr">"images"</span>: <span class="string">"images/1.jpg"</span>,</span><br><span class="line">    <span class="attr">"price"</span>: <span class="number">1999.0</span>,</span><br><span class="line">    <span class="attr">"stock"</span>: <span class="number">5000</span>,</span><br><span class="line">    <span class="attr">"saleable"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">"_index"</span>: <span class="string">"demo1"</span>,</span><br><span class="line">  <span class="attr">"_type"</span> : <span class="string">"_doc"</span>,</span><br><span class="line">  <span class="attr">"_id"</span>: <span class="string">"10004"</span>,</span><br><span class="line">  <span class="attr">"_score"</span>: <span class="number">0.5753642</span>,</span><br><span class="line">  <span class="attr">"_source"</span>: &#123;</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"å°ç±³æ‰‹æœº"</span>,</span><br><span class="line">    <span class="attr">"images"</span>: <span class="string">"images/1.jpg"</span>,</span><br><span class="line">    <span class="attr">"price"</span>: <span class="number">3999.0</span>,</span><br><span class="line">    <span class="attr">"stock"</span>: <span class="number">5000</span>,</span><br><span class="line">    <span class="attr">"saleable"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢çš„æ¡ˆä¾‹ä¸­ï¼ŒæŠŠæŸ¥è¯¢æ¡ä»¶â€œå°ç±³æ‰‹æœºâ€åˆ†è¯æˆ å°ç±³ å’Œ æ‰‹æœº ä¸¤ä¸ªè¯ï¼Œä¸è¿™ä¸¤ä¸ªè¯ç›¸å…³çš„æ–‡æ¡£éƒ½ä¼šè¢«æŸ¥åˆ°ï¼Œå¤šä¸ªè¯ä¹‹é—´æ˜¯<strong>orå…³ç³»</strong></p><ul><li>and å…³ç³»</li></ul><blockquote><p>æŸäº›æƒ…å†µä¸‹ï¼Œéœ€è¦æ›´ç²¾ç¡®çš„æŸ¥æ‰¾ï¼Œå¸Œæœ›è¿™ä¸ªå…³ç³»å˜æˆ<strong>andå…³ç³»</strong></p></blockquote><p>ç¤ºä¾‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">GET /demo1/_search</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"query"</span>: &#123;</span><br><span class="line">    <span class="string">"match"</span>: &#123;</span><br><span class="line">      <span class="string">"title"</span>: &#123;</span><br><span class="line">        <span class="string">"query"</span>: <span class="string">"å°ç±³æ‰‹æœº"</span>,</span><br><span class="line">        <span class="string">"operator"</span>: <span class="string">"and"</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢ç»“æœï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"_index"</span>: <span class="string">"demo1"</span>,</span><br><span class="line">  <span class="attr">"_type"</span> : <span class="string">"_doc"</span>,</span><br><span class="line">  <span class="attr">"_id"</span>: <span class="string">"10004"</span>,</span><br><span class="line">  <span class="attr">"_score"</span>: <span class="number">0.5753642</span>,</span><br><span class="line">  <span class="attr">"_source"</span>: &#123;</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"å°ç±³æ‰‹æœº"</span>,</span><br><span class="line">    <span class="attr">"images"</span>: <span class="string">"images/1.jpg"</span>,</span><br><span class="line">    <span class="attr">"price"</span>: <span class="number">3999.0</span>,</span><br><span class="line">    <span class="attr">"stock"</span>: <span class="number">5000</span>,</span><br><span class="line">    <span class="attr">"saleable"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åªæœ‰åŒæ—¶åŒ…å« <code>å°ç±³</code>å’Œ<code>æ‰‹æœº</code>ä¸¤ä¸ªè¯çš„æ–‡æ¡£æ‰èƒ½è¢«æŸ¥è¯¢åˆ°</p><ul><li>or å’Œ and ä¹‹é—´</li></ul><p>åœ¨ <code>or</code> ä¸ <code>and</code> é—´äºŒè€…é€‰æ‹©ä¸€ä¸ªï¼Œæœ‰äº›ç‰‡é¢ã€‚å¦‚æœç”¨æˆ·ç»™å‡ºçš„æŸ¥è¯¢æ¡ä»¶åˆ†è¯åï¼Œæœ‰5ä¸ªè¯ï¼Œæƒ³æŸ¥æ‰¾åªåŒ…å«å…¶ä¸­4ä¸ªè¯çš„æ–‡æ¡£ï¼Œå¦‚ä½•å¤„ç†ï¼Ÿå°†<code>operator</code>è®¾ç½®ä¸ºandï¼Œåªä¼šå°†æ–‡æ¡£æ’é™¤ã€‚</p><p>æœ‰æ—¶å€™è¿™æ­£æ˜¯æˆ‘ä»¬æ‰€æœŸæœ›çš„ï¼Œåœ¨å…¨æ–‡æ£€ç´¢ä¸­ï¼Œæ—¢æƒ³åŒ…å«å“ªäº›å¯èƒ½ç›¸å…³çš„æ–‡æ¡£ï¼ŒåŒæ—¶åˆæƒ³æ’é™¤å“ªäº›ä¸å¤ªç›¸å…³çš„æ–‡æ¡£ï¼Œæ¢å¥è¯è¯´ï¼Œæƒ³è¦æŸ¥è¯¢æŸäº›ä¸­é—´ç»“æœã€‚</p><p><code>match</code>æŸ¥è¯¢æ”¯æŒ<code>minimum_should_match</code>æœ€å°åŒ¹é…å‚æ•°ï¼Œè¿™æ ·å¯ä»¥æŒ‡å®šå¿…é¡»åŒ¹é…çš„è¯é¡¹æ•°ç”¨æ¥è¡¨ç¤ºä¸€ä¸ªæ–‡æ¡£æ˜¯å¦ç›¸å…³ï¼Œå¯ä»¥å°†å…¶è®¾ä¸ºæŸä¸ªå…·ä½“æ•°å­—ï¼Œæ›´å¸¸ç”¨çš„æ–¹æ³•æ—¶è®¾ç½®ä¸ºç™¾åˆ†æ•°ï¼Œå› ä¸ºæ— æ³•æ§åˆ¶ç”¨æˆ·æœç´¢æ—¶ç»™å‡ºçš„æœç´¢æ¡ä»¶çš„è¯æ•°ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">GET /demo1/_search</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"query"</span>: &#123;</span><br><span class="line">    <span class="string">"match"</span>: &#123;</span><br><span class="line">      <span class="string">"title"</span>: &#123;</span><br><span class="line">        <span class="string">"query"</span>: <span class="string">"å°ç±³æ‰‹æœºç”µè§†ç›’å­"</span>,</span><br><span class="line">        <span class="string">"minimum_should_match"</span>: <span class="string">"40%"</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢ç»“æœï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"_index"</span>: <span class="string">"demo1"</span>,</span><br><span class="line">  <span class="attr">"_type"</span>: <span class="string">"_doc"</span>,</span><br><span class="line">  <span class="attr">"_id"</span>: <span class="string">"10006"</span>,</span><br><span class="line">  <span class="attr">"_score"</span>: <span class="number">0.87546873</span>,</span><br><span class="line">  <span class="attr">"_source"</span> : &#123;</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"å°ç±³ç”µè§†"</span>,</span><br><span class="line">    <span class="attr">"images"</span>: <span class="string">"images/1.jpg"</span>,</span><br><span class="line">    <span class="attr">"price"</span>: <span class="number">1999.0</span>,</span><br><span class="line">    <span class="attr">"stock"</span>: <span class="number">5000</span>,</span><br><span class="line">    <span class="attr">"saleable"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">"_index"</span>: <span class="string">"demo1"</span>,</span><br><span class="line">  <span class="attr">"_type"</span> : <span class="string">"_doc"</span>,</span><br><span class="line">  <span class="attr">"_id"</span>: <span class="string">"10004"</span>,</span><br><span class="line">  <span class="attr">"_score"</span>: <span class="number">0.5753642</span>,</span><br><span class="line">  <span class="attr">"_source"</span>: &#123;</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"å°ç±³æ‰‹æœº"</span>,</span><br><span class="line">    <span class="attr">"images"</span>: <span class="string">"images/1.jpg"</span>,</span><br><span class="line">    <span class="attr">"price"</span>: <span class="number">3999.0</span>,</span><br><span class="line">    <span class="attr">"stock"</span>: <span class="number">5000</span>,</span><br><span class="line">    <span class="attr">"saleable"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ¬ä¾‹ä¸­ï¼Œæœç´¢è¯­å¥å¯ä»¥åˆ†6ä¸ªè¯ï¼Œå¦‚æœä½¿ç”¨andå…³ç³»ï¼Œéœ€è¦åŒæ—¶æ»¡è¶³6ä¸ªè¯æ‰èƒ½è¢«æœç´¢åˆ°ï¼Œè¿™é‡Œä½¿ç”¨äº†æœ€å°åŒ¹é…å‚æ•°ï¼š40%ï¼Œä¹Ÿå°±æ˜¯åªè¦åŒ¹é…åˆ°æ€»åˆ†è¯æ•°çš„40%å³å¯ï¼Œ6*40% çº¦ç­‰äº 2ï¼Œåªè¦åŒ…å«2ä¸ªåˆ†è¯å³å¯</p><h3 id="å¤šå­—æ®µæŸ¥è¯¢-multi-match">å¤šå­—æ®µæŸ¥è¯¢ multi_match</h3><blockquote><p><code>multi_match</code> ä¸ <code>match</code>ç±»ä¼¼ï¼Œä¸åŒçš„æ˜¯å®ƒå¯ä»¥åœ¨å¤šä¸ªå­—æ®µä¸­æŸ¥è¯¢</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">GET /demo1/_search</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"query"</span>: &#123;</span><br><span class="line">    <span class="string">"multi_match"</span>: &#123;</span><br><span class="line">      <span class="string">"query"</span>: <span class="string">"åä¸º"</span>,</span><br><span class="line">      <span class="string">"fields"</span>: [<span class="string">"title"</span>,<span class="string">"subtitle"</span>]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ¬ä¾‹ä¸­ï¼Œä¼šåœ¨<code>title</code>å’Œ<code>subtitle</code>ä¸­æŸ¥è¯¢<code>åä¸º</code>è¿™ä¸ªè¯</p><h3 id="è¯æ¡åŒ¹é…-term">è¯æ¡åŒ¹é… term</h3><blockquote><p><code>term</code>è¢«ç”¨äºç²¾ç¡®å€¼åŒ¹é…ï¼Œè¿™äº›ç²¾ç¡®å€¼å¯èƒ½æ˜¯æ•°å­—ã€æ—¶é—´ã€å¸ƒå°”æˆ–è€…é‚£äº›<strong>æ²¡æœ‰åˆ†è¯</strong>çš„å­—ç¬¦ä¸²</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">GET /demo1/_search</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"query"</span>: &#123;</span><br><span class="line">    <span class="string">"term"</span>: &#123;</span><br><span class="line">      <span class="string">"price"</span>: &#123;</span><br><span class="line">        <span class="string">"value"</span>: <span class="string">"1999.00"</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢ç»“æœï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"_index"</span>: <span class="string">"demo1"</span>,</span><br><span class="line">  <span class="attr">"_type"</span>: <span class="string">"_doc"</span>,</span><br><span class="line">  <span class="attr">"_id"</span>: <span class="string">"10003"</span>,</span><br><span class="line">  <span class="attr">"_score"</span>: <span class="number">1.0</span>,</span><br><span class="line">  <span class="attr">"_source"</span>: &#123;</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"åä¸ºç”µè§†"</span>,</span><br><span class="line">    <span class="attr">"images"</span>: <span class="string">"images/1.jpg"</span>,</span><br><span class="line">    <span class="attr">"price"</span>: <span class="number">1999.0</span>,</span><br><span class="line">    <span class="attr">"stock"</span>: <span class="number">2500</span>,</span><br><span class="line">    <span class="attr">"saleable"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">"_index"</span>: <span class="string">"demo1"</span>,</span><br><span class="line">  <span class="attr">"_type"</span>: <span class="string">"_doc"</span>,</span><br><span class="line">  <span class="attr">"_id"</span>: <span class="string">"10006"</span>,</span><br><span class="line">  <span class="attr">"_score"</span>: <span class="number">1.0</span>,</span><br><span class="line">  <span class="attr">"_source"</span> : &#123;</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"å°ç±³ç”µè§†"</span>,</span><br><span class="line">    <span class="attr">"images"</span>: <span class="string">"images/1.jpg"</span>,</span><br><span class="line">    <span class="attr">"price"</span>: <span class="number">1999.0</span>,</span><br><span class="line">    <span class="attr">"stock"</span>: <span class="number">5000</span>,</span><br><span class="line">    <span class="attr">"saleable"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¤šè¯æ¡ç²¾ç¡®åŒ¹é…-terms">å¤šè¯æ¡ç²¾ç¡®åŒ¹é… terms</h3><blockquote><p><code>terms</code>å’Œ<code>term</code>æŸ¥è¯¢ä¸€æ ·ï¼Œä½†<code>terms</code>å…è®¸æŒ‡å®šå¤šå€¼åŒ¹é…ï¼Œå¦‚æœè¿™ä¸ªå­—æ®µåŒ…å«äº†æŒ‡å®šå€¼ä¸­çš„ä»»æ„ä¸€ä¸ªå€¼ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–‡æ¡£å°±æ»¡è¶³æ¡ä»¶</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">GET /demo1/_search</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"query"</span>: &#123;</span><br><span class="line">    <span class="string">"terms"</span>: &#123;</span><br><span class="line">      <span class="string">"price"</span>: [</span><br><span class="line">        1999.00,</span><br><span class="line">        2999.00,</span><br><span class="line">        3999.00</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢ç»“æœï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"_index"</span>: <span class="string">"demo1"</span>,</span><br><span class="line">  <span class="attr">"_type"</span>: <span class="string">"_doc"</span>,</span><br><span class="line">  <span class="attr">"_id"</span>: <span class="string">"10003"</span>,</span><br><span class="line">  <span class="attr">"_score"</span>: <span class="number">1.0</span>,</span><br><span class="line">  <span class="attr">"_source"</span>: &#123;</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"åä¸ºç”µè§†"</span>,</span><br><span class="line">    <span class="attr">"images"</span>: <span class="string">"images/1.jpg"</span>,</span><br><span class="line">    <span class="attr">"price"</span>: <span class="number">1999.0</span>,</span><br><span class="line">    <span class="attr">"stock"</span>: <span class="number">2500</span>,</span><br><span class="line">    <span class="attr">"saleable"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">"_index"</span>: <span class="string">"demo1"</span>,</span><br><span class="line">  <span class="attr">"_type"</span>: <span class="string">"_doc"</span>,</span><br><span class="line">  <span class="attr">"_id"</span>: <span class="string">"10006"</span>,</span><br><span class="line">  <span class="attr">"_score"</span>: <span class="number">0.87546873</span>,</span><br><span class="line">  <span class="attr">"_source"</span> : &#123;</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"å°ç±³ç”µè§†"</span>,</span><br><span class="line">    <span class="attr">"images"</span>: <span class="string">"images/1.jpg"</span>,</span><br><span class="line">    <span class="attr">"price"</span>: <span class="number">1999.0</span>,</span><br><span class="line">    <span class="attr">"stock"</span>: <span class="number">5000</span>,</span><br><span class="line">    <span class="attr">"saleable"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">"_index"</span>: <span class="string">"demo1"</span>,</span><br><span class="line">  <span class="attr">"_type"</span> : <span class="string">"_doc"</span>,</span><br><span class="line">  <span class="attr">"_id"</span>: <span class="string">"10004"</span>,</span><br><span class="line">  <span class="attr">"_score"</span>: <span class="number">0.5753642</span>,</span><br><span class="line">  <span class="attr">"_source"</span>: &#123;</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"å°ç±³æ‰‹æœº"</span>,</span><br><span class="line">    <span class="attr">"images"</span>: <span class="string">"images/1.jpg"</span>,</span><br><span class="line">    <span class="attr">"price"</span>: <span class="number">3999.0</span>,</span><br><span class="line">    <span class="attr">"stock"</span>: <span class="number">5000</span>,</span><br><span class="line">    <span class="attr">"saleable"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ç»“æœè¿‡æ»¤">ç»“æœè¿‡æ»¤</h2><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒElasticsearchåœ¨æœç´¢çš„ç»“æœä¸­ï¼Œä¼šæŠŠæ–‡æ¡£ä¸­ä¿å­˜åœ¨<code>_source</code>çš„æ‰€æœ‰å­—æ®µéƒ½è¿”å›ã€‚</p><p>å¦‚æœæƒ³è¦è·å–å…¶ä¸­çš„éƒ¨åˆ†å­—æ®µï¼Œå¯ä»¥æ·»åŠ <code>_source</code>çš„è¿‡æ»¤</p><h3 id="ç›´æ¥æŒ‡å®šå­—æ®µ">ç›´æ¥æŒ‡å®šå­—æ®µ</h3><p>ç¤ºä¾‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">GET /demo1/_search</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"_source"</span>: [<span class="string">"title"</span>,<span class="string">"price"</span>],</span><br><span class="line">  <span class="string">"query"</span>: &#123;</span><br><span class="line">    <span class="string">"term"</span>: &#123;</span><br><span class="line">      <span class="string">"price"</span>: 1999.00</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢ç»“æœï¼š<code>_source</code>ä¸­åªæœ‰<code>title</code>å’Œ<code>price</code>ä¸¤ä¸ªå­—æ®µ</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"_index"</span>: <span class="string">"demo1"</span>,</span><br><span class="line">  <span class="attr">"_type"</span>: <span class="string">"_doc"</span>,</span><br><span class="line">  <span class="attr">"_id"</span>: <span class="string">"10003"</span>,</span><br><span class="line">  <span class="attr">"_score"</span>: <span class="number">1.0</span>,</span><br><span class="line">  <span class="attr">"_source"</span>: &#123;</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"åä¸ºç”µè§†"</span>,</span><br><span class="line">    <span class="attr">"price"</span>: <span class="number">1999.0</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">"_index"</span>: <span class="string">"demo1"</span>,</span><br><span class="line">  <span class="attr">"_type"</span>: <span class="string">"_doc"</span>,</span><br><span class="line">  <span class="attr">"_id"</span>: <span class="string">"10006"</span>,</span><br><span class="line">  <span class="attr">"_score"</span>: <span class="number">0.87546873</span>,</span><br><span class="line">  <span class="attr">"_source"</span> : &#123;</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"å°ç±³ç”µè§†"</span>,</span><br><span class="line">    <span class="attr">"price"</span>: <span class="number">1999.0</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æŒ‡å®šincludeså’Œexcludes">æŒ‡å®šincludeså’Œexcludes</h3><p>ä¹Ÿå¯ä»¥é€šè¿‡ï¼š</p><ul><li>includesï¼šç”¨äºæŒ‡å®šå°†è¦æ˜¾ç¤ºçš„å­—æ®µ</li></ul><p>ç¤ºä¾‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">GET /demo1/_search</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"_source"</span>: &#123;</span><br><span class="line">  <span class="string">"includes"</span>: [<span class="string">"title"</span>,<span class="string">"price"</span>]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">"query"</span>: &#123;</span><br><span class="line">    <span class="string">"term"</span>: &#123;</span><br><span class="line">      <span class="string">"price"</span>: 1999.00</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢ç»“æœï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"_index"</span>: <span class="string">"demo1"</span>,</span><br><span class="line">  <span class="attr">"_type"</span>: <span class="string">"_doc"</span>,</span><br><span class="line">  <span class="attr">"_id"</span>: <span class="string">"10003"</span>,</span><br><span class="line">  <span class="attr">"_score"</span>: <span class="number">1.0</span>,</span><br><span class="line">  <span class="attr">"_source"</span>: &#123;</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"åä¸ºç”µè§†"</span>,</span><br><span class="line">    <span class="attr">"price"</span>: <span class="number">1999.0</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">"_index"</span>: <span class="string">"demo1"</span>,</span><br><span class="line">  <span class="attr">"_type"</span>: <span class="string">"_doc"</span>,</span><br><span class="line">  <span class="attr">"_id"</span>: <span class="string">"10006"</span>,</span><br><span class="line">  <span class="attr">"_score"</span>: <span class="number">0.87546873</span>,</span><br><span class="line">  <span class="attr">"_source"</span> : &#123;</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"å°ç±³ç”µè§†"</span>,</span><br><span class="line">    <span class="attr">"price"</span>: <span class="number">1999.0</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>excludesï¼šç”¨äºæŒ‡å®šä¸æƒ³æ˜¾ç¤ºçš„å­—æ®µ</li></ul><p>ç¤ºä¾‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">GET /demo1/_search</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"_source"</span>: &#123;</span><br><span class="line">  <span class="string">"excludes"</span>: [<span class="string">"images"</span>,<span class="string">"saleable"</span>]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">"query"</span>: &#123;</span><br><span class="line">    <span class="string">"term"</span>: &#123;</span><br><span class="line">      <span class="string">"price"</span>: 1999.00</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢ç»“æœï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"_index"</span>: <span class="string">"demo1"</span>,</span><br><span class="line">  <span class="attr">"_type"</span>: <span class="string">"_doc"</span>,</span><br><span class="line">  <span class="attr">"_id"</span>: <span class="string">"10003"</span>,</span><br><span class="line">  <span class="attr">"_score"</span>: <span class="number">1.0</span>,</span><br><span class="line">  <span class="attr">"_source"</span>: &#123;</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"åä¸ºç”µè§†"</span>,</span><br><span class="line">    <span class="attr">"price"</span>: <span class="number">1999.0</span>,</span><br><span class="line">    <span class="attr">"stock"</span> : <span class="number">2500</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">"_index"</span>: <span class="string">"demo1"</span>,</span><br><span class="line">  <span class="attr">"_type"</span>: <span class="string">"_doc"</span>,</span><br><span class="line">  <span class="attr">"_id"</span>: <span class="string">"10006"</span>,</span><br><span class="line">  <span class="attr">"_score"</span>: <span class="number">0.87546873</span>,</span><br><span class="line">  <span class="attr">"_source"</span> : &#123;</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"å°ç±³ç”µè§†"</span>,</span><br><span class="line">    <span class="attr">"price"</span>: <span class="number">1999.0</span>,</span><br><span class="line">    <span class="attr">"stock"</span> : <span class="number">5000</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é«˜çº§æŸ¥è¯¢">é«˜çº§æŸ¥è¯¢</h2><h3 id="å¸ƒå°”æŸ¥è¯¢-bool">å¸ƒå°”æŸ¥è¯¢ bool</h3><p><code>bool</code>æŠŠå…¶ä»–å„ç§æŸ¥è¯¢é€šè¿‡<code>must</code>ï¼ˆä¸ï¼‰ã€<code>should</code>ï¼ˆæˆ–ï¼‰ã€<code>must_not</code>ï¼ˆéï¼‰çš„æ–¹å¼è¿›è¡Œç»„åˆ</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">GET /demo1/_search</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"query"</span>: &#123;</span><br><span class="line">    <span class="string">"bool"</span>: &#123;</span><br><span class="line">      <span class="string">"must"</span>: [</span><br><span class="line">        &#123;<span class="string">"match"</span>: &#123;<span class="string">"title"</span>: <span class="string">"åä¸º"</span>&#125;&#125;</span><br><span class="line">      ],</span><br><span class="line">      <span class="string">"must_not"</span>: [</span><br><span class="line">        &#123;<span class="string">"match"</span>: &#123;<span class="string">"title"</span>: <span class="string">"ç”µè§†"</span>&#125;&#125;</span><br><span class="line">      ],</span><br><span class="line">      <span class="string">"should"</span>: [</span><br><span class="line">        &#123;<span class="string">"match"</span>: &#123;<span class="string">"title"</span>: <span class="string">"æ‰‹æœº"</span>&#125;&#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢ç»“æœï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"_index"</span>: <span class="string">"demo1"</span>,</span><br><span class="line">  <span class="attr">"_type"</span>: <span class="string">"_doc"</span>,</span><br><span class="line">  <span class="attr">"_id"</span>: <span class="string">"10001"</span>,</span><br><span class="line">  <span class="attr">"_score"</span>: <span class="number">1.0</span>,</span><br><span class="line">  <span class="attr">"_source"</span>: &#123;</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"åä¸ºæ‰‹æœº"</span>,</span><br><span class="line">    <span class="attr">"images"</span>: <span class="string">"images/1.jpg"</span>,</span><br><span class="line">    <span class="attr">"price"</span>: <span class="number">5999.0</span>,</span><br><span class="line">    <span class="attr">"stock"</span>: <span class="number">1500</span>,</span><br><span class="line">    <span class="attr">"saleable"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">"_index"</span>: <span class="string">"demo1"</span>,</span><br><span class="line">  <span class="attr">"_type"</span>: <span class="string">"_doc"</span>,</span><br><span class="line">  <span class="attr">"_id"</span>: <span class="string">"10002"</span>,</span><br><span class="line">  <span class="attr">"_score"</span>: <span class="number">1.0</span>,</span><br><span class="line">  <span class="attr">"_source"</span> : &#123;</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"åä¸ºç›’å­"</span>,</span><br><span class="line">    <span class="attr">"images"</span>: <span class="string">"images/1.jpg"</span>,</span><br><span class="line">    <span class="attr">"price"</span>: <span class="number">499.0</span>,</span><br><span class="line">    <span class="attr">"stock"</span>: <span class="number">1500</span>,</span><br><span class="line">    <span class="attr">"saleable"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="èŒƒå›´æŸ¥è¯¢-range">èŒƒå›´æŸ¥è¯¢ range</h3><p><code>range</code>æŸ¥è¯¢æ‰¾å‡ºé‚£äº›è½åœ¨æŒ‡å®šåŒºåŸŸçš„æ•°å­—æˆ–è€…æ—¶é—´</p><p>ç¤ºä¾‹ï¼šæŸ¥è¯¢<code>price</code>å­—æ®µå€¼å¤„äº[1000,5000]ä¹‹é—´çš„æ–‡æ¡£</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">GET /demo1/_search</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"query"</span>: &#123;</span><br><span class="line">    <span class="string">"range"</span>: &#123;</span><br><span class="line">      <span class="string">"price"</span>: &#123;</span><br><span class="line">        <span class="string">"gte"</span>: 1000,</span><br><span class="line">        <span class="string">"lte"</span>: 5000</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>range</code>æŸ¥è¯¢å…è®¸ä¸€ä¸‹å­—ç¬¦</p><ul><li>gtå¤§äº</li><li>gte  å¤§äºç­‰äº</li><li>lt         å°äº</li><li>lte       å°äºç­‰äº</li></ul><p>æŸ¥è¯¢ç»“æœï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"_index"</span>: <span class="string">"demo1"</span>,</span><br><span class="line">  <span class="attr">"_type"</span>: <span class="string">"_doc"</span>,</span><br><span class="line">  <span class="attr">"_id"</span>: <span class="string">"10003"</span>,</span><br><span class="line">  <span class="attr">"_score"</span>: <span class="number">1.0</span>,</span><br><span class="line">  <span class="attr">"_source"</span>: &#123;</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"åä¸ºç”µè§†"</span>,</span><br><span class="line">    <span class="attr">"images"</span>: <span class="string">"images/1.jpg"</span>,</span><br><span class="line">    <span class="attr">"price"</span>: <span class="number">1999.0</span>,</span><br><span class="line">    <span class="attr">"stock"</span>: <span class="number">2500</span>,</span><br><span class="line">    <span class="attr">"saleable"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">"_index"</span>: <span class="string">"demo1"</span>,</span><br><span class="line">  <span class="attr">"_type"</span>: <span class="string">"_doc"</span>,</span><br><span class="line">  <span class="attr">"_id"</span>: <span class="string">"10006"</span>,</span><br><span class="line">  <span class="attr">"_score"</span>: <span class="number">0.87546873</span>,</span><br><span class="line">  <span class="attr">"_source"</span> : &#123;</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"å°ç±³ç”µè§†"</span>,</span><br><span class="line">    <span class="attr">"images"</span>: <span class="string">"images/1.jpg"</span>,</span><br><span class="line">    <span class="attr">"price"</span>: <span class="number">1999.0</span>,</span><br><span class="line">    <span class="attr">"stock"</span>: <span class="number">5000</span>,</span><br><span class="line">    <span class="attr">"saleable"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">"_index"</span>: <span class="string">"demo1"</span>,</span><br><span class="line">  <span class="attr">"_type"</span> : <span class="string">"_doc"</span>,</span><br><span class="line">  <span class="attr">"_id"</span>: <span class="string">"10004"</span>,</span><br><span class="line">  <span class="attr">"_score"</span>: <span class="number">0.5753642</span>,</span><br><span class="line">  <span class="attr">"_source"</span>: &#123;</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"å°ç±³æ‰‹æœº"</span>,</span><br><span class="line">    <span class="attr">"images"</span>: <span class="string">"images/1.jpg"</span>,</span><br><span class="line">    <span class="attr">"price"</span>: <span class="number">3999.0</span>,</span><br><span class="line">    <span class="attr">"stock"</span>: <span class="number">5000</span>,</span><br><span class="line">    <span class="attr">"saleable"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ¨¡ç³ŠæŸ¥è¯¢-fuzzy">æ¨¡ç³ŠæŸ¥è¯¢ fuzzy</h3><p>æ–°å¢ä¸€æ¡æ•°æ®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">PUT /demo1/_doc/10007</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"title"</span>: <span class="string">"iphoneæ‰‹æœº"</span>,</span><br><span class="line">  <span class="string">"images"</span>: <span class="string">"images/1.jpg"</span>,</span><br><span class="line">  <span class="string">"price"</span>: 8999.00,</span><br><span class="line">  <span class="string">"stock"</span>: 5000,</span><br><span class="line">  <span class="string">"saleable"</span>:<span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>fuzzy</code>æŸ¥è¯¢æ˜¯<code>term</code>æŸ¥è¯¢çš„æ¨¡ç³Šç­‰ä»·ã€‚å®ƒå…è®¸ç”¨æˆ·æœç´¢è¯æ¡ä¸å®é™…è¯æ¡çš„æ‹¼å†™å‡ºç°åå·®ï¼Œä½†æ˜¯åå·®çš„ç¼–è¾‘è·ç¦»ä¸å¾—è¶…è¿‡2</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">GET /demo1/_search</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"query"</span>: &#123;</span><br><span class="line">    <span class="string">"fuzzy"</span>: &#123;</span><br><span class="line">      <span class="string">"title"</span>: <span class="string">"iphana"</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢ç»“æœï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"_index"</span>: <span class="string">"demo1"</span>,</span><br><span class="line">  <span class="attr">"_type"</span> : <span class="string">"_doc"</span>,</span><br><span class="line">  <span class="attr">"_id"</span>: <span class="string">"10007"</span>,</span><br><span class="line">  <span class="attr">"_score"</span>: <span class="number">1.2837042</span>,</span><br><span class="line">  <span class="attr">"_source"</span>: &#123;</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"iphoneæ‰‹æœº"</span>,</span><br><span class="line">    <span class="attr">"images"</span>: <span class="string">"images/1.jpg"</span>,</span><br><span class="line">    <span class="attr">"price"</span>: <span class="number">8999.0</span>,</span><br><span class="line">    <span class="attr">"stock"</span>: <span class="number">5000</span>,</span><br><span class="line">    <span class="attr">"saleable"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥é€šè¿‡<code>fuzziness</code>æ¥æŒ‡å®šå…è®¸çš„ç¼–è¾‘è·ç¦»ï¼Œå–å€¼[0,2]</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">GET /demo1/_search</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"query"</span>: &#123;</span><br><span class="line">    <span class="string">"fuzzy"</span>: &#123;</span><br><span class="line">      <span class="string">"title"</span>: &#123;</span><br><span class="line">        <span class="string">"value"</span>: <span class="string">"iphama"</span>,</span><br><span class="line">        <span class="string">"fuzziness"</span>: 2</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢ç»“æœï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"_index"</span>: <span class="string">"demo1"</span>,</span><br><span class="line">  <span class="attr">"_type"</span> : <span class="string">"_doc"</span>,</span><br><span class="line">  <span class="attr">"_id"</span>: <span class="string">"10007"</span>,</span><br><span class="line">  <span class="attr">"_score"</span>: <span class="number">1.2837042</span>,</span><br><span class="line">  <span class="attr">"_source"</span>: &#123;</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"iphoneæ‰‹æœº"</span>,</span><br><span class="line">    <span class="attr">"images"</span>: <span class="string">"images/1.jpg"</span>,</span><br><span class="line">    <span class="attr">"price"</span>: <span class="number">8999.0</span>,</span><br><span class="line">    <span class="attr">"stock"</span>: <span class="number">5000</span>,</span><br><span class="line">    <span class="attr">"saleable"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="è¿‡æ»¤-filter">è¿‡æ»¤ filter</h2><blockquote><p>æ¡ä»¶æŸ¥è¯¢ä¸­ï¼Œè¿›è¡Œè¿‡æ»¤</p></blockquote><p>æ‰€æœ‰çš„æŸ¥è¯¢æ¡ä»¶éƒ½ä¼šå½±å“åˆ°æ–‡æ¡£çš„è¯„åˆ†åŠæ’åã€‚å¦‚æœéœ€è¦åœ¨æŸ¥è¯¢ä¸­è¿›è¡Œè¿‡æ»¤ï¼Œå¹¶ä¸”ä¸å¸Œæœ›è¿‡æ»¤æ¡ä»¶å½±å“è¯„åˆ†ï¼Œé‚£ä¹ˆå°±ä¸è¦æŠŠè¿‡æ»¤æ¡ä»¶ä½œä¸ºæŸ¥è¯¢æ¡ä»¶æ¥ä½¿ç”¨ã€‚è€Œæ˜¯ä½¿ç”¨<code>filter</code>æ–¹å¼</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">GET /demo1/_search</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"query"</span>: &#123;</span><br><span class="line">    <span class="string">"bool"</span>: &#123;</span><br><span class="line">      <span class="string">"must"</span>: [</span><br><span class="line">        &#123;<span class="string">"match"</span>: &#123;<span class="string">"title"</span>: <span class="string">"åä¸º"</span>&#125;&#125;</span><br><span class="line">      ],</span><br><span class="line">      <span class="string">"filter"</span>: [</span><br><span class="line">        &#123;<span class="string">"range"</span>: &#123;</span><br><span class="line">          <span class="string">"price"</span>: &#123;</span><br><span class="line">            <span class="string">"gt"</span>: 100,</span><br><span class="line">            <span class="string">"lte"</span>: 1999</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;&#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>filter</code>ä¸­è¿˜å¯ä»¥å†æ¬¡è¿›è¡Œ<code>bool</code>ç»„åˆæ¡ä»¶è¿‡æ»¤æŸ¥è¯¢</p><blockquote><p>æ— æŸ¥è¯¢æ¡ä»¶ï¼Œç›´æ¥è¿‡æ»¤</p></blockquote><p>å¦‚æœä¸€æ¬¡æŸ¥è¯¢åªæœ‰è¿‡æ»¤ï¼Œæ²¡æœ‰æŸ¥è¯¢æ¡ä»¶ï¼Œ<strong>ä¸å¸Œæœ›è¿›è¡Œè¯„åˆ†</strong>ï¼Œå¯ä»¥ä½¿ç”¨<code>constant_score</code>å–ä»£åªæœ‰<code>filter</code>è¯­å¥çš„<code>bool</code>æŸ¥è¯¢ã€‚æ€§èƒ½ä¸Šæ—¶å®Œå…¨ç›¸åŒçš„ï¼Œä½†å¯¹äºæé«˜æŸ¥è¯¢ç®€æ´æ€§å’Œæ¸…æ™°æ€§æœ‰å¾ˆå¤§å¸®åŠ©</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">GET /demo1/_search</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"query"</span>: &#123;</span><br><span class="line">    <span class="string">"constant_score"</span>: &#123;</span><br><span class="line">      <span class="string">"filter"</span>: &#123;</span><br><span class="line">        <span class="string">"range"</span>: &#123;</span><br><span class="line">          <span class="string">"price"</span>: &#123;</span><br><span class="line">            <span class="string">"gte"</span>: 1000,</span><br><span class="line">            <span class="string">"lte"</span>: 2000</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢ç»“æœï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"_index"</span>: <span class="string">"demo1"</span>,</span><br><span class="line">  <span class="attr">"_type"</span>: <span class="string">"_doc"</span>,</span><br><span class="line">  <span class="attr">"_id"</span>: <span class="string">"10003"</span>,</span><br><span class="line">  <span class="attr">"_score"</span>: <span class="number">1.0</span>,</span><br><span class="line">  <span class="attr">"_source"</span>: &#123;</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"åä¸ºç”µè§†"</span>,</span><br><span class="line">    <span class="attr">"images"</span>: <span class="string">"images/1.jpg"</span>,</span><br><span class="line">    <span class="attr">"price"</span>: <span class="number">1999.0</span>,</span><br><span class="line">    <span class="attr">"stock"</span>: <span class="number">2500</span>,</span><br><span class="line">    <span class="attr">"saleable"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">"_index"</span>: <span class="string">"demo1"</span>,</span><br><span class="line">  <span class="attr">"_type"</span>: <span class="string">"_doc"</span>,</span><br><span class="line">  <span class="attr">"_id"</span>: <span class="string">"10006"</span>,</span><br><span class="line">  <span class="attr">"_score"</span>: <span class="number">0.87546873</span>,</span><br><span class="line">  <span class="attr">"_source"</span> : &#123;</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"å°ç±³ç”µè§†"</span>,</span><br><span class="line">    <span class="attr">"images"</span>: <span class="string">"images/1.jpg"</span>,</span><br><span class="line">    <span class="attr">"price"</span>: <span class="number">1999.0</span>,</span><br><span class="line">    <span class="attr">"stock"</span>: <span class="number">5000</span>,</span><br><span class="line">    <span class="attr">"saleable"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ’åº">æ’åº</h2><h3 id="å•å­—æ®µæ’åº">å•å­—æ®µæ’åº</h3><p><code>sort</code>å¯ä»¥æŒ‰ç…§ä¸åŒçš„å­—æ®µè¿›è¡Œæ’åºï¼Œå¹¶ä¸”é€šè¿‡<code>order</code>æŒ‡å®šæ’åºæ–¹å¼</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">GET /demo1/_search</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"query"</span>: &#123;</span><br><span class="line">    <span class="string">"match"</span>: &#123;</span><br><span class="line">      <span class="string">"title"</span>: <span class="string">"åä¸º"</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">"sort"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">"price"</span>: &#123;</span><br><span class="line">        <span class="string">"order"</span>: <span class="string">"desc"</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢ç»“æœï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"_index"</span>: <span class="string">"demo1"</span>,</span><br><span class="line">  <span class="attr">"_type"</span>: <span class="string">"_doc"</span>,</span><br><span class="line">  <span class="attr">"_id"</span>: <span class="string">"10001"</span>,</span><br><span class="line">  <span class="attr">"_score"</span>: <span class="literal">null</span>,</span><br><span class="line">  <span class="attr">"_source"</span> : &#123;</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"åä¸ºæ‰‹æœº"</span>,</span><br><span class="line">    <span class="attr">"images"</span>: <span class="string">"images/1.jpg"</span>,</span><br><span class="line">    <span class="attr">"price"</span>: <span class="number">5999.0</span>,</span><br><span class="line">    <span class="attr">"stock"</span>: <span class="number">1500</span>,</span><br><span class="line">    <span class="attr">"saleable"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">"_index"</span>: <span class="string">"demo1"</span>,</span><br><span class="line">  <span class="attr">"_type"</span>: <span class="string">"_doc"</span>,</span><br><span class="line">  <span class="attr">"_id"</span>: <span class="string">"10003"</span>,</span><br><span class="line">  <span class="attr">"_score"</span>: <span class="literal">null</span>,</span><br><span class="line">  <span class="attr">"_source"</span>: &#123;</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"åä¸ºç”µè§†"</span>,</span><br><span class="line">    <span class="attr">"images"</span>: <span class="string">"images/1.jpg"</span>,</span><br><span class="line">    <span class="attr">"price"</span>: <span class="number">1999.0</span>,</span><br><span class="line">    <span class="attr">"stock"</span>: <span class="number">2500</span>,</span><br><span class="line">    <span class="attr">"saleable"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">"_index"</span>: <span class="string">"demo1"</span>,</span><br><span class="line">  <span class="attr">"_type"</span>: <span class="string">"_doc"</span>,</span><br><span class="line">  <span class="attr">"_id"</span>: <span class="string">"10002"</span>,</span><br><span class="line">  <span class="attr">"_score"</span>: <span class="literal">null</span>,</span><br><span class="line">  <span class="attr">"_source"</span> : &#123;</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"åä¸ºç›’å­"</span>,</span><br><span class="line">    <span class="attr">"images"</span>: <span class="string">"images/1.jpg"</span>,</span><br><span class="line">    <span class="attr">"price"</span>: <span class="number">499.0</span>,</span><br><span class="line">    <span class="attr">"stock"</span>: <span class="number">1500</span>,</span><br><span class="line">    <span class="attr">"saleable"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¤šå­—æ®µæ’åº">å¤šå­—æ®µæ’åº</h3><p>å‡è®¾æƒ³ç»“åˆ<code>_score</code>å’Œ<code>price</code>è¿›è¡ŒæŸ¥è¯¢ï¼Œå¹¶ä¸”åŒ¹é…çš„ç»“æœé¦–å…ˆæŒ‰ç…§ä»·æ ¼æ’åºï¼Œç„¶åæŒ‰ç…§å¾—åˆ†æ’åº</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">GET /demo1/_search</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"query"</span>: &#123;</span><br><span class="line">    <span class="string">"match"</span>: &#123;<span class="string">"title"</span>: <span class="string">"åä¸ºç”µè§†"</span>&#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">"sort"</span>: [</span><br><span class="line">    &#123;<span class="string">"price"</span>: &#123;<span class="string">"order"</span>: <span class="string">"asc"</span>&#125;&#125;,</span><br><span class="line">    &#123;<span class="string">"_score"</span>: &#123;<span class="string">"order"</span>: <span class="string">"desc"</span>&#125;&#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢ç»“æœï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"_index"</span>: <span class="string">"demo1"</span>,</span><br><span class="line">  <span class="attr">"_type"</span>: <span class="string">"_doc"</span>,</span><br><span class="line">  <span class="attr">"_id"</span>: <span class="string">"10002"</span>,</span><br><span class="line">  <span class="attr">"_score"</span>: <span class="number">0.6931471</span>,</span><br><span class="line">  <span class="attr">"_source"</span>: &#123;</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"åä¸ºç›’å­"</span>,</span><br><span class="line">    <span class="attr">"images"</span>: <span class="string">"images/1.jpg"</span>,</span><br><span class="line">    <span class="attr">"price"</span>: <span class="number">499.0</span>,</span><br><span class="line">    <span class="attr">"stock"</span>: <span class="number">1500</span>,</span><br><span class="line">    <span class="attr">"saleable"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"sort"</span>: [</span><br><span class="line">    <span class="number">499.0</span>,</span><br><span class="line">    <span class="number">0.6931471</span></span><br><span class="line">  ]</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">"_index"</span>: <span class="string">"demo1"</span>,</span><br><span class="line">  <span class="attr">"_type"</span>: <span class="string">"_doc"</span>,</span><br><span class="line">  <span class="attr">"_id"</span> : <span class="string">"10003"</span>,</span><br><span class="line">  <span class="attr">"_score"</span>: <span class="number">1.7227666</span>,</span><br><span class="line">  <span class="attr">"_source"</span>: &#123;</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"åä¸ºç”µè§†"</span>,</span><br><span class="line">    <span class="attr">"images"</span>: <span class="string">"images/1.jpg"</span>,</span><br><span class="line">    <span class="attr">"price"</span>: <span class="number">1999.0</span>,</span><br><span class="line">    <span class="attr">"stock"</span>: <span class="number">2500</span>,</span><br><span class="line">    <span class="attr">"saleable"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"sort"</span>: [</span><br><span class="line">    <span class="number">1999.0</span>,</span><br><span class="line">    <span class="number">1.7227666</span></span><br><span class="line">  ]</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">"_index"</span>: <span class="string">"demo1"</span>,</span><br><span class="line">  <span class="attr">"_type"</span>: <span class="string">"_doc"</span>,</span><br><span class="line">  <span class="attr">"_id"</span>: <span class="string">"10006"</span>,</span><br><span class="line">  <span class="attr">"_score"</span>: <span class="number">1.0296195</span>,</span><br><span class="line">  <span class="attr">"_source"</span> : &#123;</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"å°ç±³ç”µè§†"</span>,</span><br><span class="line">    <span class="attr">"images"</span>: <span class="string">"images/1.jpg"</span>,</span><br><span class="line">    <span class="attr">"price"</span>: <span class="number">1999.0</span>,</span><br><span class="line">    <span class="attr">"stock"</span>: <span class="number">5000</span>,</span><br><span class="line">    <span class="attr">"saleable"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"sort"</span>: [</span><br><span class="line">    <span class="number">1999.0</span>,</span><br><span class="line">    <span class="number">1.0296195</span></span><br><span class="line">  ]</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">"_index"</span>: <span class="string">"demo1"</span>,</span><br><span class="line">  <span class="attr">"_type"</span>: <span class="string">"_doc"</span>,</span><br><span class="line">  <span class="attr">"_id"</span>: <span class="string">"10001"</span>,</span><br><span class="line">  <span class="attr">"_score"</span>: <span class="number">0.6931471</span>,</span><br><span class="line">  <span class="attr">"_source"</span> : &#123;</span><br><span class="line">    <span class="attr">"title"</span>: <span class="string">"åä¸ºæ‰‹æœº"</span>,</span><br><span class="line">    <span class="attr">"images"</span>: <span class="string">"images/1.jpg"</span>,</span><br><span class="line">    <span class="attr">"price"</span>: <span class="number">5999.0</span>,</span><br><span class="line">    <span class="attr">"stock"</span>: <span class="number">1500</span>,</span><br><span class="line">    <span class="attr">"saleable"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"sort"</span>: [</span><br><span class="line">    <span class="number">5999.0</span>,</span><br><span class="line">    <span class="number">0.6931471</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>èšåˆaggregations</h1><p>èšåˆå¯ä»¥æ›´æ–¹ä¾¿çš„å®ç°å¯¹æ•°æ®çš„ç»Ÿè®¡ã€åˆ†æã€‚ä¾‹å¦‚ï¼š</p><ul><li>ä»€ä¹ˆå“ç‰Œçš„æ‰‹æœºæ›´å—æ¬¢è¿</li><li>è¿™äº›æ‰‹æœºçš„å¹³å‡ä»·æ ¼ï¼Œæœ€é«˜ä»·æ ¼ï¼Œæœ€ä½ä»·æ ¼</li><li>è¿™äº›æ‰‹æœºæ¯æœˆçš„é”€é‡å¦‚ä½•</li></ul><p>å®ç°è¿™äº›ç»Ÿè®¡åŠŸèƒ½è¦æ¯”æ•°æ®åº“çš„SQLç®€å•å¾—å¤šï¼Œè€Œä¸”æŸ¥è¯¢é€Ÿåº¦éå¸¸å¿«ï¼Œè¿‘ä¹å®æ—¶æœç´¢æ•ˆæœ</p><h2 id="åŸºæœ¬æ¦‚å¿µ-2">åŸºæœ¬æ¦‚å¿µ</h2><p>Elasticsearchä¸­çš„èšåˆï¼ŒåŒ…å«å¤šç§ç±»å‹ï¼Œæœ€å¸¸ç”¨çš„æœ‰ä¸¤ç§ï¼š<code>æ¡¶</code>ã€<code>åº¦é‡</code></p><blockquote><p><code>æ¡¶(bucket)</code>,é˜¿é‡Œæ–‡æ¡£ç§°ä¹‹ä¸ºå­˜å‚¨å•å…ƒ</p></blockquote><p>æ¡¶çš„ä½œç”¨ï¼Œæ˜¯æŒ‰ç…§æŸç§æ–¹å¼å¯¹æ•°æ®è¿›è¡Œåˆ†ç»„ï¼Œæ¯ä¸€ç»„æ•°æ®åœ¨Elasticsearchä¸­ç§°ä¹‹ä¸ºä¸€ä¸ª<strong>æ¡¶</strong></p><p>Elasticsearchä¸­æä¾›çš„åˆ’åˆ†æ¡¶çš„æ–¹å¼æœ‰å¾ˆå¤šï¼š</p><ul><li>Data Histogram Aggregationï¼šæ ¹æ®æ—¥æœŸé˜¶æ¢¯åˆ†ç»„ï¼Œä¾‹å¦‚ç»™å®šé˜¶æ¢¯ä¸ºå‘¨ï¼Œä¼šè‡ªåŠ¨æ¯å‘¨åˆ†ä¸ºä¸€ä¸ªå­˜å‚¨å•å…ƒ</li><li>Histogram Aggregationï¼šæ ¹æ®æ•°å€¼é˜¶æ¢¯åˆ†ç»„ï¼Œä¸æ—¥æœŸç±»ä¼¼</li><li>Terms Aggregationï¼šæ ¹æ®è¯æ¡å†…å®¹åˆ†ç»„ï¼Œè¯æ¡å†…å®¹å®Œå…¨åŒ¹é…çš„ä¸ºä¸€ä¸ªå­˜å‚¨å•å…ƒ</li><li>Range Aggregationï¼šæ•°å€¼å’Œæ—¥æœŸçš„èŒƒå›´åˆ†ç»„ï¼ŒæŒ‡å®šå¼€å§‹å’Œç»“æŸï¼Œç„¶åæŒ‰æ®µåˆ†</li><li>â€¦</li></ul><p>ç»¼ä¸Šæ‰€è¿°ï¼Œå‘ç°bucket aggregations åªè´Ÿè´£å¯¹æ•°æ®è¿›è¡Œåˆ†ç»„ï¼Œä¸è´Ÿè´£è®¡ç®—ï¼Œå› æ­¤bucketä¸­å¾€å¾€ä¼šåµŒå¥—å¦ä¸€ç§é›†åˆï¼šmetrics aggregationsï¼Œå³åº¦é‡</p><blockquote><p>åº¦é‡(metrics)</p></blockquote><p>åˆ†ç»„å®Œæˆåï¼Œéœ€è¦å¯¹ç»„å†…çš„å…ƒç´ è¿›è¡Œèšåˆè¿ç®—ï¼Œä¾‹å¦‚æ±‚å¹³å‡å€¼ã€æœ€å¤§æœ€å°å€¼ã€æ±‚å’Œç­‰ï¼Œè¿™äº›åœ¨Elasticsearchä¸­ç§°ä¹‹ä¸º<code>åº¦é‡</code></p><p>æ¯”è¾ƒå¸¸ç”¨çš„èšåˆåº¦é‡æ–¹å¼ï¼š</p><ul><li>Avg Aggregationï¼šæ±‚å¹³å‡å€¼</li><li>Max Aggregationï¼šæ±‚æœ€å¤§å€¼</li><li>Min Aggregationï¼šæ±‚æœ€å°å€¼</li><li>Percentiles Aggregationï¼šæ±‚ç™¾åˆ†æ¯”</li><li>Stats Aggregationï¼šåŒæ—¶è¿”å›avgã€maxã€minã€sumã€countç­‰</li><li>Sum Aggregationï¼šæ±‚å’Œ</li><li>Top hits Aggregationï¼šæ±‚å‰å‡ </li><li>Value count Aggregationï¼šæ±‚æ€»æ•°</li><li>â€¦</li></ul><br><p>ä¸ºäº†æµ‹è¯•èšåˆï¼Œå…ˆåˆ›å»ºæ•°æ®ï¼š</p><ul><li>åˆ›å»ºç´¢å¼•</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">PUT cars</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"settings"</span>: &#123;</span><br><span class="line">    <span class="string">"number_of_shards"</span>: 1,</span><br><span class="line">    <span class="string">"number_of_replicas"</span>: 0</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">"mappings"</span>: &#123;</span><br><span class="line">    <span class="string">"properties"</span>: &#123;</span><br><span class="line">      <span class="string">"color"</span>: &#123;</span><br><span class="line">        <span class="string">"type"</span>: <span class="string">"keyword"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="string">"make"</span>: &#123;</span><br><span class="line">        <span class="string">"type"</span>: <span class="string">"keyword"</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div class="snote info"><p>åœ¨Elasticsearchä¸­ï¼Œéœ€è¦è¿›è¡Œèšåˆã€æ’åºã€è¿‡æ»¤çš„å­—æ®µå…¶å¤„ç†æ–¹å¼æ¯”è¾ƒç‰¹æ®Šï¼Œå› æ­¤ä¸èƒ½è¢«åˆ†è¯ã€‚è¿™é‡Œå°†`color`ã€`mark`è¿™ä¸¤ä¸ªå­—æ®µç±»å‹è®¾ç½®ä¸ºkeywordï¼Œè¿™ä¸ªç±»å‹ä¸ä¼šè¢«åˆ†è¯ï¼Œå°†æ¥å¯ä»¥å‚ä¸èšåˆ</p></div><ul><li>å¯¼å…¥æ•°æ®</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">POST /cars/_bulk</span><br><span class="line">&#123; <span class="string">"index"</span>: &#123;&#125;&#125;</span><br><span class="line">&#123; <span class="string">"price"</span> : 10000, <span class="string">"color"</span> : <span class="string">"red"</span>, <span class="string">"make"</span> : <span class="string">"honda"</span>, <span class="string">"sold"</span> : <span class="string">"2014-10-28"</span> &#125;</span><br><span class="line">&#123; <span class="string">"index"</span>: &#123;&#125;&#125;</span><br><span class="line">&#123; <span class="string">"price"</span> : 20000, <span class="string">"color"</span> : <span class="string">"red"</span>, <span class="string">"make"</span> : <span class="string">"honda"</span>, <span class="string">"sold"</span> : <span class="string">"2014-11-05"</span> &#125;</span><br><span class="line">&#123; <span class="string">"index"</span>: &#123;&#125;&#125;</span><br><span class="line">&#123; <span class="string">"price"</span> : 30000, <span class="string">"color"</span> : <span class="string">"green"</span>, <span class="string">"make"</span> : <span class="string">"ford"</span>, <span class="string">"sold"</span> : <span class="string">"2014-05-18"</span> &#125;</span><br><span class="line">&#123; <span class="string">"index"</span>: &#123;&#125;&#125;</span><br><span class="line">&#123; <span class="string">"price"</span> : 15000, <span class="string">"color"</span> : <span class="string">"blue"</span>, <span class="string">"make"</span> : <span class="string">"toyota"</span>, <span class="string">"sold"</span> : <span class="string">"2014-07-02"</span> &#125;</span><br><span class="line">&#123; <span class="string">"index"</span>: &#123;&#125;&#125;</span><br><span class="line">&#123; <span class="string">"price"</span> : 12000, <span class="string">"color"</span> : <span class="string">"green"</span>, <span class="string">"make"</span> : <span class="string">"toyota"</span>, <span class="string">"sold"</span> : <span class="string">"2014-08-19"</span> &#125;</span><br><span class="line">&#123; <span class="string">"index"</span>: &#123;&#125;&#125;</span><br><span class="line">&#123; <span class="string">"price"</span> : 20000, <span class="string">"color"</span> : <span class="string">"red"</span>, <span class="string">"make"</span> : <span class="string">"honda"</span>, <span class="string">"sold"</span> : <span class="string">"2014-11-05"</span> &#125;</span><br><span class="line">&#123; <span class="string">"index"</span>: &#123;&#125;&#125;</span><br><span class="line">&#123; <span class="string">"price"</span> : 80000, <span class="string">"color"</span> : <span class="string">"red"</span>, <span class="string">"make"</span> : <span class="string">"bmw"</span>, <span class="string">"sold"</span> : <span class="string">"2014-01-01"</span> &#125;</span><br><span class="line">&#123; <span class="string">"index"</span>: &#123;&#125;&#125;</span><br><span class="line">&#123; <span class="string">"price"</span> : 25000, <span class="string">"color"</span> : <span class="string">"blue"</span>, <span class="string">"make"</span> : <span class="string">"ford"</span>, <span class="string">"sold"</span> : <span class="string">"2014-02-12"</span> &#125;</span><br></pre></td></tr></table></figure><h2 id="èšåˆä¸ºæ¡¶">èšåˆä¸ºæ¡¶</h2><p>æŒ‰ç…§æ±½è½¦çš„é¢œè‰²<code>color</code>æ¥è¿›è¡Œåˆ†ç»„</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">GET /cars/_search</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"size"</span>: 0,</span><br><span class="line">  <span class="string">"aggs"</span>: &#123;</span><br><span class="line">    <span class="string">"populer_color"</span>: &#123;</span><br><span class="line">      <span class="string">"terms"</span>: &#123;</span><br><span class="line">        <span class="string">"field"</span>: <span class="string">"color"</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>sizeï¼šæŸ¥è¯¢æ¡æ•°ï¼Œè¿™é‡Œè®¾ç½®ä¸º0ï¼Œå› ä¸ºä¸å…³å¿ƒæœç´¢åˆ°çš„æ•°æ®ï¼Œåªå…³å¿ƒèšåˆç»“æœï¼Œæé«˜æ•ˆç‡</li><li>aggsï¼šå£°æ˜è¿™æ˜¯ä¸€ä¸ªèšåˆæŸ¥è¯¢ï¼Œæ˜¯aggregationsçš„ç¼©å†™<ul><li>popular_colorï¼šç»™è¿™æ¬¡èšåˆè‡ªå®šä¹‰ä¸€ä¸ªåå­—ï¼Œä»»æ„å†™ã€‚<ul><li>termsï¼šåˆ’åˆ†æ¡¶çš„æ–¹å¼ï¼Œè¿™é‡Œæ˜¯æ ¹æ®è¯æ¡åˆ’åˆ†<ul><li>fieldï¼šåˆ’åˆ†æ¡¶çš„å­—æ®µ</li></ul></li></ul></li></ul></li></ul><p>ç»“æœï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"took"</span> : <span class="number">0</span>,</span><br><span class="line">  <span class="attr">"timed_out"</span> : <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">"_shards"</span> : &#123;</span><br><span class="line">    <span class="attr">"total"</span> : <span class="number">1</span>,</span><br><span class="line">    <span class="attr">"successful"</span> : <span class="number">1</span>,</span><br><span class="line">    <span class="attr">"skipped"</span> : <span class="number">0</span>,</span><br><span class="line">    <span class="attr">"failed"</span> : <span class="number">0</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"hits"</span> : &#123;</span><br><span class="line">    <span class="attr">"total"</span> : &#123;</span><br><span class="line">      <span class="attr">"value"</span> : <span class="number">8</span>,</span><br><span class="line">      <span class="attr">"relation"</span> : <span class="string">"eq"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"max_score"</span> : <span class="literal">null</span>,</span><br><span class="line">    <span class="attr">"hits"</span> : [ ]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"aggregations"</span> : &#123;</span><br><span class="line">    <span class="attr">"populer_color"</span> : &#123;</span><br><span class="line">      <span class="attr">"doc_count_error_upper_bound"</span> : <span class="number">0</span>,</span><br><span class="line">      <span class="attr">"sum_other_doc_count"</span> : <span class="number">0</span>,</span><br><span class="line">      <span class="attr">"buckets"</span> : [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">"key"</span> : <span class="string">"red"</span>,</span><br><span class="line">          <span class="attr">"doc_count"</span> : <span class="number">4</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">"key"</span> : <span class="string">"blue"</span>,</span><br><span class="line">          <span class="attr">"doc_count"</span> : <span class="number">2</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">"key"</span> : <span class="string">"green"</span>,</span><br><span class="line">          <span class="attr">"doc_count"</span> : <span class="number">2</span></span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>hitsï¼šæŸ¥è¯¢ç»“æœä¸ºç©ºï¼Œå› ä¸ºè®¾ç½®äº†sizeä¸º0</li><li>aggregationsï¼šèšåˆçš„ç»“æœ</li><li>populer_colorï¼šè‡ªå®šä¹‰çš„èšåˆåç§°</li><li>bucketsï¼šæŸ¥è¯¢åˆ°çš„æ¡¶ï¼Œæ¯ä¸ªä¸åŒçš„colorå­—æ®µå€¼éƒ½ä¼šå½¢æˆä¸€ä¸ªæ¡¶<ul><li>keyï¼šè¿™ä¸ªæ¡¶å¯¹åº”çš„colorå­—æ®µå€¼</li><li>doc_countï¼šè¿™ä¸ªæ¡¶ä¸­æ–‡æ¡£çš„æ•°é‡</li></ul></li></ul><p>ä¾‹å¦‚ï¼šé€šè¿‡èšåˆå‘ç°ï¼Œç›®å‰çº¢è‰²æ±½è½¦æ¯”è¾ƒç•…é”€</p><h2 id="æ¡¶å†…åº¦é‡">æ¡¶å†…åº¦é‡</h2><p>ä¸Šé¢çš„æ¡ˆä¾‹å¯ä»¥è·å–æ¯ä¸ªæ¡¶é‡Œé¢çš„æ–‡æ¡£æ•°é‡ï¼Œé€šå¸¸åº”ç”¨ç¨‹åºéœ€è¦æä¾›æ›´å¤æ‚çš„æ–‡æ¡£åº¦é‡ã€‚ä¾‹å¦‚ï¼šæ¯ç§é¢œè‰²æ±½è½¦çš„å¹³å‡ä»·æ ¼æ˜¯å¤šå°‘ï¼Ÿ</p><p>å› æ­¤ï¼Œéœ€è¦å‘Šè¯‰Elasticsearchä½¿ç”¨<code>å“ªä¸ªå­—æ®µ</code>ã€<code>ä½¿ç”¨å“ªç§åº¦é‡æ–¹å¼</code>è¿›è¡Œè®¡ç®—ï¼Œè¿™äº›ä¿¡æ¯è¦åµŒå¥—åœ¨<code>æ¡¶</code>å†…ï¼Œåº¦é‡çš„è®¡ç®—ä¼šåŸºäºæ¡¶å†…çš„æ–‡æ¡£è¿›è¡Œ</p><blockquote><p>ä¾‹å¦‚ï¼šæ±‚æ¯ç§é¢œè‰²æ±½è½¦çš„å¹³å‡ä»·æ ¼</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">GET /cars/_search</span><br><span class="line">&#123;</span><br><span class="line"><span class="string">"size"</span>: 0,</span><br><span class="line"><span class="string">"aggs"</span>: &#123;</span><br><span class="line"><span class="string">"populer_color"</span>: &#123;</span><br><span class="line"><span class="string">"terms"</span>:&#123;</span><br><span class="line"><span class="string">"field"</span>: <span class="string">"color"</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="string">"aggs"</span>: &#123;</span><br><span class="line"><span class="string">"avg_price"</span>: &#123;</span><br><span class="line"><span class="string">"avg"</span>: &#123;</span><br><span class="line"><span class="string">"field"</span>: <span class="string">"price"</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>aggsï¼šåœ¨ä¸Šä¸€ä¸ªaggsï¼ˆpopuler_colorï¼‰ä¸­æ·»åŠ æ–°çš„aggsï¼Œå¯è§åº¦é‡ä¹Ÿæ˜¯ä¸€ç§èšåˆ</li><li>avg_priceï¼šèšåˆçš„åç§°ï¼Œè‡ªå®šä¹‰</li><li>avgï¼šåº¦é‡çš„ç±»å‹</li><li>fieldï¼šåº¦é‡è¿ç®—çš„å­—æ®µ</li></ul><p>è®¡ç®—ç»“æœï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"took"</span> : <span class="number">1</span>,</span><br><span class="line">  <span class="attr">"timed_out"</span> : <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">"_shards"</span> : &#123;<span class="attr">"total"</span> : <span class="number">1</span>,<span class="attr">"successful"</span> : <span class="number">1</span>,<span class="attr">"skipped"</span> : <span class="number">0</span>,<span class="attr">"failed"</span> : <span class="number">0</span>&#125;,</span><br><span class="line">  <span class="attr">"hits"</span> : &#123;<span class="attr">"total"</span> : &#123;<span class="attr">"value"</span> : <span class="number">8</span>,<span class="attr">"relation"</span> : <span class="string">"eq"</span>&#125;,<span class="attr">"max_score"</span> : <span class="literal">null</span>,<span class="attr">"hits"</span> : [ ]&#125;,</span><br><span class="line">  <span class="attr">"aggregations"</span> : &#123;</span><br><span class="line">    <span class="attr">"populer_color"</span> : &#123;</span><br><span class="line">      <span class="attr">"doc_count_error_upper_bound"</span> : <span class="number">0</span>,</span><br><span class="line">      <span class="attr">"sum_other_doc_count"</span> : <span class="number">0</span>,</span><br><span class="line">      <span class="attr">"buckets"</span> : [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">"key"</span> : <span class="string">"red"</span>,</span><br><span class="line">          <span class="attr">"doc_count"</span> : <span class="number">4</span>,</span><br><span class="line">          <span class="attr">"avg_price"</span> : &#123;</span><br><span class="line">            <span class="attr">"value"</span> : <span class="number">32500.0</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">"key"</span> : <span class="string">"blue"</span>,</span><br><span class="line">          <span class="attr">"doc_count"</span> : <span class="number">2</span>,</span><br><span class="line">          <span class="attr">"avg_price"</span> : &#123;</span><br><span class="line">            <span class="attr">"value"</span> : <span class="number">20000.0</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">"key"</span> : <span class="string">"green"</span>,</span><br><span class="line">          <span class="attr">"doc_count"</span> : <span class="number">2</span>,</span><br><span class="line">          <span class="attr">"avg_price"</span> : &#123;</span><br><span class="line">            <span class="attr">"value"</span> : <span class="number">21000.0</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div class="snote info"><p>ç”±æ­¤å¯è§ï¼Œæ¯ä¸ªæ¡¶ä¸­éƒ½æœ‰è‡ªå·±çš„avg_priceå­—æ®µï¼Œè¿™æ˜¯åº¦é‡èšåˆçš„ç»“æœ</p></div><h2 id="æ¡¶å†…åµŒå¥—æ¡¶">æ¡¶å†…åµŒå¥—æ¡¶</h2><p>åˆšæ‰çš„æ¡ˆä¾‹æ˜¯åœ¨æ¡¶é‡ŒåµŒå¥—åº¦é‡è¿ç®—ã€‚å®é™…ä¸Šæ¡¶ä¸ä»…å¯ä»¥åµŒå¥—åº¦é‡è¿ç®—ï¼Œè¿˜å¯ä»¥å†åµŒå¥—å…¶ä»–æ¡¶ï¼Œä¹Ÿå°±æ˜¯æ¯ä¸ªåˆ†ç»„ä¸­ï¼Œè¿˜å¯ä»¥æœ‰å…¶ä»–ç»„</p><blockquote><p>ä¾‹å¦‚ï¼šç»Ÿè®¡æ¯ä¸ªé¢œè‰²çš„æ±½è½¦çš„å¹³å‡ä»·æ ¼ï¼Œä»¥åŠåˆ†åˆ«å±äºå“ªä¸ªåˆ¶é€ å•†</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">GET /cars/_search</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"size"</span>: 0,</span><br><span class="line">  <span class="string">"aggs"</span>: &#123;</span><br><span class="line">    <span class="string">"populer_color"</span>: &#123;</span><br><span class="line">      <span class="string">"terms"</span>: &#123;<span class="string">"field"</span>: <span class="string">"color"</span>&#125;,</span><br><span class="line">      <span class="string">"aggs"</span>: &#123;</span><br><span class="line">        <span class="string">"avg_price"</span>: &#123;<span class="string">"avg"</span>: &#123;<span class="string">"field"</span>: <span class="string">"price"</span>&#125;&#125;,</span><br><span class="line">        <span class="string">"maker"</span>: &#123;<span class="string">"terms"</span>: &#123;<span class="string">"field"</span>: <span class="string">"make"</span>&#125;&#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>åŸæ¥çš„coloræ¡¶å’Œavgè®¡ç®—ä¸å˜</li><li>makerï¼šåœ¨åµŒå¥—çš„aggsä¸‹æ·»åŠ æ–°çš„æ¡¶</li><li>termsï¼šæ¡¶çš„åˆ’åˆ†ç±»å‹</li><li>fieldï¼šæ ¹æ®ä»€ä¹ˆå­—æ®µåˆ’åˆ†</li></ul><p>è¿ç®—ç»“æœï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"took"</span> : <span class="number">5</span>,</span><br><span class="line">  <span class="attr">"timed_out"</span> : <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">"_shards"</span> : &#123;</span><br><span class="line">    <span class="attr">"total"</span> : <span class="number">1</span>,</span><br><span class="line">    <span class="attr">"successful"</span> : <span class="number">1</span>,</span><br><span class="line">    <span class="attr">"skipped"</span> : <span class="number">0</span>,</span><br><span class="line">    <span class="attr">"failed"</span> : <span class="number">0</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"hits"</span> : &#123;</span><br><span class="line">    <span class="attr">"total"</span> : &#123;</span><br><span class="line">      <span class="attr">"value"</span> : <span class="number">8</span>,</span><br><span class="line">      <span class="attr">"relation"</span> : <span class="string">"eq"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"max_score"</span> : <span class="literal">null</span>,</span><br><span class="line">    <span class="attr">"hits"</span> : [ ]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"aggregations"</span> : &#123;</span><br><span class="line">    <span class="attr">"populer_color"</span> : &#123;</span><br><span class="line">      <span class="attr">"doc_count_error_upper_bound"</span> : <span class="number">0</span>,</span><br><span class="line">      <span class="attr">"sum_other_doc_count"</span> : <span class="number">0</span>,</span><br><span class="line">      <span class="attr">"buckets"</span> : [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">"key"</span> : <span class="string">"red"</span>,</span><br><span class="line">          <span class="attr">"doc_count"</span> : <span class="number">4</span>,</span><br><span class="line">          <span class="attr">"maker"</span> : &#123;</span><br><span class="line">            <span class="attr">"doc_count_error_upper_bound"</span> : <span class="number">0</span>,</span><br><span class="line">            <span class="attr">"sum_other_doc_count"</span> : <span class="number">0</span>,</span><br><span class="line">            <span class="attr">"buckets"</span> : [</span><br><span class="line">              &#123;</span><br><span class="line">                <span class="attr">"key"</span> : <span class="string">"honda"</span>,</span><br><span class="line">                <span class="attr">"doc_count"</span> : <span class="number">3</span></span><br><span class="line">              &#125;,</span><br><span class="line">              &#123;</span><br><span class="line">                <span class="attr">"key"</span> : <span class="string">"bmw"</span>,</span><br><span class="line">                <span class="attr">"doc_count"</span> : <span class="number">1</span></span><br><span class="line">              &#125;</span><br><span class="line">            ]</span><br><span class="line">          &#125;,</span><br><span class="line">          <span class="attr">"avg_price"</span> : &#123;</span><br><span class="line">            <span class="attr">"value"</span> : <span class="number">32500.0</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">"key"</span> : <span class="string">"blue"</span>,</span><br><span class="line">          <span class="attr">"doc_count"</span> : <span class="number">2</span>,</span><br><span class="line">          <span class="attr">"maker"</span> : &#123;</span><br><span class="line">            <span class="attr">"doc_count_error_upper_bound"</span> : <span class="number">0</span>,</span><br><span class="line">            <span class="attr">"sum_other_doc_count"</span> : <span class="number">0</span>,</span><br><span class="line">            <span class="attr">"buckets"</span> : [</span><br><span class="line">              &#123;</span><br><span class="line">                <span class="attr">"key"</span> : <span class="string">"ford"</span>,</span><br><span class="line">                <span class="attr">"doc_count"</span> : <span class="number">1</span></span><br><span class="line">              &#125;,</span><br><span class="line">              &#123;</span><br><span class="line">                <span class="attr">"key"</span> : <span class="string">"toyota"</span>,</span><br><span class="line">                <span class="attr">"doc_count"</span> : <span class="number">1</span></span><br><span class="line">              &#125;</span><br><span class="line">            ]</span><br><span class="line">          &#125;,</span><br><span class="line">          <span class="attr">"avg_price"</span> : &#123;</span><br><span class="line">            <span class="attr">"value"</span> : <span class="number">20000.0</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">"key"</span> : <span class="string">"green"</span>,</span><br><span class="line">          <span class="attr">"doc_count"</span> : <span class="number">2</span>,</span><br><span class="line">          <span class="attr">"maker"</span> : &#123;</span><br><span class="line">            <span class="attr">"doc_count_error_upper_bound"</span> : <span class="number">0</span>,</span><br><span class="line">            <span class="attr">"sum_other_doc_count"</span> : <span class="number">0</span>,</span><br><span class="line">            <span class="attr">"buckets"</span> : [</span><br><span class="line">              &#123;</span><br><span class="line">                <span class="attr">"key"</span> : <span class="string">"ford"</span>,</span><br><span class="line">                <span class="attr">"doc_count"</span> : <span class="number">1</span></span><br><span class="line">              &#125;,</span><br><span class="line">              &#123;</span><br><span class="line">                <span class="attr">"key"</span> : <span class="string">"toyota"</span>,</span><br><span class="line">                <span class="attr">"doc_count"</span> : <span class="number">1</span></span><br><span class="line">              &#125;</span><br><span class="line">            ]</span><br><span class="line">          &#125;,</span><br><span class="line">          <span class="attr">"avg_price"</span> : &#123;</span><br><span class="line">            <span class="attr">"value"</span> : <span class="number">21000.0</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æ–°èšåˆçš„makeråµŒå¥—åœ¨åŸæ¥çš„æ¯ä¸€ä¸ªcolorä¸­</li><li>æ¯ä¸ªé¢œè‰²ä¸‹éƒ½æ ¹æ®makerè¿›è¡Œäº†åˆ†ç»„</li><li>æŸ¥è¯¢ç»“æœä¿¡æ¯ï¼š<ul><li>çº¢è‰²æ±½è½¦ä¸€å…±æœ‰4è¾†</li><li>çº¢è‰²æ±½è½¦å¹³å‡ä»·æ ¼ä¸º32500</li><li>å…¶ä¸­æœ‰3è¾†åˆ¶é€ å•†æ˜¯Hondaï¼Œ1è¾†æ˜¯BMW</li></ul></li></ul><h2 id="åˆ’åˆ†æ¡¶çš„å…¶ä»–æ–¹å¼">åˆ’åˆ†æ¡¶çš„å…¶ä»–æ–¹å¼</h2><p>å‰é¢è®²äº†ï¼Œåˆ’åˆ†æ¡¶çš„æ–¹å¼æœ‰å¾ˆå¤šï¼Œä¾‹å¦‚ï¼š</p><ul><li>Data Histogram Aggregationï¼šæ ¹æ®æ—¥æœŸé˜¶æ¢¯åˆ†ç»„ï¼Œä¾‹å¦‚ç»™å®šé˜¶æ¢¯ä¸ºå‘¨ï¼Œä¼šè‡ªåŠ¨æ¯å‘¨åˆ†ä¸ºä¸€ä¸ªå­˜å‚¨å•å…ƒ</li><li>Histogram Aggregationï¼šæ ¹æ®æ•°å€¼é˜¶æ¢¯åˆ†ç»„ï¼Œä¸æ—¥æœŸç±»ä¼¼</li><li>Terms Aggregationï¼šæ ¹æ®è¯æ¡å†…å®¹åˆ†ç»„ï¼Œè¯æ¡å†…å®¹å®Œå…¨åŒ¹é…çš„ä¸ºä¸€ä¸ªå­˜å‚¨å•å…ƒ</li><li>Range Aggregationï¼šæ•°å€¼å’Œæ—¥æœŸçš„èŒƒå›´åˆ†ç»„ï¼ŒæŒ‡å®šå¼€å§‹å’Œç»“æŸï¼Œç„¶åæŒ‰æ®µåˆ†</li></ul><p>ä¹‹å‰çš„æ¡ˆä¾‹ä¸­ï¼Œé‡‡ç”¨çš„æ˜¯Terms Aggregationï¼Œæ ¹æ®è¯æ¡å†…å®¹åˆ†ç»„ã€‚</p><p>å†æ¥çœ‹ä¸€ä¸‹å…¶ä»–åˆ’åˆ†æ¡¶çš„æ–¹å¼</p><h3 id="é˜¶æ¢¯åˆ†æ¡¶Histogram">é˜¶æ¢¯åˆ†æ¡¶Histogram</h3><blockquote><p>åŸç†ï¼šHIstogramæ˜¯æŠŠæ•°å€¼ç±»å‹çš„å­—æ®µï¼ŒæŒ‰ç…§ä¸€å®šçš„é˜¶æ¢¯å¤§å°è¿›è¡Œåˆ†ç»„ï¼Œéœ€è¦çŸ¥é“ä¸€ä¸ªé˜¶æ¢¯å€¼ï¼ˆintervalï¼‰æ¥åˆ’åˆ†é˜¶æ¢¯å¤§å°</p></blockquote><p>ä¾‹å¦‚ï¼š</p><p>æœ‰ä¸€ä¸ªä»·æ ¼å­—æ®µï¼Œå¦‚æœè®¾å®šintervalçš„å€¼ä¸º200ï¼Œé‚£ä¹ˆé˜¶æ¢¯å€¼æ˜¯ï¼š</p><p>0ã€200ã€400ã€600ã€â€¦</p><p>ä¸Šé¢åˆ—å‡ºçš„æ˜¯æ¯ä¸ªé˜¶æ¢¯çš„keyï¼Œä¹Ÿæ˜¯åŒºé—´å¯ç‚¹ã€‚</p><p>å¦‚æœä¸€ä»¶å•†å“çš„ä»·æ ¼ä¸º450ï¼Œä¼šè½åœ¨å“ªä¸ªåŒºé—´å‘¢ï¼Ÿ</p><p>è®¡ç®—å…¬å¼ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bucket_key &#x3D; Math.floor((value - offset) &#x2F; interval) * interval + offset</span><br></pre></td></tr></table></figure><ul><li>valueï¼šå°±æ˜¯å½“å‰æ•°æ®çš„å€¼ï¼Œæœ¬æ¡ˆä¾‹ä¸­æŒ‡450</li><li>offsetï¼šèµ·å§‹åç§»é‡ï¼Œé»˜è®¤ä¸º0</li><li>intervalï¼šé˜¶æ¢¯é—´éš”ï¼Œæ¯”å¦‚200</li></ul><p>æ‰€ä»¥ï¼Œå¾—åˆ°çš„ç»“æœä¸º key = Math.floor((450 -0) / 200) * 200 + 0 = 400</p><blockquote><p>ç¤ºä¾‹ï¼šå¯¹æ±½è½¦ä»·æ ¼è¿›è¡Œåˆ†ç»„ï¼ŒæŒ‡å®šintervalä¸º10000</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">GET /cars/_search</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"size"</span>: 0,</span><br><span class="line">  <span class="string">"aggs"</span>: &#123;</span><br><span class="line">    <span class="string">"price"</span>: &#123;</span><br><span class="line">      <span class="string">"histogram"</span>: &#123;</span><br><span class="line">        <span class="string">"field"</span>: <span class="string">"price"</span>,</span><br><span class="line">        <span class="string">"interval"</span>: 10000</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢ç»“æœï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"took"</span> : <span class="number">1</span>,</span><br><span class="line">  <span class="attr">"timed_out"</span> : <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">"_shards"</span> : &#123;</span><br><span class="line">    <span class="attr">"total"</span> : <span class="number">1</span>,</span><br><span class="line">    <span class="attr">"successful"</span> : <span class="number">1</span>,</span><br><span class="line">    <span class="attr">"skipped"</span> : <span class="number">0</span>,</span><br><span class="line">    <span class="attr">"failed"</span> : <span class="number">0</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"hits"</span> : &#123;</span><br><span class="line">    <span class="attr">"total"</span> : &#123;</span><br><span class="line">      <span class="attr">"value"</span> : <span class="number">8</span>,</span><br><span class="line">      <span class="attr">"relation"</span> : <span class="string">"eq"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"max_score"</span> : <span class="literal">null</span>,</span><br><span class="line">    <span class="attr">"hits"</span> : [ ]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"aggregations"</span> : &#123;</span><br><span class="line">    <span class="attr">"price"</span> : &#123;</span><br><span class="line">      <span class="attr">"buckets"</span> : [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">"key"</span> : <span class="number">10000.0</span>,</span><br><span class="line">          <span class="attr">"doc_count"</span> : <span class="number">3</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">"key"</span> : <span class="number">20000.0</span>,</span><br><span class="line">          <span class="attr">"doc_count"</span> : <span class="number">3</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">"key"</span> : <span class="number">30000.0</span>,</span><br><span class="line">          <span class="attr">"doc_count"</span> : <span class="number">1</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">"key"</span> : <span class="number">40000.0</span>,</span><br><span class="line">          <span class="attr">"doc_count"</span> : <span class="number">0</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">"key"</span> : <span class="number">50000.0</span>,</span><br><span class="line">          <span class="attr">"doc_count"</span> : <span class="number">0</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">"key"</span> : <span class="number">60000.0</span>,</span><br><span class="line">          <span class="attr">"doc_count"</span> : <span class="number">0</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">"key"</span> : <span class="number">70000.0</span>,</span><br><span class="line">          <span class="attr">"doc_count"</span> : <span class="number">0</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">"key"</span> : <span class="number">80000.0</span>,</span><br><span class="line">          <span class="attr">"doc_count"</span> : <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div class='tip warning'><p>å‘ç°æŸ¥è¯¢ç»“æœä¸­ï¼Œæœ‰å¤§é‡ç©ºçš„åˆ†ç»„ï¼Œå¯ä»¥å¢åŠ ä¸€ä¸ªå‚æ•°<b>min_doc_count</b>ä¸º1ï¼Œè¿™æ ·æ–‡æ¡£æ•°é‡ä¸º0çš„æ¡¶ä¼šè¢«è¿‡æ»¤æ‰<p></div><p>ç¤ºä¾‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">GET /cars/_search</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"size"</span>: 0,</span><br><span class="line">  <span class="string">"aggs"</span>: &#123;</span><br><span class="line">    <span class="string">"price"</span>: &#123;</span><br><span class="line">      <span class="string">"histogram"</span>: &#123;</span><br><span class="line">        <span class="string">"field"</span>: <span class="string">"price"</span>,</span><br><span class="line">        <span class="string">"interval"</span>: 10000,</span><br><span class="line">        <span class="string">"min_doc_count"</span>: 1</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢ç»“æœï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"took"</span> : <span class="number">1</span>,</span><br><span class="line">  <span class="attr">"timed_out"</span> : <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">"_shards"</span> : &#123;</span><br><span class="line">    <span class="attr">"total"</span> : <span class="number">1</span>,</span><br><span class="line">    <span class="attr">"successful"</span> : <span class="number">1</span>,</span><br><span class="line">    <span class="attr">"skipped"</span> : <span class="number">0</span>,</span><br><span class="line">    <span class="attr">"failed"</span> : <span class="number">0</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"hits"</span> : &#123;</span><br><span class="line">    <span class="attr">"total"</span> : &#123;</span><br><span class="line">      <span class="attr">"value"</span> : <span class="number">8</span>,</span><br><span class="line">      <span class="attr">"relation"</span> : <span class="string">"eq"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"max_score"</span> : <span class="literal">null</span>,</span><br><span class="line">    <span class="attr">"hits"</span> : [ ]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"aggregations"</span> : &#123;</span><br><span class="line">    <span class="attr">"price"</span> : &#123;</span><br><span class="line">      <span class="attr">"buckets"</span> : [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">"key"</span> : <span class="number">10000.0</span>,</span><br><span class="line">          <span class="attr">"doc_count"</span> : <span class="number">3</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">"key"</span> : <span class="number">20000.0</span>,</span><br><span class="line">          <span class="attr">"doc_count"</span> : <span class="number">3</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">"key"</span> : <span class="number">30000.0</span>,</span><br><span class="line">          <span class="attr">"doc_count"</span> : <span class="number">1</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">"key"</span> : <span class="number">80000.0</span>,</span><br><span class="line">          <span class="attr">"doc_count"</span> : <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨Kibanaå¯è§†åŒ–å›¾è¡¨æŸ¥çœ‹ï¼š</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/image/20200716150435.png" alt=""></p><h3 id="èŒƒå›´åˆ†æ¡¶Range">èŒƒå›´åˆ†æ¡¶Range</h3><p>èŒƒå›´åˆ†æ¡¶ä¸é˜¶æ¢¯åˆ†æ¡¶ç±»ä¼¼</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/07/16/image-20200716155539007.png" alt="image-20200716155539007"></p><h1>Spring Data Elasticsearch</h1><p>Elasticsearchæä¾›çš„Javaå®¢æˆ·ç«¯æœ‰ä¸€äº›ä¸å¤ªæ–¹ä¾¿çš„åœ°æ–¹</p><ul><li>å¾ˆå¤šåœ°æ–¹éœ€è¦æ‹¼æ¥Jsonå­—ç¬¦ä¸²</li><li>éœ€è¦æŠŠå¯¹è±¡åºåˆ—åŒ–ä¸ºJsonå­˜å‚¨</li><li>æŸ¥è¯¢åˆ°çš„ç»“æœä¹Ÿéœ€è¦ååºåˆ—åŒ–ä¸ºå¯¹è±¡</li></ul><h2 id="ç®€ä»‹">ç®€ä»‹</h2><p>Spring Data Elasticsearchæ˜¯Spring Dataé¡¹ç›®ä¸‹çš„ä¸€ä¸ªå­æ¨¡å—</p><p>æŸ¥çœ‹Spring Dataå®˜ç½‘ï¼š<a href="https://spring.io/projects/spring-data" target="_blank" rel="noopener">Spring Dataå®˜ç½‘</a></p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/07/16/image-20200716160508092.png" alt="image-20200716160508092"></p><p>Spring Data çš„ä½¿å‘½æ˜¯ç»™å„ç§æ•°æ®è®¿é—®æä¾›ç»Ÿä¸€çš„ç¼–ç¨‹æ¥å£ï¼Œä¸ç®¡æ˜¯å…³ç³»å‹æ•°æ®åº“ï¼ˆå¦‚MySQLï¼‰ã€è¿˜æ˜¯éå…³ç³»å‹æ•°æ®åº“ï¼ˆå¦‚Redisï¼‰ã€æˆ–è€…ç±»ä¼¼Elasticsearchè¿™æ ·çš„ç´¢å¼•æ•°æ®åº“ã€‚ä»è€Œç®€åŒ–å¼€å‘äººå‘˜çš„ä»£ç ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚</p><p>Spring DataåŒ…å«äº†å¾ˆå¤šä¸åŒæ•°æ®æ“ä½œçš„æ¨¡å—ï¼š</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/07/16/image-20200716161620604.png" alt="image-20200716161620604"></p><p>Spring Data Elasticsearchçš„é¡µé¢ï¼š<a href="https://spring.io/projects/spring-data-elasticsearch" target="_blank" rel="noopener">Spring Data Elasticsearch</a></p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/07/16/image-20200716161901011.png" alt="image-20200716161901011"></p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/07/16/image-20200716163522602.png" alt="image-20200716163522602"></p><h2 id="åˆ›å»ºDemoå·¥ç¨‹">åˆ›å»ºDemoå·¥ç¨‹</h2><p>æ–°å»ºä¸€ä¸ªdemoï¼Œåˆ›å»ºElasticsearchå·¥ç¨‹</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/07/16/image-20200716164249158.png" alt="image-20200716164249158"></p><p>pomä¾èµ–ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/POM/4.0.0"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.code.demo<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>elasticsearch<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3.0.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">project.reporting.outputEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.reporting.outputEncoding</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">java.version</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-elasticsearch<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¯åŠ¨ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(Application<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>application.ymlé…ç½®æ–‡ä»¶ï¼š</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">data:</span></span><br><span class="line">    <span class="attr">elasticsearch:</span></span><br><span class="line">      <span class="comment"># å·²å¼ƒç”¨</span></span><br><span class="line">      <span class="attr">cluster-name:</span> <span class="string">my-application</span></span><br><span class="line">      <span class="attr">cluster-nodes:</span> <span class="number">192.168</span><span class="number">.40</span><span class="number">.77</span><span class="string">:9300</span></span><br></pre></td></tr></table></figure><h2 id="ç´¢å¼•æ“ä½œ">ç´¢å¼•æ“ä½œ</h2><h3 id="åˆ›å»ºç´¢å¼•å’Œæ˜ å°„">åˆ›å»ºç´¢å¼•å’Œæ˜ å°„</h3><blockquote><p>å®ä½“ç±»</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Item</span> </span>&#123;</span><br><span class="line">    Long id;</span><br><span class="line">    String title; <span class="comment">//æ ‡é¢˜</span></span><br><span class="line">    String category;<span class="comment">// åˆ†ç±»</span></span><br><span class="line">    String brand; <span class="comment">// å“ç‰Œ</span></span><br><span class="line">    Double price; <span class="comment">// ä»·æ ¼</span></span><br><span class="line">    String images; <span class="comment">// å›¾ç‰‡åœ°å€</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// TODO get and set</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ˜ å°„</p></blockquote><p>Spring Dataé€šè¿‡æ³¨è§£æ¥å£°æ˜å­—æ®µçš„æ˜ å°„å±æ€§ï¼š</p><ul><li><p><code>@Document</code>ï¼šä½œç”¨äºç±»ï¼Œæ ‡è®°å®ä½“ç±»ä¸ºæ–‡æ¡£å¯¹è±¡ï¼Œä¸€èˆ¬æœ‰ä¸¤ä¸ªå±æ€§</p><ul><li>indexNameï¼šå¯¹åº”ç´¢å¼•åº“åç§°</li><li>typeï¼šå¯¹åº”åœ¨ç´¢å¼•åº“ä¸­çš„ç±»å‹</li><li>shardsï¼šåˆ†ç‰‡æ•°é‡ï¼Œé»˜è®¤ä¸º5</li><li>replicasï¼šå‰¯æœ¬æ•°é‡ï¼Œé»˜è®¤ä¸º1</li></ul></li><li><p><code>@Id</code>ï¼šä½œç”¨æˆå‘˜å˜é‡ï¼Œæ ‡è®°ä¸€ä¸ªå­—æ®µä½œä¸ºidä¸»é”®</p></li><li><p><code>@Field</code>ï¼šä½œç”¨åœ¨æˆå‘˜å˜é‡ï¼Œæ ‡è®°ä¸ºæ–‡æ¡£çš„å­—æ®µï¼Œå¹¶åˆ¶å®šå­—æ®µæ˜ å°„å±æ€§ï¼š</p><ul><li>typeï¼šå­—æ®µç±»å‹ï¼Œæ˜¯æšä¸¾ç±»<code>FieldType</code></li><li>indexï¼šæ˜¯å¦ç´¢å¼•ï¼Œé»˜è®¤ä¸ºtrue</li><li>storeï¼šæ˜¯å¦å­˜å‚¨ï¼Œé»˜è®¤ä¸ºfalse</li><li>analyzerï¼šåˆ†è¯å™¨åç§°</li></ul></li></ul><p>ç¤ºä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Document</span>(indexName = <span class="string">"item"</span>,shards = <span class="number">1</span>,replicas = <span class="number">0</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Item</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    Long id;</span><br><span class="line">    <span class="meta">@Field</span>(type = FieldType.Text,analyzer = <span class="string">"ik_max_word"</span>)</span><br><span class="line">    String title;</span><br><span class="line">    <span class="meta">@Field</span>(type = FieldType.Keyword)</span><br><span class="line">    String category;</span><br><span class="line">    <span class="meta">@Field</span>(type = FieldType.Keyword)</span><br><span class="line">    String brand;</span><br><span class="line">    <span class="meta">@Field</span>(type = FieldType.Double)</span><br><span class="line">    Double price;</span><br><span class="line">    <span class="meta">@Field</span>(type = FieldType.Keyword,index = <span class="keyword">false</span>)</span><br><span class="line">    String images;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨å…¥bean</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> ElasticsearchRestTemplate restTemplate;</span><br></pre></td></tr></table></figure><blockquote><p>åˆ›å»ºç´¢å¼•</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">createIndex</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">//  è®¾ç½®ç´¢å¼•ä¿¡æ¯ï¼ˆç»‘å®šå®ä½“ç±»ï¼‰ï¼Œè¿”å›IndexOperations</span></span><br><span class="line">     IndexOperations indexOperations = restTemplate.indexOps(Item<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line"><span class="comment">//  åˆ›å»ºç´¢å¼•</span></span><br><span class="line">indexOperations.create();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å¯ä»¥æ ¹æ®ç±»çš„ä¿¡æ¯è‡ªåŠ¨ç”Ÿæˆï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨æŒ‡å®š</li></ul><p><img src= "/img/loading.gif" data-src="C:%5CUsers%5CAdministrator%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200716193632823.png" alt="image-20200716193632823"></p><blockquote><p>åˆ›å»ºæ˜ å°„</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">createMapping</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">//  è®¾ç½®ç´¢å¼•ä¿¡æ¯ï¼ˆç»‘å®šå®ä½“ç±»ï¼‰ï¼Œè¿”å›IndexOperations</span></span><br><span class="line">    IndexOperations indexOperations = restTemplate.indexOps(Item<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line"><span class="comment">//    åˆ›å»ºç´¢å¼•æ˜ å°„</span></span><br><span class="line">Document mapping = indexOperations.createMapping();</span><br><span class="line"><span class="comment">//    å†™å…¥ç´¢å¼•</span></span><br><span class="line">    indexOperations.putMapping(mapping);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å®Œæ•´ä»£ç </p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RunWith</span>(SpringRunner<span class="class">.<span class="keyword">class</span>)</span></span><br><span class="line"><span class="class">@<span class="title">SpringBootTest</span>(<span class="title">classes</span> </span>= Application<span class="class">.<span class="keyword">class</span>)</span></span><br><span class="line"><span class="class"><span class="title">public</span> <span class="title">class</span> <span class="title">CreateIndexTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> ElasticsearchRestTemplate restTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">createIndex</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">//        è®¾ç½®ç´¢å¼•ä¿¡æ¯ï¼ˆç»‘å®šå®ä½“ç±»ï¼‰ï¼Œè¿”å›IndexOperations</span></span><br><span class="line">        IndexOperations indexOperations = restTemplate.indexOps(Item<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line"><span class="comment">//        åˆ›å»ºç´¢å¼•</span></span><br><span class="line">        indexOperations.create();</span><br><span class="line"><span class="comment">//        åˆ›å»ºç´¢å¼•æ˜ å°„</span></span><br><span class="line">        Document mapping = indexOperations.createMapping();</span><br><span class="line"><span class="comment">//        å†™å…¥ç´¢å¼•</span></span><br><span class="line">        indexOperations.putMapping(mapping);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>åœ¨Kibanaä¸­æŸ¥è¯¢ï¼ŒæŸ¥è¯¢è¯­å¥ï¼šGET /item</p></blockquote><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"item"</span> : &#123;</span><br><span class="line">    <span class="attr">"aliases"</span> : &#123; &#125;,</span><br><span class="line">    <span class="attr">"mappings"</span> : &#123;</span><br><span class="line">      <span class="attr">"properties"</span> : &#123;</span><br><span class="line">        <span class="attr">"brand"</span> : &#123;</span><br><span class="line">          <span class="attr">"type"</span> : <span class="string">"keyword"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">"category"</span> : &#123;</span><br><span class="line">          <span class="attr">"type"</span> : <span class="string">"keyword"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">"images"</span> : &#123;</span><br><span class="line">          <span class="attr">"type"</span> : <span class="string">"keyword"</span>,</span><br><span class="line">          <span class="attr">"index"</span> : <span class="literal">false</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">"price"</span> : &#123;</span><br><span class="line">          <span class="attr">"type"</span> : <span class="string">"double"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">"title"</span> : &#123;</span><br><span class="line">          <span class="attr">"type"</span> : <span class="string">"text"</span>,</span><br><span class="line">          <span class="attr">"analyzer"</span> : <span class="string">"ik_max_word"</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"settings"</span> : &#123;</span><br><span class="line">      <span class="attr">"index"</span> : &#123;</span><br><span class="line">        <span class="attr">"refresh_interval"</span> : <span class="string">"1s"</span>,</span><br><span class="line">        <span class="attr">"number_of_shards"</span> : <span class="string">"1"</span>,</span><br><span class="line">        <span class="attr">"provided_name"</span> : <span class="string">"item"</span>,</span><br><span class="line">        <span class="attr">"creation_date"</span> : <span class="string">"1594898975335"</span>,</span><br><span class="line">        <span class="attr">"store"</span> : &#123;</span><br><span class="line">          <span class="attr">"type"</span> : <span class="string">"fs"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">"number_of_replicas"</span> : <span class="string">"0"</span>,</span><br><span class="line">        <span class="attr">"uuid"</span> : <span class="string">"-CFLXqVhSFuluymWNevDYg"</span>,</span><br><span class="line">        <span class="attr">"version"</span> : &#123;</span><br><span class="line">          <span class="attr">"created"</span> : <span class="string">"7080099"</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åˆ é™¤ç´¢å¼•-2">åˆ é™¤ç´¢å¼•</h3><blockquote><p>ç¤ºä¾‹ï¼š</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteIndex</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">//    è®¾ç½®ç´¢å¼•ä¿¡æ¯ï¼ˆç»‘å®šå®ä½“ç±»ï¼‰ï¼Œè¿”å›IndexOperations</span></span><br><span class="line">    IndexOperations indexOperations = restTemplate.indexOps(Item<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line"><span class="comment">//    åˆ é™¤ç´¢å¼•</span></span><br><span class="line">    indexOperations.delete();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ç»“æœï¼š404 - Not Found</p></blockquote><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"error"</span> : &#123;</span><br><span class="line">    <span class="attr">"root_cause"</span> : [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"type"</span> : <span class="string">"index_not_found_exception"</span>,</span><br><span class="line">        <span class="attr">"reason"</span> : <span class="string">"no such index [item]"</span>,</span><br><span class="line">        <span class="attr">"resource.type"</span> : <span class="string">"index_or_alias"</span>,</span><br><span class="line">        <span class="attr">"resource.id"</span> : <span class="string">"item"</span>,</span><br><span class="line">        <span class="attr">"index_uuid"</span> : <span class="string">"_na_"</span>,</span><br><span class="line">        <span class="attr">"index"</span> : <span class="string">"item"</span></span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">"type"</span> : <span class="string">"index_not_found_exception"</span>,</span><br><span class="line">    <span class="attr">"reason"</span> : <span class="string">"no such index [item]"</span>,</span><br><span class="line">    <span class="attr">"resource.type"</span> : <span class="string">"index_or_alias"</span>,</span><br><span class="line">    <span class="attr">"resource.id"</span> : <span class="string">"item"</span>,</span><br><span class="line">    <span class="attr">"index_uuid"</span> : <span class="string">"_na_"</span>,</span><br><span class="line">    <span class="attr">"index"</span> : <span class="string">"item"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"status"</span> : <span class="number">404</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ–°å¢æ–‡æ¡£æ•°æ®">æ–°å¢æ–‡æ¡£æ•°æ®</h2><h3 id="Repositoryæ¥å£">Repositoryæ¥å£</h3><p>Spring Data çš„å¼ºå¤§ä¹‹å¤„åœ¨äºä¸åŒå†™ä»»ä½•DAOå¤„ç†ï¼Œå¯ä»¥è‡ªåŠ¨æ ¹æ®æ–¹æ³•åæˆ–ç±»çš„ä¿¡æ¯è¿›è¡ŒCRUDæ“ä½œã€‚åªè¦å®šä¹‰ä¸€ä¸ªæ¥å£ï¼Œç„¶åç»§æ‰¿Repositoryæä¾›çš„ä¸€äº›å­æ¥å£ï¼Œå°±èƒ½å…·å¤‡å„ç§åŸºæœ¬çš„CRUDåŠŸèƒ½ã€‚</p><p>Repositoryç»§æ‰¿å…³ç³»ï¼š</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/07/16/image-20200717001327328.png" alt="image-20200717001327328"></p><p>å…¶ä¸­ï¼ŒElasticsearchRepositoryæ¥å£ï¼š</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/07/16/image-20200717002829448.png" alt="image-20200717002829448"></p><blockquote><p>è‡ªå®šä¹‰æ¥å£ï¼Œç»§æ‰¿ElasticsearchRepository</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ItemRepository</span> <span class="keyword">extends</span> <span class="title">ElasticsearchRepository</span>&lt;<span class="title">Item</span>,<span class="title">Long</span>&gt; </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥ï¼Œå°±å¯ä»¥æ–°å¢æ•°æ®äº†</p><h3 id="æ–°å¢ä¸€ä¸ªæ–‡æ¡£">æ–°å¢ä¸€ä¸ªæ–‡æ¡£</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> ItemRepository repository;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">save</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Item item = <span class="keyword">new</span> Item(<span class="number">1L</span>,<span class="string">"åä¸ºæ‰‹æœº"</span>,<span class="string">"æ‰‹æœº"</span>,<span class="string">"åä¸º"</span>,<span class="number">4999.00</span>,<span class="string">"http://image.badcode.icu/13123.jpg"</span>);</span><br><span class="line">    repository.save(item);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨Kibanaä¸­æŸ¥è¯¢</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">GET /item/_search</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"query"</span>: &#123;</span><br><span class="line">    <span class="string">"match_all"</span>: &#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»“æœï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"took"</span> : <span class="number">0</span>,</span><br><span class="line">  <span class="attr">"timed_out"</span> : <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">"_shards"</span> : &#123;</span><br><span class="line">    <span class="attr">"total"</span> : <span class="number">1</span>,</span><br><span class="line">    <span class="attr">"successful"</span> : <span class="number">1</span>,</span><br><span class="line">    <span class="attr">"skipped"</span> : <span class="number">0</span>,</span><br><span class="line">    <span class="attr">"failed"</span> : <span class="number">0</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"hits"</span> : &#123;</span><br><span class="line">    <span class="attr">"total"</span> : &#123;</span><br><span class="line">      <span class="attr">"value"</span> : <span class="number">1</span>,</span><br><span class="line">      <span class="attr">"relation"</span> : <span class="string">"eq"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"max_score"</span> : <span class="number">1.0</span>,</span><br><span class="line">    <span class="attr">"hits"</span> : [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"_index"</span> : <span class="string">"item"</span>,</span><br><span class="line">        <span class="attr">"_type"</span> : <span class="string">"_doc"</span>,</span><br><span class="line">        <span class="attr">"_id"</span> : <span class="string">"1"</span>,</span><br><span class="line">        <span class="attr">"_score"</span> : <span class="number">1.0</span>,</span><br><span class="line">        <span class="attr">"_source"</span> : &#123;</span><br><span class="line">          <span class="attr">"_class"</span> : <span class="string">"com.code.bean.Item"</span>,</span><br><span class="line">          <span class="attr">"id"</span> : <span class="number">1</span>,</span><br><span class="line">          <span class="attr">"title"</span> : <span class="string">"åä¸ºæ‰‹æœº"</span>,</span><br><span class="line">          <span class="attr">"category"</span> : <span class="string">"æ‰‹æœº"</span>,</span><br><span class="line">          <span class="attr">"brand"</span> : <span class="string">"åä¸º"</span>,</span><br><span class="line">          <span class="attr">"price"</span> : <span class="number">4999.0</span>,</span><br><span class="line">          <span class="attr">"images"</span> : <span class="string">"http://image.badcode.icu/13123.jpg"</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ‰¹é‡æ–°å¢æ–‡æ¡£">æ‰¹é‡æ–°å¢æ–‡æ¡£</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">saveAll</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    List&lt;Item&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    list.add(<span class="keyword">new</span> Item(<span class="number">2L</span>, <span class="string">"åšæœæ‰‹æœºR1"</span>, <span class="string">" æ‰‹æœº"</span>, <span class="string">"é”¤å­"</span>, <span class="number">3999.00</span>,<span class="string">"http://image.badcode.icu/13123.jpg"</span>));</span><br><span class="line">    list.add(<span class="keyword">new</span> Item(<span class="number">3L</span>, <span class="string">"å°ç±³æ‰‹æœº"</span>, <span class="string">" æ‰‹æœº"</span>, <span class="string">"å°ç±³"</span>, <span class="number">1999.00</span>, <span class="string">"http://image.badcode.icu/13123.jpg"</span>));</span><br><span class="line">    list.add(<span class="keyword">new</span> Item(<span class="number">4L</span>, <span class="string">"iphoneæ‰‹æœº"</span>, <span class="string">" æ‰‹æœº"</span>, <span class="string">"Apple"</span>, <span class="number">8999.00</span>, <span class="string">"http://image.badcode.icu/13123.jpg"</span>));</span><br><span class="line">    repository.saveAll(list);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨Kibanaä¸­æŸ¥è¯¢ï¼Œå…±æœ‰4æ¡æ•°æ®</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/07/16/image-20200717004513867.png" alt="image-20200717004513867"></p><h3 id="ä¿®æ”¹">ä¿®æ”¹</h3><p>ä¿®æ”¹å’Œæ–°å¢æ˜¯åŒä¸€ä¸ªæ¥å£ï¼ŒåŒºåˆ†çš„ä¾æ®å°±æ˜¯idã€‚è·Ÿåœ¨é¡µé¢å‘èµ·PUTè¯·æ±‚æ˜¯ç±»ä¼¼çš„ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Item item = <span class="keyword">new</span> Item(<span class="number">4L</span>, <span class="string">"è‹¹æœæ‰‹æœº"</span>, <span class="string">" æ‰‹æœº"</span>, <span class="string">"Apple"</span>, <span class="number">8999.00</span>, <span class="string">"http://image.badcode.icu/13123.jpg"</span>);</span><br><span class="line">    repository.save(item);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å¦‚æœidå­˜åœ¨ï¼Œåˆ™ä¿®æ”¹ï¼›ä¸å­˜åœ¨åˆ™æ–°å¢</li></ul><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/07/16/image-20200717004943453.png" alt="image-20200717004943453"></p><h2 id="æŸ¥è¯¢">æŸ¥è¯¢</h2><h3 id="åŸºæœ¬æŸ¥è¯¢-2">åŸºæœ¬æŸ¥è¯¢</h3><p>ElasticsearchRepositoryæä¾›äº†ä¸€äº›åŸºæœ¬çš„æŸ¥è¯¢æ–¹æ³•</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/07/16/image-20200717005859538.png" alt="image-20200717005859538"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æŸ¥è¯¢æ‰€æœ‰</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">query</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Iterable&lt;Item&gt; items = repository.findAll();</span><br><span class="line">    <span class="keyword">for</span> (Item item : items) &#123;</span><br><span class="line">        System.out.println(item);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢ç»“æœï¼š</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/07/16/image-20200717010237379.png" alt="image-20200717010237379"></p><h3 id="è‡ªå®šä¹‰æ–¹æ³•">è‡ªå®šä¹‰æ–¹æ³•</h3><p>Spring Dataçš„å¦ä¸€ä¸ªå¼ºå¤§ä¹‹å¤„ï¼Œæ˜¯æ ¹æ®æ–¹æ³•åè‡ªåŠ¨å®ç°åŠŸèƒ½ã€‚</p><p>ä¾‹å¦‚ï¼šæ–¹æ³•åæ˜¯ï¼šfindByTitleï¼Œé‚£ä¹ˆå®ƒå°±çŸ¥é“æ˜¯æ ¹æ®titleæ¥æŸ¥è¯¢ï¼Œç„¶åå¸®ä½ è‡ªåŠ¨å®Œæˆï¼Œæ— éœ€å†™å®ç°ç±»</p><div class='tip warning'><p>æ³¨æ„ï¼šæ–¹æ³•åè¦ç¬¦åˆçº¦æŸ<p></div><p><a href="https://docs.spring.io/spring-data/elasticsearch/docs/4.0.1.RELEASE/reference/html/#elasticsearch.query-methods.criterions" target="_blank" rel="noopener">å®˜æ–¹å‚è€ƒæ–‡æ¡£åœ°å€</a></p><table><thead><tr><th>Keyword</th><th>Sample</th><th>Elasticsearch Query String</th></tr></thead><tbody><tr><td><code>And</code></td><td><code>findByNameAndPrice</code></td><td><code>{&quot;bool&quot; : {&quot;must&quot; : [ {&quot;field&quot; : {&quot;name&quot; : &quot;?&quot;}}, {&quot;field&quot; : {&quot;price&quot; : &quot;?&quot;}} ]}}</code></td></tr><tr><td><code>Or</code></td><td><code>findByNameOrPrice</code></td><td><code>{&quot;bool&quot; : {&quot;should&quot; : [ {&quot;field&quot; : {&quot;name&quot; : &quot;?&quot;}}, {&quot;field&quot; : {&quot;price&quot; : &quot;?&quot;}} ]}}</code></td></tr><tr><td><code>Is</code></td><td><code>findByName</code></td><td><code>{&quot;bool&quot; : {&quot;must&quot; : {&quot;field&quot; : {&quot;name&quot; : &quot;?&quot;}}}}</code></td></tr><tr><td><code>Not</code></td><td><code>findByNameNot</code></td><td><code>{&quot;bool&quot; : {&quot;must_not&quot; : {&quot;field&quot; : {&quot;name&quot; : &quot;?&quot;}}}}</code></td></tr><tr><td><code>Between</code></td><td><code>findByPriceBetween</code></td><td><code>{&quot;bool&quot; : {&quot;must&quot; : {&quot;range&quot; : {&quot;price&quot; : {&quot;from&quot; : ?,&quot;to&quot; : ?,&quot;include_lower&quot; : true,&quot;include_upper&quot; : true}}}}}</code></td></tr><tr><td><code>LessThanEqual</code></td><td><code>findByPriceLessThan</code></td><td><code>{&quot;bool&quot; : {&quot;must&quot; : {&quot;range&quot; : {&quot;price&quot; : {&quot;from&quot; : null,&quot;to&quot; : ?,&quot;include_lower&quot; : true,&quot;include_upper&quot; : true}}}}}</code></td></tr><tr><td><code>GreaterThanEqual</code></td><td><code>findByPriceGreaterThan</code></td><td><code>{&quot;bool&quot; : {&quot;must&quot; : {&quot;range&quot; : {&quot;price&quot; : {&quot;from&quot; : ?,&quot;to&quot; : null,&quot;include_lower&quot; : true,&quot;include_upper&quot; : true}}}}}</code></td></tr><tr><td><code>Before</code></td><td><code>findByPriceBefore</code></td><td><code>{&quot;bool&quot; : {&quot;must&quot; : {&quot;range&quot; : {&quot;price&quot; : {&quot;from&quot; : null,&quot;to&quot; : ?,&quot;include_lower&quot; : true,&quot;include_upper&quot; : true}}}}}</code></td></tr><tr><td><code>After</code></td><td><code>findByPriceAfter</code></td><td><code>{&quot;bool&quot; : {&quot;must&quot; : {&quot;range&quot; : {&quot;price&quot; : {&quot;from&quot; : ?,&quot;to&quot; : null,&quot;include_lower&quot; : true,&quot;include_upper&quot; : true}}}}}</code></td></tr><tr><td><code>Like</code></td><td><code>findByNameLike</code></td><td><code>{&quot;bool&quot; : {&quot;must&quot; : {&quot;field&quot; : {&quot;name&quot; : {&quot;query&quot; : &quot;?*&quot;,&quot;analyze_wildcard&quot; : true}}}}}</code></td></tr><tr><td><code>StartingWith</code></td><td><code>findByNameStartingWith</code></td><td><code>{&quot;bool&quot; : {&quot;must&quot; : {&quot;field&quot; : {&quot;name&quot; : {&quot;query&quot; : &quot;?*&quot;,&quot;analyze_wildcard&quot; : true}}}}}</code></td></tr><tr><td><code>EndingWith</code></td><td><code>findByNameEndingWith</code></td><td><code>{&quot;bool&quot; : {&quot;must&quot; : {&quot;field&quot; : {&quot;name&quot; : {&quot;query&quot; : &quot;*?&quot;,&quot;analyze_wildcard&quot; : true}}}}}</code></td></tr><tr><td><code>Contains/Containing</code></td><td><code>findByNameContaining</code></td><td><code>{&quot;bool&quot; : {&quot;must&quot; : {&quot;field&quot; : {&quot;name&quot; : {&quot;query&quot; : &quot;**?**&quot;,&quot;analyze_wildcard&quot; : true}}}}}</code></td></tr><tr><td><code>In</code></td><td><code>findByNameIn(Collection&lt;String&gt;names)</code></td><td><code>{&quot;bool&quot; : {&quot;must&quot; : {&quot;bool&quot; : {&quot;should&quot; : [ {&quot;field&quot; : {&quot;name&quot; : &quot;?&quot;}}, {&quot;field&quot; : {&quot;name&quot; : &quot;?&quot;}} ]}}}}</code></td></tr><tr><td><code>NotIn</code></td><td><code>findByNameNotIn(Collection&lt;String&gt;names)</code></td><td><code>{&quot;bool&quot; : {&quot;must_not&quot; : {&quot;bool&quot; : {&quot;should&quot; : {&quot;field&quot; : {&quot;name&quot; : &quot;?&quot;}}}}}}</code></td></tr><tr><td><code>Near</code></td><td><code>findByStoreNear</code></td><td><code>Not Supported Yet !</code></td></tr><tr><td><code>True</code></td><td><code>findByAvailableTrue</code></td><td><code>{&quot;bool&quot; : {&quot;must&quot; : {&quot;field&quot; : {&quot;available&quot; : true}}}}</code></td></tr><tr><td><code>False</code></td><td><code>findByAvailableFalse</code></td><td><code>{&quot;bool&quot; : {&quot;must&quot; : {&quot;field&quot; : {&quot;available&quot; : false}}}}</code></td></tr><tr><td><code>OrderBy</code></td><td><code>findByAvailableTrueOrderByNameDesc</code></td><td><code>{&quot;sort&quot; : [{ &quot;name&quot; : {&quot;order&quot; : &quot;desc&quot;} }],&quot;bool&quot; : {&quot;must&quot; : {&quot;field&quot; : {&quot;available&quot; : true}}}}</code></td></tr></tbody></table><blockquote><p>ä¾‹å¦‚ï¼šæŒ‰ç…§ä»·æ ¼åŒºé—´æŸ¥è¯¢</p></blockquote><p>å®šä¹‰æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ItemRepository</span> <span class="keyword">extends</span> <span class="title">ElasticsearchRepository</span>&lt;<span class="title">Item</span>,<span class="title">Long</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®ä»·æ ¼åŒºé—´æŸ¥è¯¢</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> price1</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> price2</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">List&lt;Item&gt; <span class="title">findByPriceBetween</span><span class="params">(<span class="keyword">double</span> price1, <span class="keyword">double</span> price2)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">query1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    List&lt;Item&gt; items = repository.findByPriceBetween(<span class="number">1000.00</span>, <span class="number">4000.00</span>);</span><br><span class="line">    <span class="keyword">for</span> (Item item : items) &#123;</span><br><span class="line">        System.out.println(item);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»“æœï¼š</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/07/16/image-20200717011438719.png" alt="image-20200717011438719"></p><h3 id="è‡ªå®šä¹‰æŸ¥è¯¢">è‡ªå®šä¹‰æŸ¥è¯¢</h3><p>æœ‰å…³Queryçš„æ„é€ å™¨ï¼Œå‘ç°Queryæ¥å£å…±æœ‰1ä¸ªæŠ½è±¡ç±»å’Œ3ä¸ªå®ç°ç±»</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/07/16/image-20200717012714123.png" alt="image-20200717012714123"></p><p>å¯ä»¥é€šè¿‡ <code>new NativeSearchQueryBuilder()</code> æ¥æ„å»º <code>NativeSearchQuery</code>å¯¹è±¡</p><p><code>NativeSearchQuery</code>ä¸­æœ‰å¾ˆå¤šçš„æ–¹æ³•æ¥ä¸ºæˆ‘ä»¬å®ç°å¤æ‚çš„æŸ¥è¯¢ä¸ç­›é€‰æ“ä½œ</p><p>å…¶ä¸­çš„<code>builder()</code>è¿”å›<code>NativeSearchQuery</code>ï¼Œæ‰€ä»¥ï¼Œåœ¨ä¼—å¤šç­›é€‰æ¡ä»¶ä¹‹åä¸è¦å¿˜è®°åŠ ä¸Š<code>builder()</code></p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/07/16/image-20200717014342981.png" alt="image-20200717014342981"></p><p>åŸºæœ¬çš„matchQueryæŸ¥è¯¢</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">search</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">//    åˆ©ç”¨æ„é€ å™¨NativeSearchQueryBuilderæ„å»ºNativeSearchQuery</span></span><br><span class="line">    NativeSearchQuery queryBuilder = <span class="keyword">new</span> NativeSearchQueryBuilder()</span><br><span class="line">            .withQuery(QueryBuilders.matchQuery(<span class="string">"title"</span>,<span class="string">"åä¸ºæ‰‹æœº"</span>))</span><br><span class="line">            .build();</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">        ElasticsearchRestTemplate.search()</span></span><br><span class="line"><span class="comment">            å‚æ•°1ï¼šæœ¬æœºæŸ¥è¯¢çš„æ„é€ </span></span><br><span class="line"><span class="comment">            å‚æ•°2ï¼šindexçš„ç±»</span></span><br><span class="line"><span class="comment">            å‚æ•°3ï¼šå†æ¬¡å£°æ˜åº“åï¼ˆå¯é€‰ï¼‰</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    SearchHits&lt;Item&gt; search = restTemplate.search(queryBuilder, Item<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">    <span class="keyword">for</span> (SearchHit&lt;Item&gt; itemSearchHit : search) &#123;</span><br><span class="line">        System.out.println(itemSearchHit.getContent());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>NativeSearchQueryBuilder()ï¼šSpringæä¾›çš„ä¸€ä¸ªæŸ¥è¯¢æ¡ä»¶æ„é€ å™¨ï¼Œå¸®åŠ©æ„å»ºjsonæ ¼å¼çš„è¯·æ±‚ä½“</p></li><li><p>QueryBuilders.matchQuery(â€œtitleâ€,â€œåä¸ºæ‰‹æœºâ€)ï¼šåˆ©ç”¨QueryBuildersæ¥ç”Ÿæˆä¸€ä¸ªæŸ¥è¯¢ã€‚</p><ul><li><p>QueryBuildersï¼šæä¾›äº†å¤§é‡çš„é™æ€æ–¹æ³•ï¼Œç”¨äºç”Ÿæˆå„ç§ä¸åŒç±»å‹çš„æŸ¥è¯¢</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/07/16/image-20200717021230765.png" alt="image-20200717021230765"></p></li></ul></li><li><p>SearchHit<Item>ï¼šå°†æœç´¢åˆ°çš„æ•°æ®ä¸å…¶ä»–ä¿¡æ¯ä¸€èµ·å°è£…ï¼ŒåŒ…å«å±æ€§ï¼š</p><ul><li>id</li><li>scoreï¼šå¾—åˆ†</li><li>sortValuesï¼šæ’åºå€¼</li><li>contentï¼šæ–‡æ¡£å†…å®¹</li><li>highlightFieldsï¼šçªå‡ºæ˜¾ç¤ºå­—æ®µ</li></ul></li></ul><p>ç»“æœï¼š</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/07/16/image-20200717023040336.png" alt="image-20200717023040336"></p><h3 id="åˆ†é¡µæŸ¥è¯¢">åˆ†é¡µæŸ¥è¯¢</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">searchByPage</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    NativeSearchQuery queryBuilder = <span class="keyword">new</span> NativeSearchQueryBuilder()</span><br><span class="line">            .withQuery(QueryBuilders.matchQuery(<span class="string">"title"</span>, <span class="string">"åä¸ºæ‰‹æœº"</span>))</span><br><span class="line">            <span class="comment">/*</span></span><br><span class="line"><span class="comment">                æ·»åŠ åˆ†é¡µ</span></span><br><span class="line"><span class="comment">                Pageableçš„å®ç°ç±»PageRequestçš„ofæ–¹æ³•</span></span><br><span class="line"><span class="comment">                    å‚æ•°1ï¼šå½“å‰é¡µ</span></span><br><span class="line"><span class="comment">                    å‚æ•°2ï¼šè¦è¿”å›çš„é¡µé¢å¤§å°ï¼Œå¿…é¡»å¤§äº0</span></span><br><span class="line"><span class="comment">                    å‚æ•°3ï¼šæ’åºå‚æ•°ï¼ˆå¯é€‰ï¼‰,Sort.Direction.DESCé™åº Sort.Direction.ASCå‡åº</span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">            .withPageable(PageRequest.of(<span class="number">1</span>,<span class="number">2</span>))</span><br><span class="line">            .build();</span><br><span class="line"></span><br><span class="line">    SearchHits&lt;Item&gt; search = restTemplate.search(queryBuilder, Item<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">    <span class="keyword">for</span> (SearchHit&lt;Item&gt; itemSearchHit : search) &#123;</span><br><span class="line">        System.out.println(itemSearchHit.getContent());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»“æœï¼š</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/07/16/image-20200717024712082.png" alt="image-20200717024712082"></p><h3 id="æ’åº-2">æ’åº</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">searchBySort</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    NativeSearchQuery queryBuilder = <span class="keyword">new</span> NativeSearchQueryBuilder()</span><br><span class="line">            .withQuery(QueryBuilders.matchQuery(<span class="string">"title"</span>, <span class="string">"åä¸ºæ‰‹æœº"</span>))</span><br><span class="line">            .withPageable(PageRequest.of(<span class="number">0</span>,<span class="number">4</span>))</span><br><span class="line">            <span class="comment">/*</span></span><br><span class="line"><span class="comment">                æ’åº</span></span><br><span class="line"><span class="comment">                fieldSort(String field) æ ¹æ®å­—æ®µæ’åº</span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">            .withSort(SortBuilders.fieldSort(<span class="string">"price"</span>).order(SortOrder.DESC))</span><br><span class="line">            .build();</span><br><span class="line">    SearchHits&lt;Item&gt; search = restTemplate.search(queryBuilder, Item<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">    <span class="keyword">for</span> (SearchHit&lt;Item&gt; itemSearchHit : search) &#123;</span><br><span class="line">        System.out.println(itemSearchHit.getContent());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»“æœï¼š</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/07/16/image-20200717025538195.png" alt="image-20200717025538195"></p><h2 id="èšåˆ">èšåˆ</h2><h3 id="èšåˆä¸ºæ¡¶-2">èšåˆä¸ºæ¡¶</h3><blockquote><p>æ¡¶å³æ˜¯åˆ†ç»„ï¼Œä¾‹å¦‚ï¼šæŒ‰ç…§å“ç‰Œbrandè¿›è¡Œåˆ†ç»„</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testAggs</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    NativeSearchQueryBuilder queryBuilder = <span class="keyword">new</span> NativeSearchQueryBuilder();</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">        èšåˆå¯ä»¥ç”¨å¤šä¸ªï¼Œæ‰€ä»¥add</span></span><br><span class="line"><span class="comment">            termsï¼šè¯æ¡èšåˆ,ä¼ å…¥è¯æ¡åç§°</span></span><br><span class="line"><span class="comment">            fieldï¼šèšåˆå­—æ®µ</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    NativeSearchQuery query = queryBuilder.addAggregation(AggregationBuilders.terms(<span class="string">"brands"</span>).field(<span class="string">"brand"</span>))</span><br><span class="line">            <span class="comment">/*</span></span><br><span class="line"><span class="comment">                ç»“æœé›†è¿‡æ»¤ï¼Œè¿™é‡Œè®¾ç½®ä¸éœ€è¦ç»“æœé›†ï¼Œä¸æ·»åŠ åŒ…å«ä¸ä¸åŒ…å«ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆlengthä¸º0çš„æ•°ç»„</span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">            .withSourceFilter(<span class="keyword">new</span> FetchSourceFilterBuilder().build())</span><br><span class="line">            .build();</span><br><span class="line">    SearchHits&lt;Item&gt; items = restTemplate.search(query, Item<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line"><span class="comment">//        è·å–èšåˆç»“æœé›†</span></span><br><span class="line">    Aggregations aggregations = items.getAggregations();</span><br><span class="line">    <span class="keyword">assert</span> aggregations != <span class="keyword">null</span>;</span><br><span class="line"><span class="comment">//        å› ä¸ºç»“æœä¸ºå­—ç¬¦ä¸²ç±»å‹ï¼Œæ‰€ä»¥ä½¿ç”¨ParsedStringTermsæ¥æ”¶</span></span><br><span class="line">    ParsedStringTerms brands = aggregations.get(<span class="string">"brands"</span>);</span><br><span class="line"><span class="comment">//        è·å–æ¡¶</span></span><br><span class="line">    brands.getBuckets().forEach(bucket -&gt; &#123;</span><br><span class="line"><span class="comment">//            getKeyAsString()ï¼šè·å–æ¡¶ä¸­çš„key</span></span><br><span class="line"><span class="comment">//            getDocCount()ï¼šè·å–è®°å½•æ•°</span></span><br><span class="line">        System.out.println(bucket.getKeyAsString() + <span class="string">"\t"</span> + bucket.getDocCount());</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/07/16/image-20200717230352733.png" alt="image-20200717230352733"></p><ul><li><code>AggregationBuilders</code>ï¼šèšåˆçš„æ„å»ºå·¥å‚ç±»ã€‚æ‰€æœ‰èšåˆéƒ½ç”±è¿™ä¸ªå·¥å‚æ„å»ºï¼š</li></ul><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/07/16/image-20200717230903011.png" alt="image-20200717230903011"></p><ul><li><p>Aggregationï¼šèšåˆçš„ç»“æœé›†</p></li><li><p>ParsedStringTermsï¼šæ¥å—èšåˆç»“æœï¼Œå­—ç¬¦ä¸²ç±»å‹ï¼ŒParsedTermsæŠ½è±¡ç±»çš„å­ç±»</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/07/16/image-20200717234218525.png" alt="image-20200717234218525"></p><ul><li>ParsedLongTermsï¼šæ¥æ”¶æ•°å­—ç±»å‹</li><li>ParsedDoubleTermsï¼šæ¥æ”¶å°æ•°ç±»å‹</li></ul></li></ul><h3 id="åµŒå¥—èšåˆï¼Œæ±‚å¹³å‡å€¼">åµŒå¥—èšåˆï¼Œæ±‚å¹³å‡å€¼</h3><p>å…ˆæ·»åŠ æ•°æ®</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">saveAll2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    List&lt;Item&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    list.add(<span class="keyword">new</span> Item(<span class="number">5L</span>, <span class="string">"åä¸ºV30"</span>, <span class="string">"æ‰‹æœº"</span>, <span class="string">"åä¸º"</span>, <span class="number">3999.00</span>, <span class="string">"http://image.badcode.icu/13123.jpg"</span>));</span><br><span class="line">    list.add(<span class="keyword">new</span> Item(<span class="number">6L</span>, <span class="string">"åä¸ºP10"</span>, <span class="string">" æ‰‹æœº"</span>, <span class="string">"åä¸º"</span>, <span class="number">2999.00</span>, <span class="string">"http://image.badcode.icu/13123.jpg"</span>));</span><br><span class="line">    list.add(<span class="keyword">new</span> Item(<span class="number">7L</span>, <span class="string">"å°ç±³X5"</span>, <span class="string">" æ‰‹æœº"</span>, <span class="string">"å°ç±³"</span>, <span class="number">1999.00</span>, <span class="string">"http://image.badcode.icu/13123.jpg"</span>));</span><br><span class="line">    list.add(<span class="keyword">new</span> Item(<span class="number">8L</span>, <span class="string">"iphone11"</span>, <span class="string">" æ‰‹æœº"</span>, <span class="string">"Apple"</span>, <span class="number">5999.00</span>, <span class="string">"http://image.badcode.icu/13123.jpg"</span>));</span><br><span class="line">    repository.saveAll(list);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/07/16/image-20200718000441301.png" alt="image-20200718000441301"></p><blockquote><p>æ ¹æ®å“ç‰Œè®¡ç®—å¹³å‡å€¼</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testSubAggs</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    NativeSearchQueryBuilder queryBuilder = <span class="keyword">new</span> NativeSearchQueryBuilder();</span><br><span class="line">    NativeSearchQuery query = queryBuilder</span><br><span class="line">            .addAggregation(AggregationBuilders.terms(<span class="string">"brands"</span>).field(<span class="string">"brand"</span>)</span><br><span class="line">            .subAggregation(AggregationBuilders.avg(<span class="string">"avg_price"</span>).field(<span class="string">"price"</span>)))</span><br><span class="line">            .withSourceFilter(<span class="keyword">new</span> FetchSourceFilterBuilder().build())</span><br><span class="line">            .build();</span><br><span class="line">    SearchHits&lt;Item&gt; itemSearchHits = restTemplate.search(query, Item<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">    Aggregations aggregations = itemSearchHits.getAggregations();</span><br><span class="line">    <span class="keyword">assert</span> aggregations != <span class="keyword">null</span>;</span><br><span class="line">    ParsedStringTerms brands = aggregations.get(<span class="string">"brands"</span>);</span><br><span class="line">    brands.getBuckets().forEach(bucket -&gt; &#123;</span><br><span class="line">        System.out.print(<span class="string">"å“ç‰Œåï¼š"</span> + bucket.getKeyAsString() + <span class="string">"\tæ•°é‡ï¼š"</span> + bucket.getDocCount());</span><br><span class="line">        ParsedAvg avg_price = bucket.getAggregations().get(<span class="string">"avg_price"</span>);</span><br><span class="line">        System.out.println(<span class="string">"\tå¹³å‡ä»·æ ¼ï¼š"</span> + avg_price.getValue());</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/07/16/image-20200718001705081.png" alt="image-20200718001705081"></p><a class="btn-beautify button--animated block outline red larger" href="https://github.com/BadCode1996/elasticsearch" target="_blank" rel="noopener" title="è¿›å…¥é¡¹ç›®åœ°å€"><i class="far fa-hand-point-right fa-fw"></i> è¿›å…¥é¡¹ç›®åœ°å€ </a>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
          <category> ç»„ä»¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Elasticsearch </tag>
            
            <tag> Kibana </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexoå¸¸ç”¨å‘½ä»¤ç¬”è®°</title>
      <link href="/posts/20070701.html/"/>
      <url>/posts/20070701.html/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h2 id="Hexoå¸¸ç”¨å‘½ä»¤">Hexoå¸¸ç”¨å‘½ä»¤</h2><h3 id="ç®€å†™">ç®€å†™</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">hexo clean <span class="comment"># åˆ é™¤ç”Ÿæˆçš„æ–‡ä»¶å’Œç¼“å­˜</span></span><br><span class="line">hexo g  ==&gt; hexo generate <span class="comment"># ç”Ÿæˆé™æ€æ–‡ä»¶</span></span><br><span class="line">hexo d ==&gt; hexo deploy <span class="comment"># éƒ¨ç½²åˆ°ç½‘ç«™</span></span><br><span class="line">hexo s ==&gt; hexo server <span class="comment"># å¯åŠ¨æœåŠ¡é¢„è§ˆ</span></span><br><span class="line">hexo n <span class="string">"PostsName"</span> ==&gt; hexo new <span class="string">"PostsName"</span> <span class="comment"># æ–°å»ºæ–‡ç« </span></span><br></pre></td></tr></table></figure><h3 id="æœåŠ¡å™¨">æœåŠ¡å™¨</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hexo server <span class="comment"># Hexoä¼šç›‘è§†æ–‡ä»¶å˜åŠ¨å¹¶ä¸”è‡ªåŠ¨æ›´æ–°ï¼Œæ— é¡»é‡å¯æœåŠ¡å™¨</span></span><br><span class="line">hexo server s <span class="comment"># é™æ€æ¨¡å¼</span></span><br><span class="line">hexo server p <span class="number">4040</span> <span class="comment"># æ›´æ”¹ç«¯å£å·</span></span><br><span class="line">hexo server <span class="literal">-i</span> <span class="number">192.168</span>.<span class="number">1.1</span> <span class="comment"># è‡ªå®šä¹‰ip</span></span><br></pre></td></tr></table></figure><h3 id="ç›‘è§†æ–‡ä»¶å˜åŠ¨">ç›‘è§†æ–‡ä»¶å˜åŠ¨</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo generate <span class="comment"># ä½¿ç”¨Hexoç”Ÿæˆé™æ€æ–‡ä»¶</span></span><br><span class="line">hexo generate -<span class="literal">-watch</span> <span class="comment"># ç›‘è§†æ–‡ä»¶å˜åŠ¨</span></span><br></pre></td></tr></table></figure><h3 id="å®Œæˆåéƒ¨ç½²">å®Œæˆåéƒ¨ç½²</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¸¤ä¸ªå‘½ä»¤çš„ä½œç”¨ä¸€æ ·</span></span><br><span class="line">hexo generate -<span class="literal">-deploy</span></span><br><span class="line">hexo deploy -<span class="literal">-generate</span></span><br><span class="line"></span><br><span class="line">hexo deploy <span class="literal">-g</span></span><br><span class="line">hexo server <span class="literal">-g</span></span><br></pre></td></tr></table></figure><h3 id="è‰ç¨¿">è‰ç¨¿</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo publish [<span class="type">layout</span>] &lt;title&gt;</span><br></pre></td></tr></table></figure><h3 id="æ¨¡æ¿">æ¨¡æ¿</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">hexo new <span class="string">"postName"</span> <span class="comment">#æ–°å»ºæ–‡ç« </span></span><br><span class="line">hexo new page <span class="string">"pageName"</span> <span class="comment">#æ–°å»ºé¡µé¢</span></span><br><span class="line"></span><br><span class="line">hexo new photo <span class="string">"My Gallery"</span></span><br><span class="line">hexo new <span class="string">"Hello World"</span> -<span class="literal">-lang</span> tw</span><br></pre></td></tr></table></figure><h2 id="Butterflyä¸»é¢˜ä½¿ç”¨æ–‡æ¡£">Butterflyä¸»é¢˜ä½¿ç”¨æ–‡æ¡£</h2><h3 id="æ–‡ä»¶å¤´">æ–‡ä»¶å¤´</h3><h4 id="Page-Front-matter">Page Front-matter</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title:</span><br><span class="line">date:</span><br><span class="line">type: ï¼ˆtags,link,categoriesè¿™ä¸‰ä¸ªé¡µé¢éœ€è¦é…ç½®ï¼‰</span><br><span class="line">comments: (æ˜¯å¦éœ€è¦æ˜¾ç¤ºè¯„è®ºï¼Œé»˜è®¤true)</span><br><span class="line">description:</span><br><span class="line">top_img: (è®¾ç½®é¡¶éƒ¨å›¾)</span><br><span class="line">mathjax:</span><br><span class="line">katex:</span><br><span class="line">---</span><br></pre></td></tr></table></figure><table><thead><tr><th style="text-align:center">key</th><th style="text-align:center">value</th></tr></thead><tbody><tr><td style="text-align:center">title</td><td style="text-align:center">æ ‡é¢˜</td></tr><tr><td style="text-align:center">date</td><td style="text-align:center">æ—¥æœŸ</td></tr><tr><td style="text-align:center">updated</td><td style="text-align:center">æ–‡ç« æ›´æ–°æ—¥æœŸ</td></tr><tr><td style="text-align:center">type</td><td style="text-align:center">ç±»å‹ï¼Œtags,link,categories è¿™ä¸‰ä¸ªé¡µé¢éœ€è¦é…ç½®</td></tr><tr><td style="text-align:center">comments</td><td style="text-align:center">æ˜¯å¦æ˜¾ç¤ºè¯„è®ºï¼Œé»˜è®¤ true</td></tr><tr><td style="text-align:center">description</td><td style="text-align:center">æè¿°</td></tr><tr><td style="text-align:center">top_img</td><td style="text-align:center">é¡¶éƒ¨å›¾</td></tr><tr><td style="text-align:center">mathjax</td><td style="text-align:center">æ•°å­¦å…¬å¼</td></tr><tr><td style="text-align:center">katex</td><td style="text-align:center">æ•°å­¦å…¬å¼</td></tr><tr><td style="text-align:center">aside</td><td style="text-align:center">true è¡¨ç¤ºæ˜¾ç¤ºå³è¾¹ä¿¡æ¯å¡ç‰‡ï¼Œé»˜è®¤å€¼ï¼›false è¡¨ç¤ºä¸æ˜¾ç¤º</td></tr><tr><td style="text-align:center">aplayer</td><td style="text-align:center">åœ¨éœ€è¦çš„é¡µé¢åŠ è½½ aplayer çš„ js å’Œ css, è¯·å‚è€ƒæ–‡ç« ä¸‹é¢çš„éŸ³ä¹ é…ç½®</td></tr><tr><td style="text-align:center">highlight_shrink</td><td style="text-align:center">ã€å¯é€‰ã€‘é…ç½®ä»£ç æ¡†æ˜¯å¦å±•å¼€ (true/false)(é»˜è®¤ä¸ºè®¾ç½®ä¸­ highlight_shrink çš„é…ç½®)</td></tr></tbody></table><h4 id="Post-Front-matter">Post Front-matter</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title:</span><br><span class="line">date:</span><br><span class="line">tags:</span><br><span class="line">categories:</span><br><span class="line">keywords:</span><br><span class="line">description:</span><br><span class="line">top_img: ï¼ˆé™¤éç‰¹å®šéœ€è¦ï¼Œå¯ä»¥ä¸å†™ï¼‰</span><br><span class="line">comments  æ˜¯å¦æ˜¾ç¤ºè¯„è®ºï¼ˆé™¤éè®¾ç½®false,å¯ä»¥ä¸å†™ï¼‰</span><br><span class="line">cover:  ç¼©ç•¥å›¾</span><br><span class="line">toc:  æ˜¯å¦æ˜¾ç¤ºtoc ï¼ˆé™¤éç‰¹å®šæ–‡ç« è®¾ç½®ï¼Œå¯ä»¥ä¸å†™ï¼‰</span><br><span class="line">toc_number: æ˜¯å¦æ˜¾ç¤ºtocæ•°å­— ï¼ˆé™¤éç‰¹å®šæ–‡ç« è®¾ç½®ï¼Œå¯ä»¥ä¸å†™ï¼‰</span><br><span class="line">copyright: æ˜¯å¦æ˜¾ç¤ºç‰ˆæƒ ï¼ˆé™¤éç‰¹å®šæ–‡ç« è®¾ç½®ï¼Œå¯ä»¥ä¸å†™ï¼‰</span><br><span class="line">mathjax:</span><br><span class="line">katex:</span><br><span class="line">hide:</span><br><span class="line">---</span><br></pre></td></tr></table></figure><table><thead><tr><th style="text-align:center">key</th><th style="text-align:center">value</th></tr></thead><tbody><tr><td style="text-align:center">title</td><td style="text-align:center">æ ‡é¢˜</td></tr><tr><td style="text-align:center">date</td><td style="text-align:center">æ—¥æœŸ</td></tr><tr><td style="text-align:center">updated</td><td style="text-align:center">æ–‡ç« æ›´æ–°æ—¥æœŸ</td></tr><tr><td style="text-align:center">tags</td><td style="text-align:center">æ ‡ç­¾</td></tr><tr><td style="text-align:center">categories</td><td style="text-align:center">åˆ†ç±»</td></tr><tr><td style="text-align:center">keywords</td><td style="text-align:center">å…³é”®å­—</td></tr><tr><td style="text-align:center">type</td><td style="text-align:center">ç±»å‹ï¼Œtags,link,categories è¿™ä¸‰ä¸ªé¡µé¢éœ€è¦é…ç½®</td></tr><tr><td style="text-align:center">comments</td><td style="text-align:center">æ˜¯å¦æ˜¾ç¤ºè¯„è®ºï¼Œé»˜è®¤ true</td></tr><tr><td style="text-align:center">description</td><td style="text-align:center">æè¿°</td></tr><tr><td style="text-align:center">top_img</td><td style="text-align:center">é¡¶éƒ¨å›¾</td></tr><tr><td style="text-align:center">cover</td><td style="text-align:center">ç¼©ç•¥å›¾</td></tr><tr><td style="text-align:center">toc</td><td style="text-align:center">æ˜¯å¦æ˜¾ç¤º toc ï¼ˆé™¤éç‰¹å®šæ–‡ç« è®¾ç½®ï¼Œå¯ä»¥ä¸å†™ï¼‰</td></tr><tr><td style="text-align:center">toc_number</td><td style="text-align:center">æ˜¯å¦æ˜¾ç¤º toc æ•°å­— ï¼ˆé™¤éç‰¹å®šæ–‡ç« è®¾ç½®ï¼Œå¯ä»¥ä¸å†™ï¼‰</td></tr><tr><td style="text-align:center">auto_open</td><td style="text-align:center">æ˜¯å¦è‡ªåŠ¨æ‰“å¼€ TOC (é»˜è®¤ä¸ºè®¾ç½®ä¸­ toc çš„ auto_open é…ç½®)</td></tr><tr><td style="text-align:center">copyright</td><td style="text-align:center">æ˜¯å¦æ˜¾ç¤ºç‰ˆæƒ ï¼ˆé™¤éç‰¹å®šæ–‡ç« è®¾ç½®ï¼Œå¯ä»¥ä¸å†™ï¼‰</td></tr><tr><td style="text-align:center">mathjax</td><td style="text-align:center">æ•°å­¦å…¬å¼</td></tr><tr><td style="text-align:center">katex</td><td style="text-align:center">æ•°å­¦å…¬å¼</td></tr><tr><td style="text-align:center">hideï¼ˆhiddenï¼‰</td><td style="text-align:center">æ˜¯å¦éšè—ï¼ˆtrueï¼Œfalseï¼‰</td></tr><tr><td style="text-align:center">sticky</td><td style="text-align:center">æ–‡ç« ç½®é¡¶ï¼Œæ•°å€¼è¶Šå¤§è¶Šé å‰</td></tr><tr><td style="text-align:center">aside</td><td style="text-align:center">true è¡¨ç¤ºæ˜¾ç¤ºå³è¾¹ä¿¡æ¯å¡ç‰‡ï¼Œé»˜è®¤å€¼ï¼›false è¡¨ç¤ºä¸æ˜¾ç¤º</td></tr><tr><td style="text-align:center">aplayer</td><td style="text-align:center">åœ¨éœ€è¦çš„é¡µé¢åŠ è½½ aplayer çš„ js å’Œ css, è¯·å‚è€ƒæ–‡ç« ä¸‹é¢çš„éŸ³ä¹ é…ç½®</td></tr><tr><td style="text-align:center">highlight_shrink</td><td style="text-align:center">ã€å¯é€‰ã€‘é…ç½®ä»£ç æ¡†æ˜¯å¦å±•å¼€ (true/false)(é»˜è®¤ä¸ºè®¾ç½®ä¸­ highlight_shrink çš„é…ç½®)</td></tr></tbody></table><h2 id="æ ‡ç­¾å¤–æŒ‚">æ ‡ç­¾å¤–æŒ‚</h2><h3 id="ç›¸å†Œå›¾åº“">ç›¸å†Œå›¾åº“</h3><p>å†™æ³•</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"gallery-group-main"</span>&gt;</span></span></span><br><span class="line">  &#123;% galleryGroup name description link img-url %&#125; </span><br><span class="line">  &#123;% galleryGroup name description link img-url %&#125;</span><br><span class="line">  &#123;% galleryGroup name description link img-url %&#125;</span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure><ul><li>name:  å›¾åº“åå­—</li><li>description: å›¾åº“æè¿°</li><li>link: è¿æ¥åˆ°å¯¹åº”çš„ç›¸å†Œ</li><li>img-url: å›¾åº“å°é¢çš„å›¾ç‰‡åœ°å€</li></ul><p>ç¤ºä¾‹</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"gallery-group-main"</span>&gt;</span></span></span><br><span class="line">&#123;% galleryGroup 'å£çº¸' 'æ”¶è—çš„ä¸€äº›æ—¥ç³»å£çº¸' '/Gallery/wallpaper' https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/image/20200706171253.jpg %&#125;</span><br><span class="line">&#123;% galleryGroup 'æ¼«å¨' 'å…³äºæ¼«å¨çš„å›¾ç‰‡' '/Gallery/marvel' https://i.loli.net/2019/12/25/8t97aVlp4hgyBGu.jpg %&#125;</span><br><span class="line">&#123;% galleryGroup 'OH MY GIRL' 'å…³äºOH MY GIRLçš„å›¾ç‰‡' '/Gallery/ohmygirl' https://i.loli.net/2019/12/25/hOqbQ3BIwa6KWpo.jpg %&#125;</span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/image/159409158.jpg" alt=""></p><h3 id="ç›¸å†Œ">ç›¸å†Œ</h3><p>ç”¨æ³•</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% gallery %&#125;</span><br><span class="line">markdown å›¾ç‰‡æ ¼å¼</span><br><span class="line">&#123;% endgallery %&#125;</span><br></pre></td></tr></table></figure><h3 id="Note">Note</h3><p>ç”¨æ³•ï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note [class] [no-icon] %&#125;</span><br><span class="line">Any content (support inline tags too.io).</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">[class]   : default | primary | success | info | warning | danger.</span><br><span class="line">[no-icon] : Disable icon in note.</span><br><span class="line"></span><br><span class="line">All parameters are optional.</span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹ï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"note default icon"</span>&gt;</span></span><span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span>default<span class="xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#123;% note default icon %&#125;</span><br><span class="line">default</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"note primary icon"</span>&gt;</span></span><span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span>primary<span class="xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#123;% note primary icon %&#125;</span><br><span class="line">primary</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"note success icon"</span>&gt;</span></span><span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span>success<span class="xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#123;% note success icon %&#125;</span><br><span class="line">success</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"note info icon"</span>&gt;</span></span><span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span>info<span class="xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#123;% note info icon %&#125;</span><br><span class="line">info</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"note warning icon"</span>&gt;</span></span><span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span>warning<span class="xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#123;% note warning icon %&#125;</span><br><span class="line">warning</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"note danger icon"</span>&gt;</span></span><span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span>danger<span class="xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#123;% note danger icon %&#125;</span><br><span class="line">danger</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"note no-icon"</span>&gt;</span></span><span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span>primary<span class="xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#123;% note no-icon%&#125;</span><br><span class="line">æ— icon</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><div class="note default icon"><p>default</p></div><div class="note primary icon"><p>primary</p></div><div class="note success icon"><p>success</p></div><div class="note info icon"><p>info</p></div><div class="note warning icon"><p>warning</p></div><div class="note danger icon"><p>danger</p></div><div class="note no-icon"><p>null icon</p></div><h3 id="è‡ªå®šä¹‰å›¾æ ‡åŠé¢œè‰²">è‡ªå®šä¹‰å›¾æ ‡åŠé¢œè‰²</h3><h4 id="é˜¿é‡Œå›¾æ ‡">é˜¿é‡Œå›¾æ ‡</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">/* default */</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span></span></span><br><span class="line"><span class="tag">  <span class="attr">class</span>=<span class="string">"note icon custom iconfont iconqq"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">style</span>=<span class="string">"background: #f7f7f7;border-left-color: #777;"</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>default<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">/* success */</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span></span></span><br><span class="line"><span class="tag">  <span class="attr">class</span>=<span class="string">"note icon custom iconfont iconqq"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">style</span>=<span class="string">"background: #eff8f0;border-left-color: #5cb85c;"</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>success<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">/* primary */</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span></span></span><br><span class="line"><span class="tag">  <span class="attr">class</span>=<span class="string">"note icon custom iconfont iconqq"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">style</span>=<span class="string">"background: #f5f0fa;border-left-color: #6f42c1;"</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>primary<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">/* info */</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span></span></span><br><span class="line"><span class="tag">  <span class="attr">class</span>=<span class="string">"note icon custom iconfont .icon-QQ"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">style</span>=<span class="string">"background: #eef7fa;border-left-color: #428bca;"</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>info<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">/* warning */</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span></span></span><br><span class="line"><span class="tag">  <span class="attr">class</span>=<span class="string">"note icon custom iconfont .icon-QQ"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">style</span>=<span class="string">"background: #fdf8ea;border-left-color: #f0ad4e;"</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>warning<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">/* danger */</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span></span></span><br><span class="line"><span class="tag">  <span class="attr">class</span>=<span class="string">"note icon custom iconfont .icon-QQ"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">style</span>=<span class="string">"background: #fcf1f2;border-left-color: #d9534f;"</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>danger<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">genghao</span><br></pre></td></tr></table></figure><div  class="note icon custom iconfont .icon-QQ"  style="background: #f7f7f7;border-left-color: #777;">  <p>default</p></div><div  class="note icon custom iconfont .icon-QQ1"  style="background: #eff8f0;border-left-color: #5cb85c;">  <p>success</p></div><div  class="note icon custom iconfont .icon-QQ2"  style="background: #f5f0fa;border-left-color: #6f42c1;">  <p>primary</p></div><div  class="note icon custom iconfont .icon-qq"  style="background: #eef7fa;border-left-color: #428bca;">  <p>info</p></div><div  class="note icon custom iconfont iconqq"  style="background: #fdf8ea;border-left-color: #f0ad4e;">  <p>warning</p></div><div  class="note icon custom iconfont iconqq"  style="background: #fcf1f2;border-left-color: #d9534f;">  <p>danger</p></div><div class="note icon custom iconfont .icon-qq1" style="background:#f7f7f7;border-left-color:#777;--icon-color: red;"><p>QQ å›¾æ ‡</p></div><h4 id="fontawesome5å›¾æ ‡">fontawesome5å›¾æ ‡</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">/* é“¾æ¥ */</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span></span></span><br><span class="line"><span class="tag">  <span class="attr">class</span>=<span class="string">"note icon font5 fa-fw fa fa-link"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">style</span>=<span class="string">"background: #eef7fa;border-left-color: #428bca;"</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>info<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">/* å°å–‡å­ */</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span></span></span><br><span class="line"><span class="tag">  <span class="attr">class</span>=<span class="string">"note icon font5 fas fa-bullhorn"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">style</span>=<span class="string">"background: #fcf1f2;border-left-color: #d9534f;"</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>info<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">/* BUG */</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span></span></span><br><span class="line"><span class="tag">  <span class="attr">class</span>=<span class="string">"note icon font5 fas fa-bug"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">style</span>=<span class="string">"background: #fcf1f2;border-left-color: #d9534f;"</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>info<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">/* idea */</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span></span></span><br><span class="line"><span class="tag">  <span class="attr">class</span>=<span class="string">"note icon font5 far fa-lightbulb"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">style</span>=<span class="string">"background: #fdf8ea;border-left-color: #f0ad4e;"</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>info<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><div  class="note icon font5 fa-fw fa fa-link"  style="background: #eef7fa;border-left-color: #428bca;">  <p>info</p></div><div  class="note icon font5 fas fa-bullhorn"  style="background: #fcf1f2;border-left-color: #d9534f;">  <p>info</p></div><div  class="note icon font5 fas fa-bug"  style="background: #fcf1f2;border-left-color: #d9534f;">  <p>info</p></div><div  class="note icon font5 far fa-lightbulb"  style="background: #fdf8ea;border-left-color: #f0ad4e;">  <p>info</p></div><h3 id="è‡ªå®šä¹‰å°æ ‡ç­¾">è‡ªå®šä¹‰å°æ ‡ç­¾</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"snote red"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>é»˜è®¤red<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"snote quote"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>quote<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"snote info"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>info<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"snote done"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>done<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"snote success"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>success<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"snote danger"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>danger<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"snote error"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>error<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"snote radiation"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>radiation<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"snote bug"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>bug<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"snote idea yellow"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>idea-yellow<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"snote link blue"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>link- blue<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"snote paperclip"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>paperclip<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"snote todo"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>todo<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"snote msg cyan"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>msg cyan<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"snote guide"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>guide<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"snote download"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>download<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"snote up"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>up<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"snote undo"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>undo<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">/* å¼•ç”¨ */</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"snote quote"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">'p subtitle'</span>&gt;</span>å°æ ‡é¢˜<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">è¿™æ˜¯ä¸ªå¼•ç”¨</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><div class="snote red"><p>é»˜è®¤red</p></div><div class="snote quote"><p>quote</p></div><div class="snote info"><p>info</p></div><div class="snote done"><p>done</p></div><div class="snote success"><p>success</p></div><div class="snote danger"><p>danger</p></div><div class="snote error"><p>error</p></div><div class="snote radiation"><p>radiation</p></div><div class="snote bug"><p>bug</p></div><div class="snote idea yellow"><p>idea-yellow</p></div><div class="snote link blue"><p>link- blue</p></div><div class="snote paperclip"><p>paperclip</p></div><div class="snote todo"><p>todo</p></div><div class="snote msg cyan"><p>msg cyan</p></div><div class="snote guide"><p>guide</p></div><div class="snote download"><p>download</p></div><div class="snote up"><p>up</p></div><div class="snote undo"><p>undo</p></div><div class="snote quote"><p class='p subtitle'>å¼•ç”¨æ¡†--æ ‡é¢˜</p>å¼•ç”¨å†…å®¹</div><p>å…³äºé¢œè‰²åŠæ ‡è®°æ§åˆ¶</p><ul><li><p>å½©è‰²å›¾æ ‡</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">quote, info, warning, done&#x2F;success, error&#x2F;danger</span><br><span class="line"></span><br><span class="line">quote     è“è‰²å¼•å·</span><br><span class="line">info  è“è‰²å¹å·</span><br><span class="line">warning   é»„è‰²å¹å·</span><br><span class="line">done      ç»¿è‰²æ‰“é’©</span><br><span class="line">success   ç»¿è‰²æ‰“é’©</span><br><span class="line">error     çº¢è‰²ç¦æ­¢</span><br><span class="line">danger    çº¢è‰²æ‰“å‰</span><br></pre></td></tr></table></figure></li><li><p>ç°è‰²å›¾æ ‡</p><p>ä¹Ÿå¯ä»¥æŒ‡å®šé¢œè‰²</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">radiation, bug, idea, link, paperclip, todo, msg, guide, download, up, undo</span><br><span class="line"></span><br><span class="line">radiationæ ¸æ ‡è®°</span><br><span class="line">bug    çˆ¬è™«</span><br><span class="line">idea        ç”µç¯æ³¡</span><br><span class="line">link        é”é“¾</span><br><span class="line">paperclip   å›å½¢é’ˆ</span><br><span class="line">todo        å‹¾é€‰æ¡†</span><br><span class="line">msg         å‘å³ç®­å¤´</span><br><span class="line">guide       æŒ‡è·¯ç‰Œ</span><br><span class="line">download    ä¸‹è½½æ ‡è®°</span><br><span class="line">up          ä¸Šä¼ æ ‡è®°</span><br><span class="line">undo        å›è½¬ç®­å¤´æ ‡è®°</span><br></pre></td></tr></table></figure><ul><li><p>é¢œè‰²</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clear, light, gray, red, yellow, green, cyan, blue</span><br></pre></td></tr></table></figure></li></ul></li></ul><h3 id="æ¸å˜èƒŒæ™¯æ ‡ç­¾">æ¸å˜èƒŒæ™¯æ ‡ç­¾</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">'tip'</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>é»˜è®¤æƒ…å†µ<span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">'tip info'</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>info<span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">'tip success'</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>success<span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">'tip error'</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>error<span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">'tip warning'</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>warning<span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">'tip font5 fas fa-atom'</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>è‡ªå®šä¹‰font5å›¾æ ‡<span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">'tip custom icon-QQ2'</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>è‡ªå®šä¹‰iconfontå›¾æ ‡<span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"tip wtgo font5 fas fa-bolt"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>æ–‡å­—<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"tip ban font5 fas fa-ban"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>æ–‡å­—<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"tip home font5 fas fa-home"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>æ–‡å­—<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"tip important font5 fas fa-home"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>é­”æ”¹æ ‡ç­¾4<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"tip ref font5 fas fa-sync"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>é­”æ”¹æ ‡ç­¾5<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"tip ffa font5 fas fa-cogs"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>é­”æ”¹æ ‡ç­¾6<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"tip key font5 fas fa-key"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>é­”æ”¹æ ‡ç­¾7<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"tip socd font5 fas fa-bell"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>é­”æ”¹æ ‡ç­¾8<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"tip qq font5 fab fa-qq"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>é­”æ”¹æ ‡ç­¾9<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><div class='tip'><p>é»˜è®¤æƒ…å†µ<p></div><div class='tip info'><p>info<p></div><div class='tip success'><p>success<p></div><div class='tip error'><p>error<p></div><div class='tip warning'><p>warning<p></div><div class='tip font5 fas fa-atom'><p>è‡ªå®šä¹‰font5å›¾æ ‡<p></div><div class='tip custom icon-QQ2'><p>è‡ªå®šä¹‰iconfontå›¾æ ‡<p></div><div class="tip wtgo font5 fas fa-bolt"><p>æ–‡å­—</p><p></p></div><div class="tip ban font5 fas fa-ban"><p>æ–‡å­—</p><p></p></div><div class="tip home font5 fas fa-home"><p>æ–‡å­—</p><p></p></div><div class="tip important font5 fas fa-home"><p>é­”æ”¹æ ‡ç­¾4</p><p></p></div><div class="tip ref font5 fas fa-sync"><p>é­”æ”¹æ ‡ç­¾5</p><p></p></div><div class="tip ffa font5 fas fa-cogs"><p>é­”æ”¹æ ‡ç­¾6</p><p></p></div><div class="tip key font5 fas fa-key"><p>é­”æ”¹æ ‡ç­¾7</p><p></p></div><div class="tip socd font5 fas fa-bell"><p>é­”æ”¹æ ‡ç­¾8</p><p></p></div><div class="tip qq font5 fab fa-qq"><p>é­”æ”¹æ ‡ç­¾9</p><p></p></div><h3 id="å°æ ‡ç­¾å’Œè¾¹æ¡†é¢œè‰²">å°æ ‡ç­¾å’Œè¾¹æ¡†é¢œè‰²</h3><h4 id="å°æ ‡ç­¾">å°æ ‡ç­¾</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"inline-tag [red|green|blue|yellow|grey]"</span>&gt;</span>è¯­æ³•<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"inline-tag red"</span>&gt;</span>çº¢è‰²å°æ ‡ç­¾<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"inline-tag green"</span>&gt;</span>ç»¿è‰²å°æ ‡ç­¾<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"inline-tag blue"</span>&gt;</span>è“è‰²å°æ ‡ç­¾<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"inline-tag yellow"</span>&gt;</span>é»„è‰²å°æ ‡ç­¾<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"inline-tag grey"</span>&gt;</span>ç°è‰²å°æ ‡ç­¾<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--è‡ªå®šä¹‰é¢œè‰²--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"inline-tag"</span> <span class="attr">style</span>=<span class="string">"--Color:#881B12"</span>&gt;</span>è‡ªå®šä¹‰é¢œè‰²å°æ ‡ç­¾<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure><p><span class="inline-tag red">çº¢è‰²å°æ ‡ç­¾</span> <span class="inline-tag green">ç»¿è‰²å°æ ‡ç­¾</span> <span class="inline-tag blue">è“è‰²å°æ ‡ç­¾</span> <span class="inline-tag yellow">é»„è‰²å°æ ‡ç­¾</span> <span class="inline-tag grey">ç°è‰²å°æ ‡ç­¾</span></p><h4 id="è¾¹æ¡†é¢œè‰²">è¾¹æ¡†é¢œè‰²</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"div-border [left|right|top|bottom] [red|green|blue|yellow|grey]"</span>&gt;</span></span><br><span class="line">  è¯­æ³•</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"div-border top red"</span>&gt;</span>ä¸Šè¾¹æ¡†<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"div-border right red"</span>&gt;</span>å³è¾¹æ¡†<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"div-border bottom red"</span>&gt;</span>ä¸‹è¾¹æ¡†<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"div-border left red"</span>&gt;</span>å·¦è¾¹æ¡†<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--è‡ªå®šä¹‰é¢œè‰²--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"div-border left style="</span><span class="attr">--Color:</span>#<span class="attr">881B12</span>""&gt;</span>å·¦è¾¹æ¡†<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><p class="div-border top red">ä¸Šè¾¹æ¡†</p><p class="div-border right red">å³è¾¹æ¡†</p><p class="div-border bottom red">ä¸‹è¾¹æ¡†</p><p class="div-border left red">å·¦è¾¹æ¡†</p><p>é¢„è®¾é¢œè‰²åˆ†åˆ«ä¸º <code>red</code>ã€<code>green</code>ã€<code>blue</code>ã€<code>yellow</code>ã€<code>grey</code> ä¹Ÿå°±æ˜¯å°æ ‡ç­¾çš„äº”ç§é¢œè‰²</p><h3 id="å…¨è¾¹æ¡†å’Œè‡ªå®šä¹‰é¢œè‰²">å…¨è¾¹æ¡†å’Œè‡ªå®šä¹‰é¢œè‰²</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span></span></span><br><span class="line"><span class="tag">  <span class="attr">class</span>=<span class="string">"div-border"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">style</span>=<span class="string">"background-color: rgba(82,196,26,.1);border: 1px solid #52c41a;border-radius: 0.4rem;"</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line">  å…¨è¾¹æ¡†</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">/* æˆ–è€…å¦‚ä¸‹å†™æ³• */</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span></span></span><br><span class="line"><span class="tag">  <span class="attr">style</span>=<span class="string">"background-color: rgba(82,196,26,.1);border: 1px solid #52c41a;border-radius: 0.4rem;display: block;padding: 10px;"</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line">  å…¨è¾¹æ¡†</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">/* å†…ç½®æ ·å¼ */</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"div-border green"</span>&gt;</span>ç»¿è‰²<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"div-border red"</span>&gt;</span>çº¢è‰²<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"div-border yellow"</span>&gt;</span>é»„è‰²<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"div-border grey"</span>&gt;</span>ç°è‰²<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"div-border blue"</span>&gt;</span>è“è‰²<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><p  style="background-color: rgba(82,196,26,.1);border: 1px solid #52c41a;border-radius: 0.4rem;display: block;padding: 10px;">  å…¨è¾¹æ¡†</p><p class="div-border green">ç»¿è‰²</p><p class="div-border red">çº¢è‰²</p><p class="div-border yellow">é»„è‰²</p><p class="div-border grey">ç°è‰²</p><p class="div-border blue">è“è‰²</p><h3 id="éšè—å†…å®¹">éšè—å†…å®¹</h3><p>éšè—ä¸€äº›å†…å®¹ï¼Œéœ€è¦ç‚¹å‡»æ‰èƒ½æ’çœ‹</p><p><code>inline</code> åœ¨æ–‡æœ¬é‡Œé¢æ·»åŠ æŒ‰é’®éšè—å†…å®¹ï¼Œåªé™æ–‡å­—</p><p>( content ä¸èƒ½åŒ…å«å½“å¼•å·ï¼Œå¯ç”¨ <code>'</code>)</p><p><code>block</code> ç‹¬ç«‹çš„ block éšè—å†…å®¹ï¼Œå¯ä»¥éšè—å¾ˆå¤šå†…å®¹ï¼ŒåŒ…æ‹¬å›¾ç‰‡ï¼Œ` ä»£ç å—ç­‰ç­‰</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% hideInline content,display,bg,color %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% hideBlock display,bg,color %&#125;</span><br><span class="line">content</span><br><span class="line">&#123;% endhideBlock %&#125;</span><br></pre></td></tr></table></figure><ul><li>content: æ–‡æœ¬å†…å®¹</li><li>display: æŒ‰é’®æ˜¾ç¤ºçš„æ–‡å­— (å¯é€‰)</li><li>bg: æŒ‰é’®çš„èƒŒæ™¯é¢œè‰² (å¯é€‰)</li><li>color: æŒ‰é’®æ–‡å­—çš„é¢œè‰² (å¯é€‰)</li></ul><p>ç¤ºä¾‹</p><p>éšè— inline å†…å®¹ <span class="hide-inline"><button class="hide-button button--animated" style="">æŒ‰é’®æ˜¾ç¤ºçš„æ–‡å­—  </button><span class="hide-content">è¿™æ˜¯éšè—å†…å®¹</span></span></p><p>éšè— block å†…å®¹</p><div class="hide-block"><button class="hide-button button--animated" style="">è¿™æ˜¯éšè—å†…å®¹    </button><span class="hide-content"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloWord</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"HelloWord"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></span></div><h3 id="hideToggle">hideToggle</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!--markdownå†™æ³•--&gt;</span></span></span><br><span class="line">&#123;% hideToggle display,bg,color %&#125;</span><br><span class="line">content</span><br><span class="line">&#123;% endhideToggle %&#125;</span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="comment">&lt;!--htmlå†™æ³•--&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"hide-toggle"</span>&gt;</span></span><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"hide-button toggle-title"</span> <span class="attr">style</span>=<span class="string">""</span>&gt;</span></span><span class="xml"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-caret-right fa-fw"</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span></span>æ–‡å­—<span class="xml"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"hide-content"</span>&gt;</span></span><span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span>é»˜è®¤æ•ˆæœ<span class="xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure><ul><li>content: æ–‡æœ¬å†…å®¹</li><li>display: æ˜¾ç¤ºçš„æ–‡å­— (å¯é€‰)</li><li>bg: èƒŒæ™¯é¢œè‰² (å¯é€‰)</li><li>color: æ–‡å­—çš„é¢œè‰² (å¯é€‰)</li></ul><div class="hide-toggle" ><div class="hide-button toggle-title" style=""><i class="fas fa-caret-right fa-fw"></i><span>æ˜¾ç¤ºæ–‡æœ¬</span></div>    <div class="hide-content"><div class="hide-toggle"><div class="hide-button toggle-title" style=""><i class="fa fa-caret-right fa-fw"></i><span>æ–‡å­—</span></div><div class="hide-content"><p>htmlé»˜è®¤æ•ˆæœ</p></div></div></div></div><h3 id="mermaid">mermaid</h3><p>ä½¿ç”¨ mermaid æ ‡ç­¾å¯ä»¥ç»˜åˆ¶ Flowchartï¼ˆæµç¨‹å›¾ï¼‰ã€Sequence diagramï¼ˆæ—¶åºå›¾ ï¼‰ã€Class Diagramï¼ˆç±»åˆ«å›¾ï¼‰ã€State Diagramï¼ˆçŠ¶æ€å›¾ï¼‰ã€Ganttï¼ˆç”˜ç‰¹å›¾ï¼‰å’Œ Pie Chartï¼ˆåœ†å½¢å›¾ï¼‰ï¼Œå…·ä½“å¯ä»¥æŸ¥çœ‹ <a href="https://mermaid-js.github.io/mermaid/#/" target="_blank" rel="noopener">mermaid æ–‡æ¡£</a></p><p>å†™æ³•</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% mermaid %&#125;</span><br><span class="line">å†…å®¹</span><br><span class="line">&#123;% endmermaid %&#125;</span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;% mermaid %&#125;</span><br><span class="line">pie</span><br><span class="line">title Key elements in Product X</span><br><span class="line">"Calcium" : 42.96</span><br><span class="line">"Potassium" : 50.05</span><br><span class="line">"Magnesium" : 10.01</span><br><span class="line">"Iron" : 5</span><br><span class="line">&#123;% endmermaid %&#125;</span><br></pre></td></tr></table></figure><div class="mermaid">          pietitle æŒæ¡æŠ€èƒ½é¥¼å›¾"HTML" : 42.96"Java" : 50.05"MySQL" : 10.01"Python" : 5          </div><h3 id="Checkbox-Radio">Checkbox &amp; Radio</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% checkbox æ ·å¼å‚æ•°ï¼ˆå¯é€‰ï¼‰, æ–‡æœ¬ï¼ˆæ”¯æŒç®€å•mdï¼‰ %&#125;</span><br></pre></td></tr></table></figure><p>å‚æ•°åˆ—è¡¨</p><ul><li><p>é¢œè‰²</p><p><code>red, yellow, green, cyan, blue</code></p></li><li><p>æ ·å¼</p><p><code>plus, minus, times</code></p></li><li><p>é€‰ä¸­çŠ¶æ€</p><p><code>checked</code></p></li></ul><p>tagæ ‡ç­¾æ ¼å¼</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;% checkbox çº¯æ–‡æœ¬æµ‹è¯• %&#125;</span><br><span class="line">&#123;% checkbox checked, æ”¯æŒç®€å•çš„ [<span class="string">markdown</span>](<span class="link">https://guides.github.com/features/mastering-markdown/</span>) è¯­æ³• %&#125;</span><br><span class="line">&#123;% checkbox red, æ”¯æŒè‡ªå®šä¹‰é¢œè‰² %&#125;</span><br><span class="line">&#123;% checkbox green checked, ç»¿è‰² + é»˜è®¤é€‰ä¸­ %&#125;</span><br><span class="line">&#123;% checkbox yellow checked, é»„è‰² + é»˜è®¤é€‰ä¸­ %&#125;</span><br><span class="line">&#123;% checkbox cyan checked, é’è‰² + é»˜è®¤é€‰ä¸­ %&#125;</span><br><span class="line">&#123;% checkbox blue checked, è“è‰² + é»˜è®¤é€‰ä¸­ %&#125;</span><br><span class="line">&#123;% checkbox plus green checked, å¢åŠ  %&#125;</span><br><span class="line">&#123;% checkbox minus yellow checked, å‡å°‘ %&#125;</span><br><span class="line">&#123;% checkbox times red checked, å‰ %&#125;</span><br><span class="line">&#123;% radio çº¯æ–‡æœ¬æµ‹è¯• %&#125;</span><br><span class="line">&#123;% radio checked, æ”¯æŒç®€å•çš„ [<span class="string">markdown</span>](<span class="link">https://guides.github.com/features/mastering-markdown/</span>) è¯­æ³• %&#125;</span><br><span class="line">&#123;% radio red, æ”¯æŒè‡ªå®šä¹‰é¢œè‰² %&#125;</span><br><span class="line">&#123;% radio green, ç»¿è‰² %&#125;</span><br><span class="line">&#123;% radio yellow, é»„è‰² %&#125;</span><br><span class="line">&#123;% radio cyan, é’è‰² %&#125;</span><br><span class="line">&#123;% radio blue, è“è‰² %&#125;</span><br></pre></td></tr></table></figure><p>htmlæ ‡ç­¾æ ¼å¼</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"checkbox"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>çº¯æ–‡æœ¬æµ‹è¯•<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"checkbox checked"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">checked</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    æ”¯æŒç®€å•çš„</span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span></span></span><br><span class="line"><span class="tag">      <span class="attr">href</span>=<span class="string">"https://guides.github.com/features/mastering-markdown/"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">target</span>=<span class="string">"_blank"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">rel</span>=<span class="string">"noopener"</span></span></span><br><span class="line"><span class="tag">      &gt;</span>markdown<span class="tag">&lt;/<span class="name">a</span></span></span><br><span class="line"><span class="tag">    &gt;</span></span><br><span class="line">    è¯­æ³•</span><br><span class="line">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"checkbox red"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>æ”¯æŒè‡ªå®šä¹‰é¢œè‰²<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"checkbox green checked"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">checked</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>ç»¿è‰² + é»˜è®¤é€‰ä¸­<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"checkbox yellow checked"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">checked</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>é»„è‰² + é»˜è®¤é€‰ä¸­<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"checkbox cyan checked"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">checked</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>é’è‰² + é»˜è®¤é€‰ä¸­<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"checkbox blue checked"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">checked</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>è“è‰² + é»˜è®¤é€‰ä¸­<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"checkbox plus green checked"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">checked</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>å¢åŠ <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"checkbox minus yellow checked"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">checked</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>å‡å°‘<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"checkbox times red checked"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">checked</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>å‰<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"checkbox"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>çº¯æ–‡æœ¬æµ‹è¯•<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"checkbox checked"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">checked</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    æ”¯æŒç®€å•çš„</span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span></span></span><br><span class="line"><span class="tag">      <span class="attr">href</span>=<span class="string">"https://guides.github.com/features/mastering-markdown/"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">target</span>=<span class="string">"_blank"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">rel</span>=<span class="string">"noopener"</span></span></span><br><span class="line"><span class="tag">      &gt;</span>markdown<span class="tag">&lt;/<span class="name">a</span></span></span><br><span class="line"><span class="tag">    &gt;</span></span><br><span class="line">    è¯­æ³•</span><br><span class="line">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"checkbox red"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>æ”¯æŒè‡ªå®šä¹‰é¢œè‰²<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"checkbox green"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>ç»¿è‰²<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"checkbox yellow"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>é»„è‰²<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"checkbox cyan"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>é’è‰²<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"checkbox blue"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>è“è‰²<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><div class="checkbox">  <input type="checkbox" />  <p>çº¯æ–‡æœ¬æµ‹è¯•</p></div><div class="checkbox checked">  <input type="checkbox" checked />  <p>    æ”¯æŒç®€å•çš„    <a      href="https://guides.github.com/features/mastering-markdown/"      target="_blank"      rel="noopener"      >markdown</a    >    è¯­æ³•  </p></div><div class="checkbox red">  <input type="checkbox" />  <p>æ”¯æŒè‡ªå®šä¹‰é¢œè‰²</p></div><div class="checkbox green checked">  <input type="checkbox" checked />  <p>ç»¿è‰² + é»˜è®¤é€‰ä¸­</p></div><div class="checkbox yellow checked">  <input type="checkbox" checked />  <p>é»„è‰² + é»˜è®¤é€‰ä¸­</p></div><div class="checkbox cyan checked">  <input type="checkbox" checked />  <p>é’è‰² + é»˜è®¤é€‰ä¸­</p></div><div class="checkbox blue checked">  <input type="checkbox" checked />  <p>è“è‰² + é»˜è®¤é€‰ä¸­</p></div><div class="checkbox plus green checked">  <input type="checkbox" checked />  <p>å¢åŠ </p></div><div class="checkbox minus yellow checked">  <input type="checkbox" checked />  <p>å‡å°‘</p></div><div class="checkbox times red checked">  <input type="checkbox" checked />  <p>å‰</p></div><div class="checkbox">  <input type="radio" />  <p>çº¯æ–‡æœ¬æµ‹è¯•</p></div><div class="checkbox checked">  <input type="radio" checked />  <p>    æ”¯æŒç®€å•çš„    <a      href="https://guides.github.com/features/mastering-markdown/"      target="_blank"      rel="noopener"      >markdown</a    >    è¯­æ³•  </p></div><div class="checkbox red">  <input type="radio" />  <p>æ”¯æŒè‡ªå®šä¹‰é¢œè‰²</p></div><div class="checkbox green">  <input type="radio" />  <p>ç»¿è‰²</p></div><div class="checkbox yellow">  <input type="radio" />  <p>é»„è‰²</p></div><div class="checkbox cyan">  <input type="radio" />  <p>é’è‰²</p></div><div class="checkbox blue">  <input type="radio" />  <p>è“è‰²</p></div><h3 id="æŒ‰é’®">æŒ‰é’®</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;% btn [url],[text],[icon],[color] [style] [layout] [position] [size] %&#125;</span><br><span class="line"></span><br><span class="line">[url]         : é“¾æ¥</span><br><span class="line">[text]        : æŒ‰é’®æ–‡å­—</span><br><span class="line">[icon]        : [å¯é€‰] å›¾æ ‡</span><br><span class="line">[color]       : [å¯é€‰] æŒ‰é’®èƒŒæ™¯é¡”è‰²(é»˜è®¤styleæ—¶ï¼‰</span><br><span class="line"><span class="code">                      æŒ‰é’®å­—ä½“å’Œè¾¹æ¡†é¡”è‰²(outlineæ—¶)</span></span><br><span class="line"><span class="code">                      default/blue/pink/red/purple/orange/green</span></span><br><span class="line">[style]       : [å¯é€‰] æŒ‰é’®æ ·å¼ é»˜è®¤å®å¿ƒ</span><br><span class="line"><span class="code">                      outline/ç•™ç©º</span></span><br><span class="line">[layout]      : [å¯é€‰] æŒ‰é’®ä½ˆå±€ é»˜è®¤ä¸ºline</span><br><span class="line"><span class="code">                      block/ç•™ç©º</span></span><br><span class="line">[position]    : [å¯é€‰] æŒ‰é’®ä½ç½® å‰ææ˜¯è®¾ç½®äº†layoutä¸ºblock é»˜è®¤ä¸ºå·¦è¾¹</span><br><span class="line"><span class="code">                      center/right/ç•™ç©º</span></span><br><span class="line">[size]        : [å¯é€‰] æŒ‰é’®å¤§å°</span><br><span class="line"><span class="code">                      larger/ç•™ç©º</span></span><br></pre></td></tr></table></figure><h4 id="demo-1">demo 1</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">This is my website, click the button &#123;% btn 'https://blog.badcode.icu',BadCode's Blog %&#125;</span><br><span class="line">This is my website, click the button &#123;% btn 'https://blog.badcode.icu',BadCode's Blog,far fa-hand-point-right %&#125;</span><br><span class="line">This is my website, click the button &#123;% btn 'https://blog.badcode.icu',BadCode's Blog,,outline %&#125;</span><br><span class="line">This is my website, click the button &#123;% btn 'https://blog.badcode.icu',BadCode's Blog,far fa-hand-point-right,outline %&#125;</span><br><span class="line">This is my website, click the button &#123;% btn 'https://blog.badcode.icu',BadCode's Blog,far fa-hand-point-right,larger %&#125;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"btn-beautify button--animated "</span> <span class="attr">href</span>=<span class="string">"https://blog.badcode.icu"</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">rel</span>=<span class="string">"noopener"</span> <span class="attr">title</span>=<span class="string">"BadCode's Blog"</span>&gt;</span>BadCode's Blog <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"btn-beautify button--animated "</span> <span class="attr">href</span>=<span class="string">"https://blog.badcode.icu"</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">rel</span>=<span class="string">"noopener"</span> <span class="attr">title</span>=<span class="string">"BadCode's Blog"</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"far fa-hand-point-right fa-fw"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> BadCode's Blog <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"btn-beautify button--animated outline"</span> <span class="attr">href</span>=<span class="string">"https://blog.badcode.icu"</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">rel</span>=<span class="string">"noopener"</span> <span class="attr">title</span>=<span class="string">"BadCode's Blog"</span>&gt;</span>BadCode's Blog <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"btn-beautify button--animated outline"</span> <span class="attr">href</span>=<span class="string">"https://blog.badcode.icu"</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">rel</span>=<span class="string">"noopener"</span> <span class="attr">title</span>=<span class="string">"BadCode's Blog"</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"far fa-hand-point-right fa-fw"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> BadCode's Blog <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"btn-beautify button--animated larger"</span> <span class="attr">href</span>=<span class="string">"https://blog.badcode.icu"</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">rel</span>=<span class="string">"noopener"</span> <span class="attr">title</span>=<span class="string">"BadCode's Blog"</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"far fa-hand-point-right fa-fw"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> BadCode's Blog <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><p><a class="btn-beautify button--animated " href="https://blog.badcode.icu" target="_blank" rel="noopener" title="BadCode's Blog">BadCodeâ€™s Blog </a></p><p><a class="btn-beautify button--animated " href="https://blog.badcode.icu" target="_blank" rel="noopener" title="BadCode's Blog"><i class="far fa-hand-point-right fa-fw"></i> BadCodeâ€™s Blog </a></p><p><a class="btn-beautify button--animated outline" href="https://blog.badcode.icu" target="_blank" rel="noopener" title="BadCode's Blog">BadCodeâ€™s Blog </a></p><p><a class="btn-beautify button--animated outline" href="https://blog.badcode.icu" target="_blank" rel="noopener" title="BadCode's Blog"><i class="far fa-hand-point-right fa-fw"></i> BadCodeâ€™s Blog </a></p><p><a class="btn-beautify button--animated larger" href="https://blog.badcode.icu" target="_blank" rel="noopener" title="BadCode's Blog"><i class="far fa-hand-point-right fa-fw"></i> BadCodeâ€™s Blog </a></p><h4 id="demo-2">demo 2</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% btn 'https://blog.badcode.icu',BadCode's Blog,far fa-hand-point-right,block %&#125;</span><br><span class="line">&#123;% btn 'https://blog.badcode.icu',BadCode's Blog,far fa-hand-point-right,block center larger %&#125;</span><br><span class="line">&#123;% btn 'https://blog.badcode.icu',BadCode's Blog,far fa-hand-point-right,block right outline larger %&#125;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"btn-beautify button--animated block"</span> <span class="attr">href</span>=<span class="string">"https://blog.badcode.icu"</span> <span class="attr">title</span>=<span class="string">"BadCode's Blog"</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"far fa-hand-point-right fa-fw"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> BadCode's Blog <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"btn-beautify button--animated block center larger"</span> <span class="attr">href</span>=<span class="string">"https://blog.badcode.icu"</span> <span class="attr">title</span>=<span class="string">"BadCode's Blog"</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"far fa-hand-point-right fa-fw"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> BadCode's Blog <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"btn-beautify button--animated block right outline larger"</span> <span class="attr">href</span>=<span class="string">"https://blog.badcode.icu"</span> <span class="attr">title</span>=<span class="string">"BadCode's Blog"</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"far fa-hand-point-right fa-fw"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> BadCode's Blog <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><p><a class="btn-beautify button--animated block" href="https://blog.badcode.icu" title="BadCode's Blog"><i class="far fa-hand-point-right fa-fw"></i> BadCodeâ€™s Blog </a></p><p><a class="btn-beautify button--animated block center larger" href="https://blog.badcode.icu" title="BadCode's Blog"><i class="far fa-hand-point-right fa-fw"></i> BadCodeâ€™s Blog </a></p><p><a class="btn-beautify button--animated block right outline larger" href="https://blog.badcode.icu" title="BadCode's Blog"><i class="far fa-hand-point-right fa-fw"></i> BadCodeâ€™s Blog </a></p><h4 id="demo-3">demo 3</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;% btn 'https://blog.badcode.icu',BadCode's Blog,far fa-hand-point-right,larger %&#125;</span><br><span class="line">&#123;% btn 'https://blog.badcode.icu',BadCode's Blog,far fa-hand-point-right,blue larger %&#125;</span><br><span class="line">&#123;% btn 'https://blog.badcode.icu',BadCode's Blog,far fa-hand-point-right,pink larger %&#125;</span><br><span class="line">&#123;% btn 'https://blog.badcode.icu',BadCode's Blog,far fa-hand-point-right,red larger %&#125;</span><br><span class="line">&#123;% btn 'https://blog.badcode.icu',BadCode's Blog,far fa-hand-point-right,purple larger %&#125;</span><br><span class="line">&#123;% btn 'https://blog.badcode.icu',BadCode's Blog,far fa-hand-point-right,orange larger %&#125;</span><br><span class="line">&#123;% btn 'https://blog.badcode.icu',BadCode's Blog,far fa-hand-point-right,green larger %&#125;</span><br></pre></td></tr></table></figure><a class="btn-beautify button--animated larger" href="https://blog.badcode.icu" title="BadCode's Blog"><i class="far fa-hand-point-right fa-fw"></i> BadCode's Blog </a><a class="btn-beautify button--animated blue larger" href="https://blog.badcode.icu" title="BadCode's Blog"><i class="far fa-hand-point-right fa-fw"></i> BadCode's Blog </a><a class="btn-beautify button--animated pink larger" href="https://blog.badcode.icu" title="BadCode's Blog"><i class="far fa-hand-point-right fa-fw"></i> BadCode's Blog </a><a class="btn-beautify button--animated red larger" href="https://blog.badcode.icu" title="BadCode's Blog"><i class="far fa-hand-point-right fa-fw"></i> BadCode's Blog </a><a class="btn-beautify button--animated purple larger" href="https://blog.badcode.icu" title="BadCode's Blog"><i class="far fa-hand-point-right fa-fw"></i> BadCode's Blog </a><a class="btn-beautify button--animated orange larger" href="https://blog.badcode.icu" title="BadCode's Blog"><i class="far fa-hand-point-right fa-fw"></i> BadCode's Blog </a><a class="btn-beautify button--animated green larger" href="https://blog.badcode.icu" title="BadCode's Blog"><i class="far fa-hand-point-right fa-fw"></i> BadCode's Blog </a><h4 id="demo-4">demo 4</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"btn-center"</span>&gt;</span></span></span><br><span class="line">&#123;% btn 'https://blog.badcode.icu',BadCode's Blog,far fa-hand-point-right,outline larger %&#125;</span><br><span class="line">&#123;% btn 'https://blog.badcode.icu',BadCode's Blog,far fa-hand-point-right,outline blue larger %&#125;</span><br><span class="line">&#123;% btn 'https://blog.badcode.icu',BadCode's Blog,far fa-hand-point-right,outline pink larger %&#125;</span><br><span class="line">&#123;% btn 'https://blog.badcode.icu',BadCode's Blog,far fa-hand-point-right,outline red larger %&#125;</span><br><span class="line">&#123;% btn 'https://blog.badcode.icu',BadCode's Blog,far fa-hand-point-right,outline purple larger %&#125;</span><br><span class="line">&#123;% btn 'https://blog.badcode.icu',BadCode's Blog,far fa-hand-point-right,outline orange larger %&#125;</span><br><span class="line">&#123;% btn 'https://blog.badcode.icu',BadCode's Blog,far fa-hand-point-right,outline green larger %&#125;</span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure><div class="btn-center"><a class="btn-beautify button--animated outline larger" href="https://blog.badcode.icu" title="BadCode's Blog"><i class="far fa-hand-point-right fa-fw"></i> BadCode's Blog </a><a class="btn-beautify button--animated outline blue larger" href="https://blog.badcode.icu" title="BadCode's Blog"><i class="far fa-hand-point-right fa-fw"></i> BadCode's Blog </a><a class="btn-beautify button--animated outline pink larger" href="https://blog.badcode.icu" title="BadCode's Blog"><i class="far fa-hand-point-right fa-fw"></i> BadCode's Blog </a><a class="btn-beautify button--animated outline red larger" href="https://blog.badcode.icu" title="BadCode's Blog"><i class="far fa-hand-point-right fa-fw"></i> BadCode's Blog </a><a class="btn-beautify button--animated outline purple larger" href="https://blog.badcode.icu" title="BadCode's Blog"><i class="far fa-hand-point-right fa-fw"></i> BadCode's Blog </a><a class="btn-beautify button--animated outline orange larger" href="https://blog.badcode.icu" title="BadCode's Blog"><i class="far fa-hand-point-right fa-fw"></i> BadCode's Blog </a><a class="btn-beautify button--animated outline green larger" href="https://blog.badcode.icu" title="BadCode's Blog"><i class="far fa-hand-point-right fa-fw"></i> BadCode's Blog </a></div><h3 id="å¯Œæ–‡æœ¬æŒ‰é’®">å¯Œæ–‡æœ¬æŒ‰é’®</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% btns æ ·å¼å‚æ•° %&#125;</span><br><span class="line">&#123;% cell æ ‡é¢˜, é“¾æ¥, å›¾ç‰‡æˆ–è€…å›¾æ ‡ %&#125;</span><br><span class="line">&#123;% cell æ ‡é¢˜, é“¾æ¥, å›¾ç‰‡æˆ–è€…å›¾æ ‡ %&#125;</span><br><span class="line">&#123;% endbtns %&#125;</span><br></pre></td></tr></table></figure><p>å‚æ•°åˆ—è¡¨</p><ul><li><p>åœ†è§’æ ·å¼</p><p><code>rounded, circle</code></p></li><li><p>å¸ƒå±€æ–¹å¼</p><p>é»˜è®¤ä¸ºè‡ªåŠ¨å®½åº¦ï¼Œé€‚åˆè§†é‡å†…åªæœ‰ä¸€ä¸¤ä¸ªçš„æƒ…å†µã€‚</p><table><thead><tr><th style="text-align:center">å‚æ•°</th><th style="text-align:center">å«ä¹‰</th></tr></thead><tbody><tr><td style="text-align:center">wide</td><td style="text-align:center">å®½ä¸€ç‚¹çš„æŒ‰é’®</td></tr><tr><td style="text-align:center">fill</td><td style="text-align:center">å¡«å……å¸ƒå±€ï¼Œè‡ªåŠ¨é“ºæ»¡è‡³å°‘ä¸€è¡Œï¼Œå¤šäº†ä¼šæ¢è¡Œã€‚</td></tr><tr><td style="text-align:center">center</td><td style="text-align:center">å±…ä¸­ï¼ŒæŒ‰é’®ä¹‹é—´æ˜¯å›ºå®šé—´è·ã€‚</td></tr><tr><td style="text-align:center">around</td><td style="text-align:center">å±…ä¸­åˆ†æ•£</td></tr><tr><td style="text-align:center">grid2</td><td style="text-align:center">ç­‰å®½æœ€å¤š 2 åˆ—ï¼Œå±å¹•å˜çª„ä¼šé€‚å½“å‡å°‘åˆ—æ•°ã€‚</td></tr><tr><td style="text-align:center">grid3</td><td style="text-align:center">ç­‰å®½æœ€å¤š 3 åˆ—ï¼Œå±å¹•å˜çª„ä¼šé€‚å½“å‡å°‘åˆ—æ•°ã€‚</td></tr><tr><td style="text-align:center">grid4</td><td style="text-align:center">ç­‰å®½æœ€å¤š 4 åˆ—ï¼Œå±å¹•å˜çª„ä¼šé€‚å½“å‡å°‘åˆ—æ•°ã€‚</td></tr><tr><td style="text-align:center">grid5</td><td style="text-align:center">ç­‰å®½æœ€å¤š 5 åˆ—ï¼Œå±å¹•å˜çª„ä¼šé€‚å½“å‡å°‘åˆ—æ•°ã€‚</td></tr></tbody></table></li><li><p>å¢åŠ æ–‡å­—æ ·å¼</p><p>å¯ä»¥åœ¨å®¹å™¨å†…å¢åŠ  <code>æ ‡é¢˜</code> å’Œ <code>æè¿°æ–‡å­—</code></p></li></ul><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&#123;% btns circle grid5 %&#125;</span><br><span class="line">&#123;% cell BadCode's Blog, https://blog.badcode.icu, https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/avatar.jpg %&#125;</span><br><span class="line">&#123;% cell BadCode's Blog, https://blog.badcode.icu, https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/avatar.jpg %&#125;</span><br><span class="line">&#123;% cell BadCode's Blog, https://blog.badcode.icu, https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/avatar.jpg %&#125;</span><br><span class="line">&#123;% cell BadCode's Blog, https://blog.badcode.icu, https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/avatar.jpg %&#125;</span><br><span class="line">&#123;% cell BadCode's Blog, https://blog.badcode.icu, https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/avatar.jpg %&#125;</span><br><span class="line">&#123;% endbtns %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% btns rounded grid5 %&#125;</span><br><span class="line">&#123;% cell ä¸‹è½½æºç , /, fa fa-download %&#125;</span><br><span class="line">&#123;% cell æŸ¥çœ‹æ–‡æ¡£, /, fa fa-book %&#125;</span><br><span class="line">&#123;% endbtns %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% btns circle center grid5 %&#125;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">'https://apps.apple.com/cn/app/heart-mate-pro-hrm-utility/id1463348922?ls=1'</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">'fa fa-apple'</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">b</span>&gt;</span></span>å¿ƒç‡ç®¡å®¶<span class="xml"><span class="tag">&lt;/<span class="name">b</span>&gt;</span></span></span><br><span class="line">&#123;% p red, ä¸“ä¸šç‰ˆ %&#125;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">'https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/qrcode/heartmate_pro.png'</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">'https://apps.apple.com/cn/app/heart-mate-lite-hrm-utility/id1475747930?ls=1'</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">'fa fa-apple'</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">b</span>&gt;</span></span>å¿ƒç‡ç®¡å®¶<span class="xml"><span class="tag">&lt;/<span class="name">b</span>&gt;</span></span></span><br><span class="line">&#123;% p green, å…è´¹ç‰ˆ %&#125;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">'https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/qrcode/heartmate_lite.png'</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line">&#123;% endbtns %&#125;</span><br></pre></td></tr></table></figure><div class="btns circle grid5">            <a href='https://blog.badcode.icu' title='BadCode's Blog'><img src= "/img/loading.gif" data-src='https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/image/20200706095911.jpg'>BadCode's Blog</a><a href='https://blog.badcode.icu' title='BadCode's Blog'><img src= "/img/loading.gif" data-src='https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/image/20200706095911.jpg'>BadCode's Blog</a><a href='https://blog.badcode.icu' title='BadCode's Blog'><img src= "/img/loading.gif" data-src='https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/image/20200706095911.jpg'>BadCode's Blog</a><a href='https://blog.badcode.icu' title='BadCode's Blog'><img src= "/img/loading.gif" data-src='https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/image/20200706095911.jpg'>BadCode's Blog</a><a href='https://blog.badcode.icu' title='BadCode's Blog'><img src= "/img/loading.gif" data-src='https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/image/20200706095911.jpg'>BadCode's Blog</a>          </div><div class="btns rounded grid5">            <a href='/' title='ä¸‹è½½æºç '><i class='fa fa-download'></i>ä¸‹è½½æºç </a><a href='/' title='æŸ¥çœ‹æ–‡æ¡£'><i class='fa fa-book'></i>æŸ¥çœ‹æ–‡æ¡£</a>          </div><div class="btns circle center grid5">            <a href='https://apps.apple.com/cn/app/heart-mate-pro-hrm-utility/id1463348922?ls=1' target="_blank" rel="noopener"><i class='fa fa-apple'></i><b>å¿ƒç‡ç®¡å®¶</b><p class='p red'>ä¸“ä¸šç‰ˆ</p><img src= "/img/loading.gif" data-src='https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/qrcode/heartmate_pro.png'></a><a href='https://apps.apple.com/cn/app/heart-mate-lite-hrm-utility/id1475747930?ls=1' target="_blank" rel="noopener"><i class='fa fa-apple'></i><b>å¿ƒç‡ç®¡å®¶</b><p class='p green'>å…è´¹ç‰ˆ</p><img src= "/img/loading.gif" data-src='https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/qrcode/heartmate_lite.png'></a>          </div><h3 id="Tab">Tab</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs Unique name, [index] %&#125;</span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- tab [Tab caption] [@icon] --&gt;</span></span></span><br><span class="line">Any content (support inline tags too).</span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- endtab --&gt;</span></span></span><br><span class="line">&#123;% endtabs %&#125;</span><br><span class="line"></span><br><span class="line">Unique name   : Unique name of tabs block tag without comma.</span><br><span class="line"><span class="code">                Will be used in #id's as prefix for each tab with their index numbers.</span></span><br><span class="line"><span class="code">                If there are whitespaces in name, for generate #id all whitespaces will replaced by dashes.</span></span><br><span class="line"><span class="code">                Only for current url of post/page must be unique!</span></span><br><span class="line">[index]       : Index number of active tab.</span><br><span class="line"><span class="code">                If not specified, first tab (1) will be selected.</span></span><br><span class="line"><span class="code">                If index is -1, no tab will be selected. It's will be something like spoiler.</span></span><br><span class="line"><span class="code">                Optional parameter.</span></span><br><span class="line">[Tab caption] : Caption of current tab.</span><br><span class="line"><span class="code">                If not caption specified, unique name with tab index suffix will be used as caption of tab.</span></span><br><span class="line"><span class="code">                If not caption specified, but specified icon, caption will empty.</span></span><br><span class="line"><span class="code">                Optional parameter.</span></span><br><span class="line">[@icon]       : FontAwesome icon name (full-name, look like 'fas fa-font')</span><br><span class="line"><span class="code">                Can be specified with or without space; e.g. 'Tab caption @icon' similar to 'Tab caption@icon'.</span></span><br><span class="line"><span class="code">                Optional parameter.</span></span><br></pre></td></tr></table></figure><ul><li><p>tab-id</p><p>å¿…å¡«ï¼Œå¦‚æœä¸€ä¸ªé¡µé¢æœ‰å¤šä¸ª tabs æ—¶ï¼Œtab-id ä¸èƒ½é‡å¤ã€‚</p></li><li><p>tab-name</p><p>æ ‡ç­¾æ–‡æœ¬ã€‚</p></li></ul><div class="tabs" id="test1"><ul class="nav-tabs"><li class="tab active"><button data-href="#test1-1">test1 1</button></li><li class="tab"><button data-href="#test1-2">test1 2</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test1-1"><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/image/20200706171316.jpeg" alt=""></p><button class="tab-to-top" onclick="scrollToDest($(this).parents('.tabs'),65)"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-2"><p>è¿™é‡Œé¢å†™å†…å®¹ï¼Œæ”¯æŒçš„è¯­æ³•æ ¼å¼æœ‰é™ï¼Œè¯·å°½é‡ä¸è¦å†™å¤ªè¿‡å¤æ‚çš„ä¸œè¥¿ã€‚</p><button class="tab-to-top" onclick="scrollToDest($(this).parents('.tabs'),65)"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="é¢„è®¾æ–¹æ¡ˆ1ï¼šé»˜è®¤é€‰æ‹©ç¬¬ä¸€ä¸ª">é¢„è®¾æ–¹æ¡ˆ1ï¼šé»˜è®¤é€‰æ‹©ç¬¬ä¸€ä¸ª</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs test1 %&#125;</span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- tab --&gt;</span></span></span><br><span class="line"><span class="strong">**This is Tab 1.**</span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- endtab --&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- tab --&gt;</span></span></span><br><span class="line"><span class="strong">**This is Tab 2.**</span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- endtab --&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- tab --&gt;</span></span></span><br><span class="line"><span class="strong">**This is Tab 3.**</span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- endtab --&gt;</span></span></span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><div class="tabs" id="test1"><ul class="nav-tabs"><li class="tab active"><button data-href="#test1-1">test1 1</button></li><li class="tab"><button data-href="#test1-2">test1 2</button></li><li class="tab"><button data-href="#test1-3">test1 3</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test1-1"><p><strong>This is Tab 1.</strong></p><button class="tab-to-top" onclick="scrollToDest($(this).parents('.tabs'),65)"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-2"><p><strong>This is Tab 2.</strong></p><button class="tab-to-top" onclick="scrollToDest($(this).parents('.tabs'),65)"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-3"><p><strong>This is Tab 3.</strong></p><button class="tab-to-top" onclick="scrollToDest($(this).parents('.tabs'),65)"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="é¢„è®¾æ–¹æ¡ˆ2ï¼šé¢„è®¾é€‰æ‹©tabs">é¢„è®¾æ–¹æ¡ˆ2ï¼šé¢„è®¾é€‰æ‹©tabs</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs test2, 3 %&#125;</span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- tab --&gt;</span></span></span><br><span class="line"><span class="strong">**This is Tab 1.**</span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- endtab --&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- tab --&gt;</span></span></span><br><span class="line"><span class="strong">**This is Tab 2.**</span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- endtab --&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- tab --&gt;</span></span></span><br><span class="line"><span class="strong">**This is Tab 3.**</span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- endtab --&gt;</span></span></span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><div class="tabs" id="test2"><ul class="nav-tabs"><li class="tab"><button data-href="#test2-1">test2 1</button></li><li class="tab"><button data-href="#test2-2">test2 2</button></li><li class="tab active"><button data-href="#test2-3">test2 3</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="test2-1"><p><strong>This is Tab 1.</strong></p><button class="tab-to-top" onclick="scrollToDest($(this).parents('.tabs'),65)"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test2-2"><p><strong>This is Tab 2.</strong></p><button class="tab-to-top" onclick="scrollToDest($(this).parents('.tabs'),65)"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="test2-3"><p><strong>This is Tab 3.</strong></p><button class="tab-to-top" onclick="scrollToDest($(this).parents('.tabs'),65)"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="é¢„è®¾æ–¹æ¡ˆ3ï¼šæ²¡æœ‰é¢„è®¾å€¼">é¢„è®¾æ–¹æ¡ˆ3ï¼šæ²¡æœ‰é¢„è®¾å€¼</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs test3, -1 %&#125;</span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- tab --&gt;</span></span></span><br><span class="line"><span class="strong">**This is Tab 1.**</span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- endtab --&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- tab --&gt;</span></span></span><br><span class="line"><span class="strong">**This is Tab 2.**</span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- endtab --&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- tab --&gt;</span></span></span><br><span class="line"><span class="strong">**This is Tab 3.**</span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- endtab --&gt;</span></span></span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><div class="tabs" id="test3"><ul class="nav-tabs"><li class="tab"><button data-href="#test3-1">test3 1</button></li><li class="tab"><button data-href="#test3-2">test3 2</button></li><li class="tab"><button data-href="#test3-3">test3 3</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="test3-1"><p><strong>This is Tab 1.</strong></p><button class="tab-to-top" onclick="scrollToDest($(this).parents('.tabs'),65)"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test3-2"><p><strong>This is Tab 2.</strong></p><button class="tab-to-top" onclick="scrollToDest($(this).parents('.tabs'),65)"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test3-3"><p><strong>This is Tab 3.</strong></p><button class="tab-to-top" onclick="scrollToDest($(this).parents('.tabs'),65)"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="é¢„è®¾æ–¹æ¡ˆ4ï¼šè‡ªå®šä¹‰tabå">é¢„è®¾æ–¹æ¡ˆ4ï¼šè‡ªå®šä¹‰tabå</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs test4 %&#125;</span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- tab ç¬¬ä¸€ä¸ªTab --&gt;</span></span></span><br><span class="line"><span class="strong">**tabåå­—ä¸ºç¬¬ä¸€ä¸ªTab**</span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- endtab --&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- tab @fab fa-apple-pay --&gt;</span></span></span><br><span class="line"><span class="strong">**åªæœ‰å›¾æ ‡ æ²¡æœ‰Tabåå­—**</span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- endtab --&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- tab ç‚¸å¼¹@fas fa-bomb --&gt;</span></span></span><br><span class="line"><span class="strong">**åå­—+icon**</span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- endtab --&gt;</span></span></span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><div class="tabs" id="test4"><ul class="nav-tabs"><li class="tab active"><button data-href="#test4-1">ç¬¬ä¸€ä¸ªTab</button></li><li class="tab"><button data-href="#test4-2"><i class="fab fa-apple-pay" style="text-align: center;"></i></button></li><li class="tab"><button data-href="#test4-3"><i class="fas fa-bomb"></i>ç‚¸å¼¹</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test4-1"><p><strong>tabåå­—ä¸ºç¬¬ä¸€ä¸ªTab</strong></p><button class="tab-to-top" onclick="scrollToDest($(this).parents('.tabs'),65)"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test4-2"><p><strong>åªæœ‰å›¾æ ‡ æ²¡æœ‰Tabåå­—</strong></p><button class="tab-to-top" onclick="scrollToDest($(this).parents('.tabs'),65)"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test4-3"><p><strong>åå­—+icon</strong></p><button class="tab-to-top" onclick="scrollToDest($(this).parents('.tabs'),65)"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="Folding">Folding</h3><p>markdownè¯­æ³•</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% folding å‚æ•°ï¼ˆå¯é€‰ï¼‰, æ ‡é¢˜ %&#125;</span><br><span class="line"></span><br><span class="line">![](https://cdn.jsdelivr.net/gh/blogimg/picbed@master/2020/04/11/da1fc8df33522db88a79b935010a5706.png)</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br></pre></td></tr></table></figure><p>htmlè¯­æ³•</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">details</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">summary</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>æŸ¥çœ‹å›¾ç‰‡æµ‹è¯•<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">summary</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">img</span></span></span><br><span class="line"><span class="tag">      <span class="attr">src</span>=<span class="string">https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/Hexo/img/loading.gif</span></span></span><br><span class="line"><span class="tag">      <span class="attr">data-src</span>=<span class="string">"https://cdn.jsdelivr.net/gh/blogimg/picbed@master/2020/04/11/da1fc8df33522db88a79b935010a5706.png"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">alt</span>=<span class="string">""</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">details</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">details</span> <span class="attr">cyan</span> <span class="attr">open</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">summary</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>æŸ¥çœ‹é»˜è®¤æ‰“å¼€çš„æŠ˜å æ¡†<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">summary</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>è¿™æ˜¯ä¸€ä¸ªé»˜è®¤æ‰“å¼€çš„æŠ˜å æ¡†ã€‚<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">details</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">details</span> <span class="attr">green</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">summary</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>æŸ¥çœ‹ä»£ç æµ‹è¯•<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">summary</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">details</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">details</span> <span class="attr">yellow</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">summary</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>æŸ¥çœ‹åˆ—è¡¨æµ‹è¯•<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">summary</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>haha<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>hehe<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">details</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">details</span> <span class="attr">red</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">summary</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>æŸ¥çœ‹åµŒå¥—æµ‹è¯•<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">summary</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">details</span> <span class="attr">blue</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">summary</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>æŸ¥çœ‹åµŒå¥—æµ‹è¯•2<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">summary</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">details</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">summary</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>æŸ¥çœ‹åµŒå¥—æµ‹è¯•3<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">summary</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">              hahaha</span><br><span class="line">              <span class="tag">&lt;<span class="name">span</span></span></span><br><span class="line"><span class="tag">                &gt;</span><span class="tag">&lt;<span class="name">img</span></span></span><br><span class="line"><span class="tag">                <span class="attr">src</span>=<span class="string">https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/Hexo/img/loading.gif</span></span></span><br><span class="line"><span class="tag">                <span class="attr">data-src</span>=<span class="string">'https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/tieba/%E6%BB%91%E7%A8%BD.png'</span></span></span><br><span class="line"><span class="tag">                <span class="attr">style</span>=<span class="string">'height:24px'</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span></span></span><br><span class="line"><span class="tag">              &gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">details</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">details</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">details</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å‚æ•°ä½ç½®å¯ä»¥å¡«å†™é¢œè‰²å’ŒçŠ¶æ€ï¼Œå¤šä¸ªå‚æ•°ç”¨ç©ºæ ¼éš”å¼€ã€‚</p><ul><li><p>é¢œè‰²</p><p><code>blue, cyan, green, yellow, red</code></p></li><li><p>çŠ¶æ€</p><p>çŠ¶æ€å¡«å†™ <code>open</code> ä»£è¡¨é»˜è®¤æ‰“å¼€ã€‚</p></li></ul><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&#123;% folding æŸ¥çœ‹å›¾ç‰‡æµ‹è¯• %&#125;</span><br><span class="line"></span><br><span class="line">![](https://cdn.jsdelivr.net/gh/blogimg/picbed@master/2020/04/11/da1fc8df33522db88a79b935010a5706.png)</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding cyan open, æŸ¥çœ‹é»˜è®¤æ‰“å¼€çš„æŠ˜å æ¡† %&#125;</span><br><span class="line"></span><br><span class="line">è¿™æ˜¯ä¸€ä¸ªé»˜è®¤æ‰“å¼€çš„æŠ˜å æ¡†ã€‚</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding green, æŸ¥çœ‹ä»£ç æµ‹è¯• %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding yellow, æŸ¥çœ‹åˆ—è¡¨æµ‹è¯• %&#125;</span><br><span class="line"></span><br><span class="line"><span class="bullet">- </span>haha</span><br><span class="line"><span class="bullet">- </span>hehe</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding red, æŸ¥çœ‹åµŒå¥—æµ‹è¯• %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding blue, æŸ¥çœ‹åµŒå¥—æµ‹è¯•2 %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding æŸ¥çœ‹åµŒå¥—æµ‹è¯•3 %&#125;</span><br><span class="line"></span><br><span class="line">hahaha <span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span></span><span class="xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">'https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/tieba/%E6%BB%91%E7%A8%BD.png'</span> <span class="attr">style</span>=<span class="string">'height:24px'</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br></pre></td></tr></table></figure><details ><summary> <p>æŸ¥çœ‹å›¾ç‰‡æµ‹è¯•</p> </summary>              <div class='content'>              <p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/blogimg/picbed@master/2020/04/11/da1fc8df33522db88a79b935010a5706.png" alt=""></p>              </div>            </details><details cyan open><summary> <p>æŸ¥çœ‹é»˜è®¤æ‰“å¼€çš„æŠ˜å æ¡†</p> </summary>              <div class='content'>              <p>è¿™æ˜¯ä¸€ä¸ªé»˜è®¤æ‰“å¼€çš„æŠ˜å æ¡†ã€‚</p>              </div>            </details><details green><summary> <p>æŸ¥çœ‹ä»£ç æµ‹è¯•</p> </summary>              <div class='content'>                            </div>            </details><details yellow><summary> <p>æŸ¥çœ‹åˆ—è¡¨æµ‹è¯•</p> </summary>              <div class='content'>              <ul><li>haha</li><li>hehe</li></ul>              </div>            </details><details red><summary> <p>æŸ¥çœ‹åµŒå¥—æµ‹è¯•</p> </summary>              <div class='content'>              <details blue><summary> <p>æŸ¥çœ‹åµŒå¥—æµ‹è¯•2</p> </summary>              <div class='content'>              <details ><summary> <p>æŸ¥çœ‹åµŒå¥—æµ‹è¯•3</p> </summary>              <div class='content'>              <p>hahaha <span><img src= "/img/loading.gif" data-src='https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/tieba/%E6%BB%91%E7%A8%BD.png' style='height:24px'></span></p>              </div>            </details>              </div>            </details>              </div>            </details><h3 id="Fancybox">Fancybox</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% fancybox å‚æ•°, åˆ—æ•° %&#125;</span><br><span class="line">![<span class="string">å›¾ç‰‡æè¿°</span>](<span class="link">https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/abstract/B18FCBB3-67FD-48CC-B4F3-457BA145F17A.jpeg</span>)</span><br><span class="line">![](https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/abstract/67239FBB-E15D-4F4F-8EE8-0F1C9F3C4E7C.jpeg)</span><br><span class="line">&#123;% endfancybox %&#125;</span><br></pre></td></tr></table></figure><ul><li><p>å¯¹é½æ–¹å‘</p><p><code>left</code>, <code>center</code>, <code>right</code></p></li><li><p>ç¼©æ”¾</p><p><code>stretch</code></p></li><li><p>åˆ—æ•°</p><p>é€—å·åé¢ç›´æ¥å†™åˆ—æ•°ï¼Œæ”¯æŒ 2 ï½ 8 åˆ—ã€‚è®¾å®šåˆ—åˆ—æ•°ä¹‹åå°±æ˜¯ã€Œå¤šè¡Œå¤šå›¾ã€å¸ƒå±€ï¼Œæ­¤æ—¶å›¾ç‰‡é»˜è®¤å·¦å¯¹é½ã€‚ä¸ºäº†é¿å…å›¾ç‰‡å¤§å°ä¸ä¸€ï¼Œå»ºè®®æ­é… <code>stretch</code> æ¥æ—¶å›¾ç‰‡æ”¾å¤§å¡«å……ã€‚</p></li></ul><h4 id="å•å¼ å›¾ç‰‡">å•å¼ å›¾ç‰‡</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"gallery "</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"fancybox"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/abstract/41F215B9-261F-48B4-80B5-4E86E165259E.jpeg"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">alt</span>=<span class="string">"å›¾ç‰‡æè¿°"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"image-caption"</span>&gt;</span></span><br><span class="line">            å›¾ç‰‡æè¿°</span><br><span class="line">        <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- TAGå†™æ³•ï¼ˆä¸å»ºè®®ï¼‰</span></span><br><span class="line"><span class="comment">&#123;% fancybox %&#125;</span></span><br><span class="line"><span class="comment">![å›¾ç‰‡æè¿°](https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/abstract/41F215B9-261F-48B4-80B5-4E86E165259E.jpeg)</span></span><br><span class="line"><span class="comment">&#123;% endfancybox %&#125;</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br></pre></td></tr></table></figure><div class="gallery ">    <p>    <div class="fancybox">        <img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/abstract/41F215B9-261F-48B4-80B5-4E86E165259E.jpeg"            alt="å›¾ç‰‡æè¿°">        <span class="image-caption">            å›¾ç‰‡æè¿°        </span>    </div>    </p></div><h4 id="ä¸€è¡Œå¤šä¸ªå›¾ç‰‡ï¼ˆä¸æ¢è¡Œï¼‰">ä¸€è¡Œå¤šä¸ªå›¾ç‰‡ï¼ˆä¸æ¢è¡Œï¼‰</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"gallery "</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"fancybox"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/abstract/B18FCBB3-67FD-48CC-B4F3-457BA145F17A.jpeg"</span></span></span><br><span class="line"><span class="tag">             <span class="attr">alt</span>=<span class="string">"å›¾ç‰‡æè¿°"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"image-caption"</span>&gt;</span>å›¾ç‰‡æè¿°<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"fancybox"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/abstract/B18FCBB3-67FD-48CC-B4F3-457BA145F17A.jpeg"</span></span></span><br><span class="line"><span class="tag">             <span class="attr">alt</span>=<span class="string">"å›¾ç‰‡æè¿°"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"image-caption"</span>&gt;</span>å›¾ç‰‡æè¿°<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"fancybox"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/abstract/B18FCBB3-67FD-48CC-B4F3-457BA145F17A.jpeg"</span></span></span><br><span class="line"><span class="tag">             <span class="attr">alt</span>=<span class="string">"å›¾ç‰‡æè¿°"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"image-caption"</span>&gt;</span>å›¾ç‰‡æè¿°<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- TAGå†™æ³• ä¸æ¨è</span></span><br><span class="line"><span class="comment">&#123;% fancybox %&#125;</span></span><br><span class="line"><span class="comment">![å›¾ç‰‡æè¿°](https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/abstract/B18FCBB3-67FD-48CC-B4F3-457BA145F17A.jpeg)</span></span><br><span class="line"><span class="comment">![å›¾ç‰‡æè¿°](https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/abstract/67239FBB-E15D-4F4F-8EE8-0F1C9F3C4E7C.jpeg)</span></span><br><span class="line"><span class="comment">![å›¾ç‰‡æè¿°](https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/abstract/00E0F0ED-9F1C-407A-9AA6-545649D919F4.jpeg)</span></span><br><span class="line"><span class="comment">&#123;% endfancybox %&#125;</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br></pre></td></tr></table></figure><div class="gallery ">    <p>    <div class="fancybox">        <img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/abstract/B18FCBB3-67FD-48CC-B4F3-457BA145F17A.jpeg"             alt="å›¾ç‰‡æè¿°">        <span class="image-caption">å›¾ç‰‡æè¿°</span>    </div><br>    <div class="fancybox">        <img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/abstract/B18FCBB3-67FD-48CC-B4F3-457BA145F17A.jpeg"             alt="å›¾ç‰‡æè¿°">        <span class="image-caption">å›¾ç‰‡æè¿°</span>    </div><br>    <div class="fancybox">        <img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/abstract/B18FCBB3-67FD-48CC-B4F3-457BA145F17A.jpeg"             alt="å›¾ç‰‡æè¿°">        <span class="image-caption">å›¾ç‰‡æè¿°</span>    </div>    </p></div><h4 id="å¤šè¡Œå¤šä¸ªå›¾ç‰‡">å¤šè¡Œå¤šä¸ªå›¾ç‰‡</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;% fancybox stretch, 4 %&#125;</span><br><span class="line">![](https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/abstract/B951AE18-D431-417F-B3FE-A382403FF21B.jpeg)</span><br><span class="line">![](https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/landscape/AEB33F9D-7294-4CF1-B8C5-3020748A9D45.jpeg)</span><br><span class="line">![](https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/landscape/250662D4-5A21-4AAA-BB63-CD25CF97CFF1.jpeg)</span><br><span class="line">![](https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/landscape/10A0FCE5-36A1-4AD0-8CF0-019259A89E03.jpeg)</span><br><span class="line">![](https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/abstract/B951AE18-D431-417F-B3FE-A382403FF21B.jpeg)</span><br><span class="line">![](https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/landscape/AEB33F9D-7294-4CF1-B8C5-3020748A9D45.jpeg)</span><br><span class="line">![](https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/landscape/250662D4-5A21-4AAA-BB63-CD25CF97CFF1.jpeg)</span><br><span class="line">![](https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/landscape/10A0FCE5-36A1-4AD0-8CF0-019259A89E03.jpeg)</span><br><span class="line">&#123;% endfancybox %&#125;</span><br></pre></td></tr></table></figure><div class="gallery stretch" col='4'>              <p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/abstract/B951AE18-D431-417F-B3FE-A382403FF21B.jpeg" alt=""><br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/landscape/AEB33F9D-7294-4CF1-B8C5-3020748A9D45.jpeg" alt=""><br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/landscape/250662D4-5A21-4AAA-BB63-CD25CF97CFF1.jpeg" alt=""><br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/landscape/10A0FCE5-36A1-4AD0-8CF0-019259A89E03.jpeg" alt=""><br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/abstract/B951AE18-D431-417F-B3FE-A382403FF21B.jpeg" alt=""><br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/landscape/AEB33F9D-7294-4CF1-B8C5-3020748A9D45.jpeg" alt=""><br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/landscape/250662D4-5A21-4AAA-BB63-CD25CF97CFF1.jpeg" alt=""><br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/landscape/10A0FCE5-36A1-4AD0-8CF0-019259A89E03.jpeg" alt=""></p>            </div><h2 id="æ–‡ç« å†…éŸ³ä¹">æ–‡ç« å†…éŸ³ä¹</h2><h3 id="Aplayer">Aplayer</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&#123;% aplayerlist %&#125;</span><br><span class="line">&#123;</span><br><span class="line">    &quot;narrow&quot;: false,&#x2F;&#x2F; ï¼ˆå¯é€‰ï¼‰æ’­æ”¾å™¨è¢–çé£æ ¼</span><br><span class="line">    &quot;autoplay&quot;: true,&#x2F;&#x2F; ï¼ˆå¯é€‰) è‡ªåŠ¨æ’­æ”¾ï¼Œç§»åŠ¨ç«¯æµè§ˆå™¨æš‚æ—¶ä¸æ”¯æŒæ­¤åŠŸèƒ½</span><br><span class="line">    &quot;mode&quot;: &quot;random&quot;,&#x2F;&#x2F; ï¼ˆå¯é€‰ï¼‰æ›²ç›®å¾ªç¯ç±»å‹ï¼Œæœ‰ &#39;random&#39;ï¼ˆéšæœºæ’­æ”¾ï¼‰, &#39;single&#39; (å•æ›²æ’­æ”¾), &#39;circulation&#39; (å¾ªç¯æ’­æ”¾), &#39;order&#39; (åˆ—è¡¨æ’­æ”¾)ï¼Œ é»˜è®¤ï¼š&#39;circulation&#39;</span><br><span class="line">    &quot;showlrc&quot;: 3,&#x2F;&#x2F; ï¼ˆå¯é€‰ï¼‰æ­Œè¯æ˜¾ç¤ºé…ç½®é¡¹ï¼Œå¯é€‰é¡¹æœ‰ï¼š1,2,3</span><br><span class="line">    &quot;mutex&quot;: true,&#x2F;&#x2F; ï¼ˆå¯é€‰ï¼‰è¯¥é€‰é¡¹å¼€å¯æ—¶ï¼Œå¦‚æœåŒé¡µé¢æœ‰å…¶ä»– aplayer æ’­æ”¾ï¼Œè¯¥æ’­æ”¾å™¨ä¼šæš‚åœ</span><br><span class="line">    &quot;theme&quot;: &quot;#e6d0b2&quot;,&#x2F;&#x2F; ï¼ˆå¯é€‰ï¼‰æ’­æ”¾å™¨é£æ ¼è‰²å½©è®¾ç½®ï¼Œé»˜è®¤ï¼š#b7daff</span><br><span class="line">    &quot;preload&quot;: &quot;metadata&quot;,&#x2F;&#x2F; ï¼ˆå¯é€‰ï¼‰éŸ³ä¹æ–‡ä»¶é¢„è½½å…¥æ¨¡å¼ï¼Œå¯é€‰é¡¹ï¼š &#39;none&#39; &#39;metadata&#39; &#39;auto&#39;, é»˜è®¤: &#39;auto&#39;</span><br><span class="line">    &quot;listmaxheight&quot;: &quot;513px&quot;,&#x2F;&#x2F; (å¯é€‰) è¯¥æ’­æ”¾åˆ—è¡¨çš„æœ€å¤§é•¿åº¦</span><br><span class="line">    &quot;music&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;title&quot;: &quot;CoCo&quot;,</span><br><span class="line">            &quot;author&quot;: &quot;Jeff Williams&quot;,</span><br><span class="line">            &quot;url&quot;: &quot;caffeine.mp3&quot;,</span><br><span class="line">            &quot;pic&quot;: &quot;caffeine.jpeg&quot;,</span><br><span class="line">            &quot;lrc&quot;: &quot;caffeine.txt&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;title&quot;: &quot;ã‚¢ã‚¤ãƒ­ãƒ‹&quot;,</span><br><span class="line">            &quot;author&quot;: &quot;é¹¿ä¹ƒ&quot;,</span><br><span class="line">            &quot;url&quot;: &quot;irony.mp3&quot;,</span><br><span class="line">            &quot;pic&quot;: &quot;irony.jpg&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line">&#123;% endaplayerlist %&#125;</span><br></pre></td></tr></table></figure><p>ç®€å•ç¤ºä¾‹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% meting &quot;60198&quot; &quot;netease&quot; &quot;playlist&quot; %&#125;</span><br></pre></td></tr></table></figure>    <div id="aplayer-kokJWZfS" class="aplayer aplayer-tag-marker meting-tag-marker"         data-id="60198" data-server="netease" data-type="playlist" data-mode="circulation" data-autoplay="false" data-mutex="true" data-listmaxheight="340px" data-preload="auto" data-theme="#ad7a86"    ></div><p>è¿›é˜¶ç¤ºä¾‹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% meting &quot;60198&quot; &quot;netease&quot; &quot;playlist&quot; &quot;autoplay&quot; &quot;mutex:false&quot; &quot;listmaxheight:340px&quot; &quot;preload:none&quot; &quot;theme:#ad7a86&quot;%&#125;</span><br></pre></td></tr></table></figure>    <div id="aplayer-MhVnDspy" class="aplayer aplayer-tag-marker meting-tag-marker"         data-id="60198" data-server="netease" data-type="playlist" data-mode="circulation" data-autoplay="false" data-mutex="false" data-listmaxheight="340px" data-preload="none" data-theme="#ad7a86"    ></div><h3 id="Audio">Audio</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;audio controls&#x3D;&quot;&quot; preload&#x3D;&quot;&quot; __idm_id__&#x3D;&quot;269361153&quot;&gt;</span><br><span class="line">  &lt;source</span><br><span class="line">    src&#x3D;&quot;http:&#x2F;&#x2F;music.163.com&#x2F;song&#x2F;media&#x2F;outer&#x2F;url?id&#x3D;574566207.mp3&quot;</span><br><span class="line">    type&#x3D;&quot;audio&#x2F;mp3&quot;</span><br><span class="line">  &#x2F;&gt;</span><br><span class="line">  Your browser does not support the audio tag.</span><br><span class="line">&lt;&#x2F;audio&gt;</span><br></pre></td></tr></table></figure><audio controls="" preload="" __idm_id__="269361153">  <source    src="http://music.163.com/song/media/outer/url?id=574566207.mp3"    type="audio/mp3"  />  Your browser does not support the audio tag.</audio><h2 id="è½®æ’­å›¾">è½®æ’­å›¾</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"demo"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">  <span class="function"><span class="keyword">function</span> <span class="title">tt</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">    $(<span class="string">".demo"</span>).slider(&#123;</span></span><br><span class="line">      imgList: [</span><br><span class="line">        &#123;</span><br><span class="line">          img:</span><br><span class="line"><span class="actionscript">            <span class="string">"https://cdn.jsdelivr.net/gh/blogimg/picbed@master/2020/04/13/2a877ea5da1292c817cbc2a254c01c31.png"</span>,</span></span><br><span class="line"><span class="actionscript">          a: <span class="string">"è·³è½¬urlåœ°å€"</span>,</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          img:</span><br><span class="line"><span class="actionscript">            <span class="string">"https://cdn.jsdelivr.net/gh/blogimg/picbed@master/2020/04/13/5005109d1aa2ffd28984c2b02b8cbfbe.png"</span>,</span></span><br><span class="line"><span class="actionscript">          a: <span class="string">"è·³è½¬urlåœ°å€"</span>,</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          img:</span><br><span class="line"><span class="actionscript">            <span class="string">"https://cdn.jsdelivr.net/gh/blogimg/picbed@master/2020/04/13/163a2ade4361d1ed705ed523091af67e.png"</span>,</span></span><br><span class="line"><span class="actionscript">          a: <span class="string">"è·³è½¬urlåœ°å€"</span>,</span></span><br><span class="line">        &#125;,</span><br><span class="line"><span class="actionscript">      ], <span class="comment">//å›¾ç‰‡çš„åˆ—è¡¨ï¼Œaå±æ€§é‡Œé¢å­˜æ”¾çš„æ˜¯ç½‘ç»œåœ°å€ï¼Œimgå­˜æ”¾çš„æ˜¯å›¾ç‰‡åœ°å€</span></span></span><br><span class="line"><span class="actionscript">      width: <span class="string">"100%"</span>, <span class="comment">//å›¾ç‰‡çš„å®½</span></span></span><br><span class="line"><span class="actionscript">      height: <span class="number">500</span>, <span class="comment">//å›¾ç‰‡çš„é«˜</span></span></span><br><span class="line"><span class="actionscript">      isAuto: <span class="literal">false</span>, <span class="comment">//æ˜¯å¦è‡ªåŠ¨è½®æ’­</span></span></span><br><span class="line"><span class="actionscript">      moveTime: <span class="number">3000</span>, <span class="comment">//è¿åŠ¨æ—¶é—´</span></span></span><br><span class="line"><span class="actionscript">      direction: <span class="string">"right"</span>, <span class="comment">//è½®æ’­çš„æ–¹å‘</span></span></span><br><span class="line"><span class="actionscript">      btnWidth: <span class="number">30</span>, <span class="comment">//æŒ‰é’®çš„å®½</span></span></span><br><span class="line"><span class="actionscript">      btnHeight: <span class="number">30</span>, <span class="comment">//æŒ‰é’®çš„é«˜</span></span></span><br><span class="line"><span class="actionscript">      spanWidth: <span class="number">10</span>, <span class="comment">//spanæŒ‰é’®çš„å®½</span></span></span><br><span class="line"><span class="actionscript">      spanHeight: <span class="number">10</span>, <span class="comment">//spanæŒ‰é’®çš„é«˜</span></span></span><br><span class="line"><span class="actionscript">      spanColor: <span class="string">"#fff"</span>, <span class="comment">//spanæŒ‰é’®çš„é¢œè‰²</span></span></span><br><span class="line"><span class="actionscript">      activeSpanColor: <span class="string">"red"</span>, <span class="comment">//é€‰ä¸­çš„spané¢œè‰²</span></span></span><br><span class="line"><span class="actionscript">      btnBackgroundColor: <span class="string">"rgba(0, 0, 0, 0.3)"</span>, <span class="comment">//ä¸¤ä¾§æŒ‰é’®çš„é¢œè‰²</span></span></span><br><span class="line"><span class="actionscript">      spanRadius: <span class="string">"50%"</span>, <span class="comment">//spanæŒ‰é’®çš„åœ†è§’ç¨‹åº¦</span></span></span><br><span class="line"><span class="actionscript">      spanMargin: <span class="number">3</span>, <span class="comment">//spanä¹‹é—´çš„è·ç¦»</span></span></span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"><span class="javascript">  <span class="built_in">window</span>.addEventListener(<span class="string">"DOMContentLoaded"</span>, tt);</span></span><br><span class="line"><span class="actionscript">  <span class="comment">// æˆ–è€… window.addEventListener('load',tt)</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><div class="demo"></div><script>  function tt() {    $(".demo").slider({      imgList: [        {          img:            "https://cdn.jsdelivr.net/gh/blogimg/picbed@master/2020/04/13/2a877ea5da1292c817cbc2a254c01c31.png",          a: "è·³è½¬urlåœ°å€",        },        {          img:            "https://cdn.jsdelivr.net/gh/blogimg/picbed@master/2020/04/13/5005109d1aa2ffd28984c2b02b8cbfbe.png",          a: "è·³è½¬urlåœ°å€",        },        {          img:            "https://cdn.jsdelivr.net/gh/blogimg/picbed@master/2020/04/13/163a2ade4361d1ed705ed523091af67e.png",          a: "è·³è½¬urlåœ°å€",        },      ], //å›¾ç‰‡çš„åˆ—è¡¨ï¼Œaå±æ€§é‡Œé¢å­˜æ”¾çš„æ˜¯ç½‘ç»œåœ°å€ï¼Œimgå­˜æ”¾çš„æ˜¯å›¾ç‰‡åœ°å€      width: "100%", //å›¾ç‰‡çš„å®½      height: 500, //å›¾ç‰‡çš„é«˜      isAuto: false, //æ˜¯å¦è‡ªåŠ¨è½®æ’­      moveTime: 3000, //è¿åŠ¨æ—¶é—´      direction: "right", //è½®æ’­çš„æ–¹å‘      btnWidth: 30, //æŒ‰é’®çš„å®½      btnHeight: 30, //æŒ‰é’®çš„é«˜      spanWidth: 10, //spanæŒ‰é’®çš„å®½      spanHeight: 10, //spanæŒ‰é’®çš„é«˜      spanColor: "#fff", //spanæŒ‰é’®çš„é¢œè‰²      activeSpanColor: "red", //é€‰ä¸­çš„spané¢œè‰²      btnBackgroundColor: "rgba(0, 0, 0, 0.3)", //ä¸¤ä¾§æŒ‰é’®çš„é¢œè‰²      spanRadius: "50%", //spanæŒ‰é’®çš„åœ†è§’ç¨‹åº¦      spanMargin: 3, //spanä¹‹é—´çš„è·ç¦»    });  }  window.addEventListener("DOMContentLoaded", tt);  // æˆ–è€… window.addEventListener('load',tt)</script>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
          <category> ä½¿ç”¨æ–¹æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexoä½¿ç”¨æ–¹æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaé¢è¯•é¢˜ -- MySQLé¢è¯•é¢˜</title>
      <link href="/posts/20061601.html/"/>
      <url>/posts/20061601.html/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h2 id="æ•°æ®åº“ç±»å‹">æ•°æ®åº“ç±»å‹</h2><h3 id="å…³ç³»å‹æ•°æ®åº“">å…³ç³»å‹æ•°æ®åº“</h3><p>â€‹å…³ç³»å‹æ•°æ®åº“æ˜¯å»ºç«‹åœ¨å…³ç³»æ¨¡å‹ä¸Šçš„æ•°æ®åº“ï¼Œå€ŸåŠ©äºé›†åˆä»£æ•°ç­‰æ•°å­¦æ¦‚å¿µå’Œæ–¹æ³•æ¥å¤„ç†æ•°æ®åº“ä¸­çš„æ•°æ®ã€‚ç®€å•è¯´ï¼Œå…³ç³»å‹æ•°æ®åº“å°±æ˜¯ç”±å¤šå¼ å¯ä»¥äº’ç›¸è¿æ¥çš„è¡¨ç»„æˆçš„æ•°æ®åº“ã€‚</p><p><strong>ä¼˜ç‚¹ï¼š</strong></p><pre><code>1. éƒ½æ˜¯ä½¿ç”¨è¡¨ç»“æ„ï¼Œæ ¼å¼ä¸€è‡´ï¼Œæ–¹ä¾¿ç»´æŠ¤2. ä½¿ç”¨é€šç”¨çš„SQLè¯­è¨€æ“ä½œï¼Œä½¿ç”¨æ–¹ä¾¿ï¼Œå¯ç”¨äºå¤æ‚æŸ¥è¯¢3. æ•°æ®åº“å­˜å‚¨åœ¨ç£ç›˜ï¼Œå®‰å…¨</code></pre><p><strong>ç¼ºç‚¹ï¼š</strong></p><pre><code>1. è¯»å†™æ€§èƒ½æ¯”è¾ƒå·®ï¼Œæ— æ³•æ»¡è¶³æµ·é‡æ•°æ®çš„é«˜æ•ˆç‡è¯»å†™ï¼›2. ä¸èŠ‚çœç©ºé—´ï¼Œå› ä¸ºå»ºç«‹åœ¨å…³ç³»æ¨¡å‹ä¸Šï¼Œå°±éœ€è¦éµå¾ªæŸäº›è§„åˆ™ï¼Œæ¯”å¦‚æ•°æ®åº“ä¸­çš„ç©ºå€¼ä»è¦åˆ†é…ç©ºé—´3. å›ºå®šçš„è¡¨ç»“æ„ï¼Œçµæ´»æ€§ä½</code></pre><p><strong>å¸¸è§çš„å…³ç³»å‹æ•°æ®åº“æœ‰å“ªäº›ï¼š</strong></p><p>â€‹<strong>MySQL</strong>ã€<strong>Oracle</strong>ã€<strong>SQL Server</strong>ã€ PostgreSQL ç­‰</p><h3 id="éå…³ç³»å‹æ•°æ®åº“">éå…³ç³»å‹æ•°æ®åº“</h3><p>â€‹éå…³ç³»å‹æ•°æ®åº“åˆç§°ä¸ºNoSQLï¼ˆnot only SQLï¼‰ï¼Œæ„ä¸ºä¸ä»…ä»…æ˜¯SQLã€‚é€šå¸¸æŒ‡æ•°æ®ä»¥å¯¹è±¡çš„å½¢å¼å­˜å‚¨åœ¨æ•°æ®åº“ä¸­ï¼Œè€Œå¯¹è±¡ä¹‹é—´çš„å…³ç³»é€šè¿‡æ¯ä¸ªå¯¹è±¡è‡ªèº«çš„å±æ€§æ¥å†³å®šã€‚</p><p><strong>ä¼˜ç‚¹ï¼š</strong></p><pre><code>1. éå…³ç³»å‹æ•°æ®åº“å­˜å‚¨æ•°æ®çš„æ ¼å¼å¯ä»¥æ˜¯key-valueå½¢å¼ã€æ–‡æ¡£å½¢å¼ã€å›¾ç‰‡å½¢å¼ç­‰ï¼Œä½¿ç”¨çµæ´»ï¼Œåº”ç”¨åœºæ™¯å¹¿æ³›ï¼Œè€Œå…³ç³»å‹æ•°æ®åº“åªæ”¯æŒåŸºæœ¬ç±»å‹ã€‚2. é€Ÿåº¦å¿«ï¼Œæ•ˆç‡é«˜ï¼ŒNoSQLå¯ä»¥ä½¿ç”¨ç¡¬ç›˜æˆ–éšæœºå­˜å‚¨å™¨ä½œä¸ºè½½ä½“ï¼Œè€Œå…³ç³»å‹æ•°æ®åº“åªèƒ½ä¿å­˜åˆ°ç£ç›˜ã€‚3. æµ·é‡æ•°æ®çš„ç»´æŠ¤å’Œå¤„ç†å¾ˆè½»æ¾ã€‚4. éå…³ç³»å‹æ•°æ®åº“å…·æœ‰æ‰©å±•ç®€å•ã€é«˜å¹¶å‘ã€é«˜ç¨³å®šæ€§ã€æˆæœ¬ä½å»‰çš„ä¼˜åŠ¿ã€‚5. å¯ä»¥å®ç°æ•°æ®çš„åˆ†å¸ƒå¼å¤„ç†ã€‚</code></pre><p><strong>ç¼ºç‚¹ï¼š</strong></p><pre><code>1. éå…³ç³»å‹æ•°æ®åº“æš‚æ—¶æ²¡æœ‰æä¾›SQLæ”¯æŒï¼Œå­¦ä¹ å’Œä½¿ç”¨æˆæœ¬è¾ƒé«˜ã€‚2. éå…³ç³»å‹æ•°æ®åº“æ²¡æœ‰äº‹åŠ¡å¤„ç†ï¼Œæ²¡æœ‰ä¿è¯æ•°æ®çš„å®Œæ•´æ€§å’Œå®‰å…¨æ€§ã€‚é€‚åˆæµ·é‡æ•°æ®ï¼Œä½†æ˜¯ä¸ä¸€å®šå®‰å…¨ã€‚3. åŠŸèƒ½æ²¡æœ‰å…³ç³»å‹æ•°æ®åº“å®Œå–„</code></pre><p><strong>å¸¸è§çš„éå…³ç³»å‹æ•°æ®åº“æœ‰å“ªäº›ï¼š</strong></p><p>â€‹<strong>Redis</strong>ã€<strong>MongoDB</strong>ã€Neo4jã€Memcachedã€MemcacheDBã€HBaseç­‰</p><h2 id="æ•°æ®åº“å¼•æ“">æ•°æ®åº“å¼•æ“</h2><p>â€‹MySQLæ”¯æŒçš„æ•°æ®å¼•æ“æœ‰ <strong>InnoDB</strong>ã€<strong>MyISAM</strong>ç­‰ã€‚</p><p>â€‹å¯ä»¥ä½¿ç”¨ <strong>SHOW ENGINES</strong>; æŸ¥çœ‹<br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/image/20200704034727.png" alt=""></p><p><strong>åœ¨è¿™é‡Œå¯ä»¥çœ‹å‡ºMySQLé»˜è®¤ä½¿ç”¨InnoDBå¼•æ“</strong></p><p>Support åˆ—çš„å€¼è¡¨ç¤ºæŸç§å¼•æ“æ˜¯å¦èƒ½ä½¿ç”¨ ï¼Œ<strong>YES</strong>è¡¨ç¤ºå¯ç”¨ï¼Œ<strong>NO</strong>ä¸å¯ç”¨ï¼Œ<strong>DEFAULT</strong>è¡¨ç¤ºé»˜è®¤</p><table><thead><tr><th style="text-align:center"><strong>å­˜å‚¨å¼•æ“</strong></th><th style="text-align:center">æè¿°</th></tr></thead><tbody><tr><td style="text-align:center">InnoDB</td><td style="text-align:center">å…·å¤‡å¤–é”®æ”¯æŒåŠŸèƒ½çš„äº‹åŠ¡å¤„ç†å¼•æ“</td></tr><tr><td style="text-align:center">MyISAM</td><td style="text-align:center">ä¸»è¦çš„éäº‹åŠ¡å¤„ç†å­˜å‚¨å¼•æ“</td></tr><tr><td style="text-align:center">MEMORY</td><td style="text-align:center">ç½®äºå†…å­˜çš„è¡¨</td></tr><tr><td style="text-align:center">ARCHIVE</td><td style="text-align:center">ç”¨äºæ•°æ®å­˜æ¡£çš„å¼•æ“ï¼Œæ•°æ®è¢«æ’å…¥åå°±ä¸èƒ½åœ¨ä¿®æ”¹äº†ï¼Œä¸”ä¸æ”¯æŒç´¢å¼•ã€‚</td></tr><tr><td style="text-align:center">CSV</td><td style="text-align:center">åœ¨å­˜å‚¨æ•°æ®æ—¶ï¼Œä¼šä»¥é€—å·ä½œä¸ºæ•°æ®é¡¹ä¹‹é—´çš„åˆ†éš”ç¬¦ã€‚</td></tr><tr><td style="text-align:center">BLACKHOLE</td><td style="text-align:center">ä¼šä¸¢å¼ƒå†™æ“ä½œï¼Œè¯¥æ“ä½œä¼šè¿”å›ç©ºå†…å®¹ã€‚</td></tr><tr><td style="text-align:center">FEDERATED</td><td style="text-align:center">å°†æ•°æ®å­˜å‚¨åœ¨è¿œç¨‹æ•°æ®åº“ä¸­ï¼Œç”¨æ¥è®¿é—®è¿œç¨‹è¡¨çš„å­˜å‚¨å¼•æ“ã€‚</td></tr><tr><td style="text-align:center">MERGE</td><td style="text-align:center">ç”¨æ¥ç®¡ç†ç”±å¤šä¸ª MyISAM è¡¨æ„æˆçš„è¡¨é›†åˆ</td></tr><tr><td style="text-align:center">NDB</td><td style="text-align:center">MySQL é›†ç¾¤ä¸“ç”¨å­˜å‚¨å¼•æ“</td></tr></tbody></table><h2 id="å¸¸ç”¨æ•°æ®åº“">å¸¸ç”¨æ•°æ®åº“</h2><pre><code>### 0. å¸¸ç”¨æ•°æ®åº“æ’å</code></pre><p><em><strong>*<a href="https://db-engines.com/en/ranking" target="_blank" rel="noopener">DB-Engines</a>*</strong></em>  <strong>2020å¹´6æœˆå…¨çƒæ•°æ®åº“æ’è¡Œ</strong></p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/image/20200704035455.png" alt=""></p><p><strong>å…³ç³»å‹æ•°æ®åº“æ’å</strong></p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/image/20200704035501.png" alt=""></p><p><strong>éå…³ç³»å‹æ•°æ®åº“æ’å</strong></p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/image/20200704035505.png" alt=""></p><h3 id="å…³ç³»å‹æ•°æ®åº“-2">å…³ç³»å‹æ•°æ®åº“</h3><ol><li><p>Oracle</p><p><strong>Oracle</strong>æ˜¯ç”²éª¨æ–‡çš„ä¸€æ¬¾å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œåœ¨æ•°æ®åº“é¢†åŸŸä¸€ç›´å¤„äºé¢†å…ˆçš„åœ°ä½ï¼Œ æ˜¯ç›®å‰ä¸–ç•Œä¸Šæµè¡Œçš„å…³ç³»å‹æ•°æ®åº“ä¹‹ä¸€ ï¼Œæ˜¯ä¸€ç§é«˜æ•ˆç‡ã€å¯é æ€§å¥½ã€é€‚åº”é«˜ååé‡çš„æ•°æ®åº“æ–¹æ¡ˆã€‚</p><p><strong>ä¼˜ç‚¹ï¼š</strong></p><pre><code>1. å¯ç§»æ¤æ€§å¥½ï¼Œå¯ä»¥åœ¨æ‰€æœ‰ä¸»æµå¹³å°è¿è¡Œï¼Œå®Œå…¨æ”¯æŒæ‰€æœ‰å·¥ä¸šåŒ–æ ‡å‡†ã€‚2. è·å¾—æœ€é«˜çº§è®¤è¯çº§åˆ«çš„ISOæ ‡å‡†è®¤è¯ï¼Œå®‰å…¨æ€§é«˜ã€‚3. ä¸å…¶ä»–æ•°æ®åº“ç›¸æ¯”ï¼ŒOracleæ€§èƒ½é«˜4. å¤šå±‚æ¬¡ç½‘ç»œè®¡ç®—ï¼Œæ”¯æŒå¤šç§æ ‡å‡†ï¼Œå¯ä»¥ç”¨ODBCã€JDBCã€OCIç­‰ç½‘ç»œå®¢æˆ·è¿æ¥5. å®Œå…¨å‘ä¸‹å…¼å®¹ï¼Œå› æ­¤è¢«å¹¿æ³›ä½¿ç”¨ï¼Œä¸”é£é™©ä½</code></pre><p><strong>ç¼ºç‚¹ï¼š</strong></p><pre><code>1. å¯¹ç¡¬ä»¶çš„è¦æ±‚é«˜2. ä»·æ ¼æ˜‚è´µ3. ç®¡ç†ç»´æŠ¤éº»çƒ¦4. æ“ä½œæ¯”è¾ƒå¤æ‚</code></pre></li><li><p>MySQL</p><p>MySQL æ˜¯ä¸€ç§å¼€æ”¾æºä»£ç çš„å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ ï¼Œåœ¨WEBåº”ç”¨æ–¹é¢ï¼ŒMySQLæ˜¯æœ€å¥½çš„åº”ç”¨è½¯ä»¶ä¹‹ä¸€</p><p><strong>ä¼˜ç‚¹ï¼š</strong></p><pre><code>1. æ€§èƒ½å“è¶ŠæœåŠ¡ç¨³å®šï¼Œå¾ˆå°‘å‡ºç°å®•æœºã€‚2. å¼€æºï¼Œè‡ªä¸»æ€§å¼ºï¼Œä½¿ç”¨æˆæœ¬ä½3.  å†å²æ‚ ä¹…ã€ç¤¾åŒºåŠç”¨æˆ·éå¸¸æ´»è·ƒï¼Œé‡åˆ°é—®é¢˜ï¼Œå¯ä»¥å¾ˆå¿«è·å–åˆ°å¸®åŠ©ã€‚ 4.  ä»¶ä½“ç§¯å°ï¼Œå®‰è£…ä½¿ç”¨ç®€å•ï¼Œå¹¶ä¸”æ˜“äºç»´æŠ¤ï¼Œå®‰è£…åŠç»´æŠ¤æˆæœ¬ä½ã€‚ 5.  æ”¯æŒå¤šç§æ“ä½œç³»ç»Ÿï¼Œæä¾›å¤šç§ API æ¥å£ï¼Œæ”¯æŒå¤šç§å¼€å‘è¯­è¨€ã€‚ </code></pre><p><strong>ç¼ºç‚¹ï¼š</strong></p><pre><code>1.  ySQL æœ€å¤§çš„ç¼ºç‚¹æ˜¯å…¶å®‰å…¨ç³»ç»Ÿï¼Œä¸»è¦æ˜¯å¤æ‚è€Œéæ ‡å‡†ï¼Œåªæœ‰è°ƒç”¨ mysqladmin æ¥é‡è¯»ç”¨æˆ·æƒé™æ‰ä¼šå‘ç”Ÿæ”¹å˜ã€‚ 2.   MySQL ä¸å…è®¸è°ƒè¯•å­˜å‚¨è¿‡ç¨‹ï¼Œå¼€å‘å’Œç»´æŠ¤å­˜å‚¨è¿‡ç¨‹å¾ˆéš¾ã€‚ 3.   MySQL ä¸æ”¯æŒçƒ­å¤‡ä»½ã€‚ 4.   MySQL çš„ä»·æ ¼éšå¹³å°å’Œå®‰è£…æ–¹å¼å˜åŒ–ã€‚ </code></pre></li></ol><h3 id="éå…³ç³»å‹æ•°æ®åº“-2">éå…³ç³»å‹æ•°æ®åº“</h3><ol><li><p>Redis</p><p><a href="http://c.biancheng.net/redis/" target="_blank" rel="noopener">Redis</a> æ˜¯å½“å‰äº’è”ç½‘ä¸–ç•Œæœ€ä¸ºæµè¡Œçš„ <a href="http://c.biancheng.net/nosql/" target="_blank" rel="noopener">NoSQL</a>ï¼ˆNot Only SQLï¼‰æ•°æ®åº“ã€‚</p><ol><li><p>å“åº”å¿«é€Ÿ</p><p>Redis å“åº”éå¸¸å¿«ï¼Œæ¯ç§’å¯ä»¥æ‰§è¡Œå¤§çº¦ 110 000 ä¸ªå†™å…¥æ“ä½œï¼Œæˆ–è€… 81 000 ä¸ªè¯»æ“ä½œï¼Œå…¶é€Ÿåº¦è¿œè¶…æ•°æ®åº“ã€‚å¦‚æœå­˜å…¥ä¸€äº›å¸¸ç”¨çš„æ•°æ®ï¼Œå°±èƒ½æœ‰æ•ˆæé«˜ç³»ç»Ÿçš„æ€§èƒ½ã€‚</p></li><li><p>æ”¯æŒ6ä¸­æ•°æ®ç±»å‹</p><p>å®ƒä»¬æ˜¯<strong>å­—ç¬¦ä¸²</strong>ã€<strong>å“ˆå¸Œç»“æ„</strong>ã€<strong>åˆ—è¡¨</strong>ã€<strong>é›†åˆ</strong>ã€<strong>å¯æ’åºé›†åˆ</strong>å’Œ<strong>åŸºæ•°</strong>ã€‚æ¯”å¦‚å¯¹äºå­—ç¬¦ä¸²å¯ä»¥å­˜å…¥ä¸€äº› JavaåŸºç¡€æ•°æ®ç±»å‹ï¼Œå“ˆå¸Œå¯ä»¥å­˜å‚¨å¯¹è±¡ï¼Œåˆ—è¡¨å¯ä»¥å­˜å‚¨ List å¯¹è±¡ç­‰ã€‚è¿™ä½¿å¾—åœ¨åº”ç”¨ä¸­å¾ˆå®¹æ˜“æ ¹æ®è‡ªå·±çš„éœ€è¦é€‰æ‹©å­˜å‚¨çš„æ•°æ®ç±»å‹ï¼Œæ–¹ä¾¿å¼€å‘ã€‚</p><p>å¯¹äº Redis è€Œè¨€ï¼Œè™½ç„¶åªæœ‰ 6 ç§æ•°æ®ç±»å‹ï¼Œä½†æ˜¯æœ‰ä¸¤å¤§å¥½å¤„ï¼šä¸€æ–¹é¢å¯ä»¥æ»¡è¶³å­˜å‚¨å„ç§æ•°æ®ç»“æ„ä½“çš„éœ€è¦ï¼›å¦å¤–ä¸€æ–¹é¢æ•°æ®ç±»å‹å°‘ï¼Œä½¿å¾—è§„åˆ™å°±å°‘ï¼Œéœ€è¦çš„åˆ¤æ–­å’Œé€»è¾‘å°±å°‘ï¼Œè¿™æ ·è¯»/å†™çš„é€Ÿåº¦å°±æ›´å¿«ã€‚</p></li><li><p>æ“ä½œéƒ½æ˜¯åŸå­çš„</p><p>æ‰€æœ‰ Redis çš„æ“ä½œéƒ½æ˜¯åŸå­çš„ï¼Œä»è€Œç¡®ä¿å½“ä¸¤ä¸ªå®¢æˆ·åŒæ—¶è®¿é—® Redis æœåŠ¡å™¨æ—¶ï¼Œå¾—åˆ°çš„æ˜¯æ›´æ–°åçš„å€¼ï¼ˆæœ€æ–°å€¼ï¼‰ã€‚  åœ¨éœ€è¦é«˜å¹¶å‘çš„åœºåˆå¯ä»¥è€ƒè™‘ä½¿ç”¨ Redis çš„äº‹åŠ¡ï¼Œå¤„ç†ä¸€äº›éœ€è¦é”çš„ä¸šåŠ¡ã€‚</p></li></ol></li></ol><h2 id="MySQLæ•°æ®åº“çš„äº‹åŠ¡ç‰¹æ€§">MySQLæ•°æ®åº“çš„äº‹åŠ¡ç‰¹æ€§</h2><h3 id="äº‹åŠ¡æ¦‚å¿µ">äº‹åŠ¡æ¦‚å¿µ</h3><p>â€‹äº‹åŠ¡å°±æ˜¯ä¸€ä¸ªç¨‹åºæ‰§è¡Œå•å…ƒï¼Œé‡Œé¢çš„æ“ä½œè¦ä¹ˆå…¨éƒ¨æ‰§è¡Œå®Œæˆï¼Œè¦ä¹ˆå…¨éƒ¨éƒ½ä¸æ‰§è¡Œ</p><h3 id="äº‹åŠ¡ç‰¹æ€§ï¼ˆACIDï¼‰">äº‹åŠ¡ç‰¹æ€§ï¼ˆACIDï¼‰</h3><p>â€‹äº‹åŠ¡æœ‰4ä¸ªéå¸¸é‡è¦çš„ç‰¹æ€§</p><pre><code>1. Atomicity åŸå­æ€§ ï¼šäº‹åŠ¡æ˜¯ä¸å¯åˆ†å‰²çš„æ•´ä½“ï¼Œæ‰€æœ‰æ“ä½œè¦ä¹ˆå…¨åšï¼Œè¦ä¹ˆå…¨ä¸åšï¼›åªè¦äº‹åŠ¡ä¸­æœ‰ä¸€ä¸ªæ“ä½œå‡ºé”™ï¼Œå›æ»šåˆ°äº‹åŠ¡å¼€å§‹å‰çŠ¶æ€ï¼Œå³ä¹‹å‰å·²ç»æ‰§è¡Œçš„æ“ä½œæ— æ•ˆ2. Consistency ä¸€è‡´æ€§ï¼šäº‹åŠ¡æ‰§è¡Œåï¼Œä»ä¸€ä¸ªä¸€è‡´æ€§çŠ¶æ€åˆ°å¦ä¸€ä¸ªä¸€è‡´æ€§çŠ¶æ€ï¼›æ¯”å¦‚Aå‘Bè½¬è´¦ï¼Œï¼ˆAã€Bæ€»é‡‘é¢æ˜¯ä¸€ä¸ªä¸€è‡´æ€§çŠ¶æ€ï¼‰ä¸å¯èƒ½å‡ºç°Aæ‰£äº†é’±ï¼Œä½†Bæ²¡æ”¶åˆ°3. Isolation éš”ç¦»æ€§ï¼šå¤šä¸ªäº‹åŠ¡ä¹‹é—´ç›¸äº’éš”ç¦»ï¼Œäº’ä¸å¹²æ‰°4. Durablity æŒä¹…æ€§ï¼šäº‹åŠ¡å®Œæˆåï¼Œå¯¹æ•°æ®åº“çš„æ›´æ”¹æ˜¯æ°¸ä¹…ä¿å­˜çš„ï¼Œä¸èƒ½å›æ»š</code></pre><h3 id="äº‹åŠ¡å¹¶å‘é—®é¢˜">äº‹åŠ¡å¹¶å‘é—®é¢˜</h3><pre><code>1. è„è¯»ï¼šä¸€ä¸ªäº‹åŠ¡è¯»å–åˆ°äº†å¦ä¸€ä¸ªäº‹åŠ¡æœªæäº¤çš„æ•°æ®2. å¹»è¯»ï¼šå¤šæ¬¡è¯»å–åˆ°çš„ç»“æœä¸ä¸€è‡´ã€‚ï¼ˆè¢«å¦ä¸€ä¸ªäº‹ç‰©æ–°å¢ æˆ– åˆ é™¤äº†è®°å½•ï¼‰3. ä¸å¯é‡å¤è¯»ï¼šä¸€ä¸ªäº‹åŠ¡å¤šæ¬¡è¯»å–åŒä¸€æ•°æ®ï¼Œå¾—åˆ°äº†ä¸åŒçš„å€¼ã€‚ï¼ˆè¢«å¦ä¸€ä¸ªäº‹åŠ¡æ›´æ–°äº†ï¼‰</code></pre><h3 id="äº‹åŠ¡éš”ç¦»çº§åˆ«">äº‹åŠ¡éš”ç¦»çº§åˆ«</h3><ol><li><p>è¯»æœªæäº¤ï¼ˆread-uncommittedï¼‰</p></li><li><p>è¯»å·²æäº¤ï¼ˆread-committedï¼‰è§£å†³è„è¯»</p></li><li><p>å¯é‡å¤è¯»ï¼ˆRepeatable readï¼‰è§£å†³è„è¯»ã€ä¸å¯é‡å¤è¯»</p></li><li><p>ä¸²è¡ŒåŒ–ï¼ˆSerializableï¼‰è§£å†³è„è¯»ï¼Œä¸å¯é‡å¤è¯»ã€å¹»è¯»</p><p>MySQLé»˜è®¤éš”ç¦»çº§åˆ«æ˜¯<strong>Repeatable read</strong>ï¼Œçº§åˆ«è¶Šé«˜ï¼Œæ€§èƒ½å°±è¶Šä½</p><ol><li>æŸ¥çœ‹å½“å‰ä¼šè¯éš”ç¦»çº§åˆ«</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> @@tx_isolation;</span><br></pre></td></tr></table></figure><ol start="2"><li>æŸ¥çœ‹ç³»ç»Ÿå½“å‰éš”ç¦»çº§åˆ«</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> @@global.tx_isolation;</span><br></pre></td></tr></table></figure><ol start="3"><li>è®¾ç½®å½“å‰ä¼šè¯éš”ç¦»çº§åˆ«</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span> <span class="keyword">session</span> <span class="keyword">transaction</span> isolatin <span class="keyword">level</span> repeatable <span class="keyword">read</span>;</span><br></pre></td></tr></table></figure><ol start="4"><li>è®¾ç½®ç³»ç»Ÿå½“å‰éš”ç¦»çº§åˆ«</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span> <span class="keyword">global</span> <span class="keyword">transaction</span> <span class="keyword">isolation</span> <span class="keyword">level</span> repeatable <span class="keyword">read</span>;</span><br></pre></td></tr></table></figure><p>Oracleé»˜è®¤éš”ç¦»çº§åˆ«æ˜¯<strong>read-committed</strong>ï¼Œè¯»å·²æäº¤<br>Oracleæ•°æ®åº“æ”¯æŒREAD COMMITTED å’Œ SERIALIZABLEè¿™ä¸¤ç§äº‹åŠ¡éš”ç¦»çº§åˆ«ã€‚</p><ol><li>æŸ¥çœ‹ç³»ç»Ÿé»˜è®¤äº‹åŠ¡éš”ç¦»çº§åˆ«,ä¹Ÿæ˜¯å½“å‰ä¼šè¯éš”ç¦»çº§åˆ«</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- é¦–å…ˆåˆ›å»ºä¸€ä¸ªäº‹åŠ¡</span></span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line">    trans_id <span class="built_in">Varchar2</span>(<span class="number">100</span>);</span><br><span class="line">   <span class="keyword">begin</span></span><br><span class="line">    trans_id := dbms_transaction.local_transaction_id( <span class="literal">TRUE</span> );</span><br><span class="line">   <span class="keyword">end</span>; </span><br><span class="line"><span class="comment">-- æŸ¥çœ‹äº‹åŠ¡éš”ç¦»çº§åˆ«</span></span><br><span class="line"><span class="keyword">SELECT</span> s.sid, s.serial<span class="comment">#,</span></span><br><span class="line">    <span class="keyword">CASE</span> BITAND(t.flag, <span class="keyword">POWER</span>(<span class="number">2</span>, <span class="number">28</span>))</span><br><span class="line"><span class="keyword">WHEN</span> <span class="number">0</span> <span class="keyword">THEN</span> <span class="string">'READ COMMITTED'</span></span><br><span class="line"><span class="keyword">ELSE</span> <span class="string">'SERIALIZABLE'</span></span><br><span class="line">    <span class="keyword">END</span> <span class="keyword">AS</span> isolation_level</span><br><span class="line"><span class="keyword">FROM</span> v$<span class="keyword">transaction</span> t</span><br><span class="line"><span class="keyword">JOIN</span> v$<span class="keyword">session</span> s <span class="keyword">ON</span> t.addr = s.taddr <span class="keyword">AND</span> s.sid = sys_context(<span class="string">'USERENV'</span>, <span class="string">'SID'</span>);</span><br></pre></td></tr></table></figure></li></ol><a class="btn-beautify button--animated pink block right outline larger" href="https://blog.badcode.icu/posts/20073101.html/" title="SQLé¢è¯•é¢˜ï¼ˆå­¦ç”Ÿè¡¨-è¯¾ç¨‹è¡¨-æˆç»©è¡¨-æ•™å¸ˆè¡¨ï¼‰"><i class="far fa-hand-point-right fa-fw"></i> SQLé¢è¯•é¢˜ï¼ˆå­¦ç”Ÿè¡¨-è¯¾ç¨‹è¡¨-æˆç»©è¡¨-æ•™å¸ˆè¡¨ï¼‰ </a>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
          <category> é¢è¯•é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> é¢è¯• </tag>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SQLé¢è¯•é¢˜ï¼ˆå­¦ç”Ÿè¡¨-è¯¾ç¨‹è¡¨-æˆç»©è¡¨-æ•™å¸ˆè¡¨ï¼‰</title>
      <link href="/posts/20073101.html/"/>
      <url>/posts/20073101.html/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h2 id="è¡¨ç»“æ„">è¡¨ç»“æ„</h2><ul><li>tb_student(s_id, name, age, sex)å­¦ç”Ÿè¡¨</li><li>tb_course(c_id, name, t_id)è¯¾ç¨‹è¡¨</li><li>tb_student_course(s_id, c_id, score)æˆç»©è¡¨</li><li>tb_teacher(t_id, name)æ•™å¸ˆè¡¨</li></ul><h2 id="å»ºè¡¨è¯­å¥">å»ºè¡¨è¯­å¥</h2><p>å¯ä»¥å¤åˆ¶ä¸‹é¢çš„SQLè¯­å¥ï¼Œä¹Ÿå¯ä»¥<a href="https://cdn.jsdelivr.net/gh/BadCode1996/BadCode1996.github.io/tb_course.sql" target="_blank" rel="noopener">ç‚¹æ­¤ä¸‹è½½sqlæ–‡ä»¶</a></p><div class="tabs" id="test1"><ul class="nav-tabs"><li class="tab active"><button data-href="#test1-1">å»ºè¡¨è¯­å¥</button></li><li class="tab"><button data-href="#test1-2">æ’å…¥æ•°æ®</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test1-1"><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> Navicat Premium Data Transfer</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> Source Server         : mysql</span></span><br><span class="line"><span class="comment"> Source Server Type    : MySQL</span></span><br><span class="line"><span class="comment"> Source Server Version : 80020</span></span><br><span class="line"><span class="comment"> Source Host           : localhost:3306</span></span><br><span class="line"><span class="comment"> Source Schema         : demo</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> Target Server Type    : MySQL</span></span><br><span class="line"><span class="comment"> Target Server Version : 80020</span></span><br><span class="line"><span class="comment"> File Encoding         : 65001</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> Date: 31/07/2020 01:30:56</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SET</span> <span class="keyword">NAMES</span> utf8mb4;</span><br><span class="line"><span class="keyword">SET</span> FOREIGN_KEY_CHECKS = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="comment">-- Table structure for tb_course</span></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="keyword">IF</span> <span class="keyword">EXISTS</span> <span class="string">`tb_course`</span>;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`tb_course`</span>  (</span><br><span class="line">  <span class="string">`c_id`</span> <span class="built_in">int</span>(<span class="number">0</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">  <span class="string">`name`</span> <span class="built_in">varchar</span>(<span class="number">32</span>) <span class="built_in">CHARACTER</span> <span class="keyword">SET</span> utf8 <span class="keyword">COLLATE</span> utf8_general_ci <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">  <span class="string">`t_id`</span> <span class="built_in">int</span>(<span class="number">0</span>) <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">  PRIMARY <span class="keyword">KEY</span> (<span class="string">`c_id`</span>) <span class="keyword">USING</span> BTREE</span><br><span class="line">) <span class="keyword">ENGINE</span> = <span class="keyword">InnoDB</span> <span class="built_in">CHARACTER</span> <span class="keyword">SET</span> = utf8 <span class="keyword">COLLATE</span> = utf8_general_ci ROW_FORMAT = <span class="keyword">Compact</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="comment">-- Table structure for tb_student</span></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="keyword">IF</span> <span class="keyword">EXISTS</span> <span class="string">`tb_student`</span>;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`tb_student`</span>  (</span><br><span class="line">  <span class="string">`s_id`</span> <span class="built_in">int</span>(<span class="number">0</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">  <span class="string">`name`</span> <span class="built_in">varchar</span>(<span class="number">32</span>) <span class="built_in">CHARACTER</span> <span class="keyword">SET</span> utf8 <span class="keyword">COLLATE</span> utf8_general_ci <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">  <span class="string">`age`</span> <span class="built_in">int</span>(<span class="number">0</span>) <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">  <span class="string">`sex`</span> <span class="built_in">varchar</span>(<span class="number">8</span>) <span class="built_in">CHARACTER</span> <span class="keyword">SET</span> utf8 <span class="keyword">COLLATE</span> utf8_general_ci <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">  PRIMARY <span class="keyword">KEY</span> (<span class="string">`s_id`</span>) <span class="keyword">USING</span> BTREE</span><br><span class="line">) <span class="keyword">ENGINE</span> = <span class="keyword">InnoDB</span> <span class="built_in">CHARACTER</span> <span class="keyword">SET</span> = utf8 <span class="keyword">COLLATE</span> = utf8_general_ci ROW_FORMAT = <span class="keyword">Compact</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="comment">-- Table structure for tb_student_course</span></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="keyword">IF</span> <span class="keyword">EXISTS</span> <span class="string">`tb_student_course`</span>;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`tb_student_course`</span>  (</span><br><span class="line">  <span class="string">`s_id`</span> <span class="built_in">int</span>(<span class="number">0</span>) <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">  <span class="string">`c_id`</span> <span class="built_in">int</span>(<span class="number">0</span>) <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">  <span class="string">`score`</span> <span class="built_in">int</span>(<span class="number">0</span>) <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="literal">NULL</span></span><br><span class="line">) <span class="keyword">ENGINE</span> = <span class="keyword">InnoDB</span> <span class="built_in">CHARACTER</span> <span class="keyword">SET</span> = utf8 <span class="keyword">COLLATE</span> = utf8_general_ci ROW_FORMAT = <span class="keyword">Compact</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="comment">-- Table structure for tb_teacher</span></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="keyword">IF</span> <span class="keyword">EXISTS</span> <span class="string">`tb_teacher`</span>;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`tb_teacher`</span>  (</span><br><span class="line">  <span class="string">`t_id`</span> <span class="built_in">int</span>(<span class="number">0</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">  <span class="string">`name`</span> <span class="built_in">varchar</span>(<span class="number">16</span>) <span class="built_in">CHARACTER</span> <span class="keyword">SET</span> utf8 <span class="keyword">COLLATE</span> utf8_general_ci <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">  PRIMARY <span class="keyword">KEY</span> (<span class="string">`t_id`</span>) <span class="keyword">USING</span> BTREE</span><br><span class="line">) <span class="keyword">ENGINE</span> = <span class="keyword">InnoDB</span> <span class="built_in">CHARACTER</span> <span class="keyword">SET</span> = utf8 <span class="keyword">COLLATE</span> = utf8_general_ci ROW_FORMAT = <span class="keyword">Compact</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SET</span> FOREIGN_KEY_CHECKS = <span class="number">1</span>;</span><br></pre></td></tr></table></figure><button class="tab-to-top" onclick="scrollToDest($(this).parents('.tabs'),65)"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-2"><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="comment">-- Records of tb_course</span></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`tb_course`</span> <span class="keyword">VALUES</span> (<span class="number">1</span>, <span class="string">'è¯­æ–‡'</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`tb_course`</span> <span class="keyword">VALUES</span> (<span class="number">2</span>, <span class="string">'æ•°å­¦'</span>, <span class="number">2</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`tb_course`</span> <span class="keyword">VALUES</span> (<span class="number">3</span>, <span class="string">'è‹±è¯­'</span>, <span class="number">3</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`tb_course`</span> <span class="keyword">VALUES</span> (<span class="number">4</span>, <span class="string">'ç‰©ç†'</span>, <span class="number">4</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="comment">-- Records of tb_student</span></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`tb_student`</span> <span class="keyword">VALUES</span> (<span class="number">1</span>, <span class="string">'åˆ˜ä¸€'</span>, <span class="number">18</span>, <span class="string">'ç”·'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`tb_student`</span> <span class="keyword">VALUES</span> (<span class="number">2</span>, <span class="string">'é’±äºŒ'</span>, <span class="number">19</span>, <span class="string">'å¥³'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`tb_student`</span> <span class="keyword">VALUES</span> (<span class="number">3</span>, <span class="string">'å¼ ä¸‰'</span>, <span class="number">17</span>, <span class="string">'ç”·'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`tb_student`</span> <span class="keyword">VALUES</span> (<span class="number">4</span>, <span class="string">'æå››'</span>, <span class="number">18</span>, <span class="string">'å¥³'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`tb_student`</span> <span class="keyword">VALUES</span> (<span class="number">5</span>, <span class="string">'ç‹äº”'</span>, <span class="number">17</span>, <span class="string">'ç”·'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`tb_student`</span> <span class="keyword">VALUES</span> (<span class="number">6</span>, <span class="string">'èµµå…­'</span>, <span class="number">19</span>, <span class="string">'å¥³'</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="comment">-- Records of tb_student_course</span></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`tb_student_course`</span> <span class="keyword">VALUES</span> (<span class="number">1</span>, <span class="number">1</span>, <span class="number">56</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`tb_student_course`</span> <span class="keyword">VALUES</span> (<span class="number">1</span>, <span class="number">2</span>, <span class="number">78</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`tb_student_course`</span> <span class="keyword">VALUES</span> (<span class="number">1</span>, <span class="number">3</span>, <span class="number">67</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`tb_student_course`</span> <span class="keyword">VALUES</span> (<span class="number">1</span>, <span class="number">4</span>, <span class="number">58</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`tb_student_course`</span> <span class="keyword">VALUES</span> (<span class="number">2</span>, <span class="number">1</span>, <span class="number">79</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`tb_student_course`</span> <span class="keyword">VALUES</span> (<span class="number">2</span>, <span class="number">2</span>, <span class="number">81</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`tb_student_course`</span> <span class="keyword">VALUES</span> (<span class="number">2</span>, <span class="number">3</span>, <span class="number">92</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`tb_student_course`</span> <span class="keyword">VALUES</span> (<span class="number">2</span>, <span class="number">4</span>, <span class="number">68</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`tb_student_course`</span> <span class="keyword">VALUES</span> (<span class="number">3</span>, <span class="number">1</span>, <span class="number">91</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`tb_student_course`</span> <span class="keyword">VALUES</span> (<span class="number">3</span>, <span class="number">2</span>, <span class="number">47</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`tb_student_course`</span> <span class="keyword">VALUES</span> (<span class="number">3</span>, <span class="number">3</span>, <span class="number">88</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`tb_student_course`</span> <span class="keyword">VALUES</span> (<span class="number">3</span>, <span class="number">4</span>, <span class="number">56</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`tb_student_course`</span> <span class="keyword">VALUES</span> (<span class="number">4</span>, <span class="number">2</span>, <span class="number">88</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`tb_student_course`</span> <span class="keyword">VALUES</span> (<span class="number">4</span>, <span class="number">3</span>, <span class="number">90</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`tb_student_course`</span> <span class="keyword">VALUES</span> (<span class="number">4</span>, <span class="number">4</span>, <span class="number">93</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`tb_student_course`</span> <span class="keyword">VALUES</span> (<span class="number">5</span>, <span class="number">1</span>, <span class="number">46</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`tb_student_course`</span> <span class="keyword">VALUES</span> (<span class="number">5</span>, <span class="number">3</span>, <span class="number">78</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`tb_student_course`</span> <span class="keyword">VALUES</span> (<span class="number">5</span>, <span class="number">4</span>, <span class="number">53</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`tb_student_course`</span> <span class="keyword">VALUES</span> (<span class="number">6</span>, <span class="number">1</span>, <span class="number">35</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`tb_student_course`</span> <span class="keyword">VALUES</span> (<span class="number">6</span>, <span class="number">2</span>, <span class="number">68</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`tb_student_course`</span> <span class="keyword">VALUES</span> (<span class="number">6</span>, <span class="number">4</span>, <span class="number">71</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="comment">-- Records of tb_teacher</span></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`tb_teacher`</span> <span class="keyword">VALUES</span> (<span class="number">1</span>, <span class="string">'å¶å¹³'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`tb_teacher`</span> <span class="keyword">VALUES</span> (<span class="number">2</span>, <span class="string">'è´ºé«˜'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`tb_teacher`</span> <span class="keyword">VALUES</span> (<span class="number">3</span>, <span class="string">'æ¨è‰³'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`tb_teacher`</span> <span class="keyword">VALUES</span> (<span class="number">4</span>, <span class="string">'å‘¨ç£Š'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`tb_teacher`</span> <span class="keyword">VALUES</span> (<span class="number">5</span>, <span class="string">'æé›·'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`tb_teacher`</span> <span class="keyword">VALUES</span> (<span class="number">6</span>, <span class="string">'ææƒ³'</span>);</span><br></pre></td></tr></table></figure><button class="tab-to-top" onclick="scrollToDest($(this).parents('.tabs'),65)"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="é—®é¢˜">é—®é¢˜</h2><ul><li><p>1ã€æŸ¥è¯¢â€œ001â€è¯¾ç¨‹æ¯”â€œ002â€è¯¾ç¨‹æˆç»©é«˜çš„æ‰€æœ‰å­¦ç”Ÿçš„å­¦å·:</p><div class="hide-block"><button class="hide-button button--animated" style="">æŸ¥çœ‹sqlè¯­å¥    </button><span class="hide-content"><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> a.s_id <span class="keyword">from</span></span><br><span class="line">( <span class="keyword">select</span> s_id, score <span class="keyword">from</span> tb_student_course <span class="keyword">where</span> c_id = <span class="number">1</span> ) a,</span><br><span class="line">(<span class="keyword">select</span> s_id, score <span class="keyword">from</span> tb_student_course <span class="keyword">where</span> c_id = <span class="number">2</span> ) b </span><br><span class="line"><span class="keyword">where</span></span><br><span class="line">a.score &gt; b.score</span><br><span class="line"><span class="keyword">and</span> a.s_id = b.s_id;</span><br></pre></td></tr></table></figure></span></div></li><li><p>2ã€æŸ¥è¯¢å¹³å‡æˆç»©å¤§äº60åˆ†çš„åŒå­¦çš„å­¦å·å’Œå¹³å‡æˆç»©ï¼›<br>select s_id,avg(score) from sc GROUP BY s_id having AVG(score) &gt; 60;</p></li><li><p>3ã€æŸ¥è¯¢æ‰€æœ‰åŒå­¦çš„å­¦å·ã€å§“åã€é€‰è¯¾æ•°ã€æ€»æˆç»©ï¼›</p></li></ul><p>select s_id as å­¦å·,s_name as å§“å from student;<br>select count(c_id) as é€‰è¯¾æ•°,sum(score) as æ€»æˆç»© from sc group by s_id;</p><p>select s.s_id as å­¦å·,s.s_name as å§“å, count(a.c_id) as é€‰è¯¾æ•°,sum(a.score) as æ€»æˆç»© from student s left join sc a on s.s_id = a.s_id group by s.s_id;</p><ul><li>4ã€æŸ¥è¯¢å§“â€œæâ€çš„è€å¸ˆçš„ä¸ªæ•°ï¼›<br>select count(t_name) from teacher where t_name like â€˜æ%â€™;</li><li>5ã€æŸ¥è¯¢æ²¡å­¦è¿‡â€œå¶å¹³â€è€å¸ˆè¯¾çš„åŒå­¦çš„å­¦å·ã€å§“åï¼›<br>select sc.* from course,teacher,sc where teacher.t_name = â€˜å¶å¹³â€™ and teacher.t_id = course.t_id and course.c_id = sc.c_id;<br>select s_id,s_name from student where s_id not in (1,2,3,5,6);</li></ul><p>select s_id,s_name from student where s_id not in (select sc.s_id from course,teacher,sc where teacher.t_name = â€˜å¶å¹³â€™ and teacher.t_id = course.t_id and course.c_id = sc.c_id);</p><ul><li><p>6ã€æŸ¥è¯¢å­¦è¿‡â€œ001â€å¹¶ä¸”ä¹Ÿå­¦è¿‡ç¼–å·â€œ002â€è¯¾ç¨‹çš„åŒå­¦çš„å­¦å·ã€å§“åï¼›</p></li><li><p>7ã€æŸ¥è¯¢å­¦è¿‡â€œå¶å¹³â€è€å¸ˆæ‰€æ•™çš„æ‰€æœ‰è¯¾çš„åŒå­¦çš„å­¦å·ã€å§“åï¼›<br>select s_id,s_name from student where s_id in (select sc.s_id from course,teacher,sc where teacher.t_name = â€˜å¶å¹³â€™ and teacher.t_id = course.t_id and course.c_id = sc.c_id);</p></li><li><p>8ã€æŸ¥è¯¢è¯¾ç¨‹ç¼–å·â€œ002â€çš„æˆç»©æ¯”è¯¾ç¨‹ç¼–å·â€œ001â€è¯¾ç¨‹ä½çš„æ‰€æœ‰åŒå­¦çš„å­¦å·ã€å§“å</p></li><li><p>9ã€æŸ¥è¯¢æ‰€æœ‰è¯¾ç¨‹æˆç»©å°äº60åˆ†çš„åŒå­¦çš„å­¦å·ã€å§“åï¼›</p></li><li><p>10ã€æŸ¥è¯¢æ²¡æœ‰å­¦å…¨æ‰€æœ‰è¯¾çš„åŒå­¦çš„å­¦å·ã€å§“åï¼›<br>select student.s_id,student.s_name from student left join sc on student.s_id = sc.s_id having count(sc.c_id) &lt; 4 group by sc.s_id;</p></li><li><p>11ã€æŸ¥è¯¢è‡³å°‘æœ‰ä¸€é—¨è¯¾ä¸å­¦å·ä¸ºâ€œ1001â€çš„åŒå­¦æ‰€å­¦ç›¸åŒçš„åŒå­¦çš„å­¦å·å’Œå§“åï¼›</p></li><li><p>12ã€æŸ¥è¯¢è‡³å°‘å­¦è¿‡å­¦å·ä¸ºâ€œ001â€åŒå­¦æ‰€æœ‰ä¸€é—¨è¯¾çš„å…¶ä»–åŒå­¦å­¦å·å’Œå§“åï¼›</p></li><li><p>13ã€æŠŠâ€œSCâ€è¡¨ä¸­â€œå¶å¹³â€è€å¸ˆæ•™çš„è¯¾çš„æˆç»©éƒ½æ›´æ”¹ä¸ºæ­¤è¯¾ç¨‹çš„å¹³å‡æˆç»©ï¼›</p></li><li><p>14ã€æŸ¥è¯¢å’Œâ€œ1002â€å·çš„åŒå­¦å­¦ä¹ çš„è¯¾ç¨‹å®Œå…¨ç›¸åŒçš„å…¶ä»–åŒå­¦å­¦å·å’Œå§“åï¼›</p></li><li><p>15ã€åˆ é™¤å­¦ä¹ â€œå¶å¹³â€è€å¸ˆè¯¾çš„SCè¡¨è®°å½•ï¼›</p></li><li><p>16ã€å‘SCè¡¨ä¸­æ’å…¥ä¸€äº›è®°å½•ï¼Œè¿™äº›è®°å½•è¦æ±‚ç¬¦åˆä»¥ä¸‹æ¡ä»¶ï¼šæ²¡æœ‰ä¸Šè¿‡ç¼–å·â€œ003â€è¯¾ç¨‹çš„åŒå­¦å­¦å·ã€2ã€ å·è¯¾çš„å¹³å‡æˆç»©ï¼›</p></li><li><p>17ã€æŒ‰å¹³å‡æˆç»©ä»é«˜åˆ°ä½æ˜¾ç¤ºæ‰€æœ‰å­¦ç”Ÿçš„â€œæ•°æ®åº“â€ã€â€œä¼ä¸šç®¡ç†â€ã€â€œè‹±è¯­â€ä¸‰é—¨çš„è¯¾ç¨‹æˆç»©ï¼ŒæŒ‰å¦‚ä¸‹å½¢å¼æ˜¾ç¤ºï¼š å­¦ç”ŸID,æ•°æ®åº“,ä¼ä¸šç®¡ç†,è‹±è¯­,æœ‰æ•ˆè¯¾ç¨‹æ•°,æœ‰æ•ˆå¹³å‡åˆ†</p></li><li><p>18ã€æŸ¥è¯¢å„ç§‘æˆç»©æœ€é«˜å’Œæœ€ä½çš„åˆ†ï¼šä»¥å¦‚ä¸‹å½¢å¼æ˜¾ç¤ºï¼šè¯¾ç¨‹IDï¼Œæœ€é«˜åˆ†ï¼Œæœ€ä½åˆ†</p></li><li><p>19ã€æŒ‰å„ç§‘å¹³å‡æˆç»©ä»ä½åˆ°é«˜å’ŒåŠæ ¼ç‡çš„ç™¾åˆ†æ•°ä»é«˜åˆ°ä½é¡ºåº</p></li><li><p>20ã€æŸ¥è¯¢å¦‚ä¸‹è¯¾ç¨‹å¹³å‡æˆç»©å’ŒåŠæ ¼ç‡çš„ç™¾åˆ†æ•°(ç”¨&quot;1è¡Œ&quot;æ˜¾ç¤º): ä¼ä¸šç®¡ç†ï¼ˆ001ï¼‰ï¼Œé©¬å…‹æ€ï¼ˆ002ï¼‰ï¼ŒOO&amp;UML ï¼ˆ003ï¼‰ï¼Œæ•°æ®åº“ï¼ˆ004ï¼‰</p></li><li><p>21ã€æŸ¥è¯¢ä¸åŒè€å¸ˆæ‰€æ•™ä¸åŒè¯¾ç¨‹å¹³å‡åˆ†ä»é«˜åˆ°ä½æ˜¾ç¤º</p></li><li><p>22ã€æŸ¥è¯¢å¦‚ä¸‹è¯¾ç¨‹æˆç»©ç¬¬ 3 ååˆ°ç¬¬ 6 åçš„å­¦ç”Ÿæˆç»©å•ï¼šä¼ä¸šç®¡ç†ï¼ˆ001ï¼‰ï¼Œé©¬å…‹æ€ï¼ˆ002ï¼‰ï¼ŒUML ï¼ˆ003ï¼‰ï¼Œæ•°æ®åº“ï¼ˆ004ï¼‰</p></li><li><pre><code>[å­¦ç”ŸID],[å­¦ç”Ÿå§“å],ä¼ä¸šç®¡ç†,é©¬å…‹æ€,UML,æ•°æ®åº“,å¹³å‡æˆç»© </code></pre></li><li><p>23ã€ç»Ÿè®¡åˆ—å°å„ç§‘æˆç»©,å„åˆ†æ•°æ®µäººæ•°:è¯¾ç¨‹ID,è¯¾ç¨‹åç§°,[100-85],[85-70],[70-60],[ &lt;60]</p></li><li><p>24ã€æŸ¥è¯¢å­¦ç”Ÿå¹³å‡æˆç»©åŠå…¶åæ¬¡</p></li><li><p>25ã€æŸ¥è¯¢å„ç§‘æˆç»©å‰ä¸‰åçš„è®°å½•:(ä¸è€ƒè™‘æˆç»©å¹¶åˆ—æƒ…å†µ)</p></li><li><p>26ã€æŸ¥è¯¢æ¯é—¨è¯¾ç¨‹è¢«é€‰ä¿®çš„å­¦ç”Ÿæ•°</p></li><li><p>27ã€æŸ¥è¯¢å‡ºåªé€‰ä¿®äº†ä¸€é—¨è¯¾ç¨‹çš„å…¨éƒ¨å­¦ç”Ÿçš„å­¦å·å’Œå§“å</p></li><li><p>28ã€æŸ¥è¯¢ç”·ç”Ÿã€å¥³ç”Ÿäººæ•°</p></li><li><p>29ã€æŸ¥è¯¢å§“â€œå¼ â€çš„å­¦ç”Ÿåå•</p></li><li><p>30ã€æŸ¥è¯¢åŒååŒæ€§å­¦ç”Ÿåå•ï¼Œå¹¶ç»Ÿè®¡åŒåäººæ•°</p></li><li><p>31ã€1981å¹´å‡ºç”Ÿçš„å­¦ç”Ÿåå•(æ³¨ï¼šStudentè¡¨ä¸­Sageåˆ—çš„ç±»å‹æ˜¯datetime)</p></li><li><p>32ã€æŸ¥è¯¢æ¯é—¨è¯¾ç¨‹çš„å¹³å‡æˆç»©ï¼Œç»“æœæŒ‰å¹³å‡æˆç»©å‡åºæ’åˆ—ï¼Œå¹³å‡æˆç»©ç›¸åŒæ—¶ï¼ŒæŒ‰è¯¾ç¨‹å·é™åºæ’åˆ—</p></li><li><p>33ã€æŸ¥è¯¢å¹³å‡æˆç»©å¤§äº85çš„æ‰€æœ‰å­¦ç”Ÿçš„å­¦å·ã€å§“åå’Œå¹³å‡æˆç»©</p></li><li><p>34ã€æŸ¥è¯¢è¯¾ç¨‹åç§°ä¸ºâ€œæ•°æ®åº“â€ï¼Œä¸”åˆ†æ•°ä½äº60çš„å­¦ç”Ÿå§“åå’Œåˆ†æ•°</p></li><li><p>35ã€æŸ¥è¯¢æ‰€æœ‰å­¦ç”Ÿçš„é€‰è¯¾æƒ…å†µï¼›</p></li><li><p>36ã€æŸ¥è¯¢ä»»ä½•ä¸€é—¨è¯¾ç¨‹æˆç»©åœ¨70åˆ†ä»¥ä¸Šçš„å§“åã€è¯¾ç¨‹åç§°å’Œåˆ†æ•°ï¼›</p></li><li><p>37ã€æŸ¥è¯¢ä¸åŠæ ¼çš„è¯¾ç¨‹ï¼Œå¹¶æŒ‰è¯¾ç¨‹å·ä»å¤§åˆ°å°æ’åˆ—</p></li><li><p>38ã€æŸ¥è¯¢è¯¾ç¨‹ç¼–å·ä¸º003ä¸”è¯¾ç¨‹æˆç»©åœ¨80åˆ†ä»¥ä¸Šçš„å­¦ç”Ÿçš„å­¦å·å’Œå§“åï¼›</p></li><li><p>39ã€æ±‚é€‰äº†è¯¾ç¨‹çš„å­¦ç”Ÿäººæ•°</p></li><li><p>40ã€æŸ¥è¯¢é€‰ä¿®â€œå¶å¹³â€è€å¸ˆæ‰€æˆè¯¾ç¨‹çš„å­¦ç”Ÿä¸­ï¼Œæˆç»©æœ€é«˜çš„å­¦ç”Ÿå§“ååŠå…¶æˆç»©</p></li><li><p>41ã€æŸ¥è¯¢å„ä¸ªè¯¾ç¨‹åŠç›¸åº”çš„é€‰ä¿®äººæ•°</p></li><li><p>42ã€æŸ¥è¯¢ä¸åŒè¯¾ç¨‹æˆç»©ç›¸åŒçš„å­¦ç”Ÿçš„å­¦å·ã€è¯¾ç¨‹å·ã€å­¦ç”Ÿæˆç»©</p></li><li><p>43ã€æŸ¥è¯¢æ¯é—¨åŠŸæˆç»©æœ€å¥½çš„å‰ä¸¤å</p></li><li><p>44ã€ç»Ÿè®¡æ¯é—¨è¯¾ç¨‹çš„å­¦ç”Ÿé€‰ä¿®äººæ•°ï¼ˆè¶…è¿‡10äººçš„è¯¾ç¨‹æ‰ç»Ÿè®¡ï¼‰ã€‚è¦æ±‚è¾“å‡ºè¯¾ç¨‹å·å’Œé€‰ä¿®äººæ•°ï¼ŒæŸ¥è¯¢ç»“æœæŒ‰äººæ•°é™åºæ’åˆ—ï¼ŒæŸ¥è¯¢ç»“æœæŒ‰äººæ•°é™åºæ’åˆ—ï¼Œè‹¥äººæ•°ç›¸åŒï¼ŒæŒ‰è¯¾ç¨‹å·å‡åºæ’åˆ—</p></li><li><p>45ã€æ£€ç´¢è‡³å°‘é€‰ä¿®ä¸¤é—¨è¯¾ç¨‹çš„å­¦ç”Ÿå­¦å·</p></li><li><p>46ã€æŸ¥è¯¢å…¨éƒ¨å­¦ç”Ÿéƒ½é€‰ä¿®çš„è¯¾ç¨‹çš„è¯¾ç¨‹å·å’Œè¯¾ç¨‹å</p></li><li><p>47ã€æŸ¥è¯¢æ²¡å­¦è¿‡â€œå¶å¹³â€è€å¸ˆè®²æˆçš„ä»»ä¸€é—¨è¯¾ç¨‹çš„å­¦ç”Ÿå§“å</p></li><li><p>48ã€æŸ¥è¯¢ä¸¤é—¨ä»¥ä¸Šä¸åŠæ ¼è¯¾ç¨‹çš„åŒå­¦çš„å­¦å·åŠå…¶å¹³å‡æˆç»©</p></li><li><p>49ã€æ£€ç´¢â€œ004â€è¯¾ç¨‹åˆ†æ•°å°äº60ï¼ŒæŒ‰åˆ†æ•°é™åºæ’åˆ—çš„åŒå­¦å­¦å·</p></li><li><p>50ã€åˆ é™¤â€œ002â€åŒå­¦çš„â€œ001â€è¯¾ç¨‹çš„æˆç»©</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
          <category> é¢è¯•é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> SQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaé¢è¯•é¢˜ --- finalã€finallyã€finalizeçš„åŒºåˆ«</title>
      <link href="/posts/20061502.html/"/>
      <url>/posts/20061502.html/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h2 id="final">final</h2><ol><li><p>åŸºæœ¬ä»‹ç»</p><p>â€‹<strong>final</strong>æ˜¯Javaä¸­çš„å…³é”®å­—ï¼Œä¿®é¥°ç¬¦ï¼Œå¯ç”¨æ¥ä¿®é¥°å±æ€§ã€æ–¹æ³•ã€ç±»</p><p>1.1ã€ä¿®é¥°å±æ€§ï¼Œè¡¨ç¤ºä¿®é¥°çš„å±æ€§ä¸å¯æ›´æ”¹</p><p>â€‹è¢«å£°æ˜ä¸ºfinalçš„å˜é‡ï¼Œå¿…é¡»åœ¨å£°æ˜æ—¶ç»™å®šåˆå§‹å€¼ï¼Œåœ¨ä»¥åçš„å¼•ç”¨ä¸­ï¼Œåªèƒ½ä½¿ç”¨ï¼Œä¸èƒ½ä¿®æ”¹</p><p>1.2ã€ä¿®é¥°æ–¹æ³•ï¼Œè¡¨ç¤ºä¿®é¥°çš„æ–¹æ³•ä¸å¯è¢«è¦†ç›–ï¼ˆé‡å†™ï¼‰</p><p>â€‹è¢«å£°æ˜ä¸ºfinalçš„æ–¹æ³•åªèƒ½ä½¿ç”¨ï¼Œä¸å¯ä»¥ä¿®æ”¹</p><p>1.3ã€ä¿®é¥°ç±»ï¼Œè¡¨ç¤ºä¿®é¥°çš„ç±»ä¸å¯è¢«ç»§æ‰¿</p><p>â€‹å¦‚æœä¸€ä¸ªç±»è¢«å£°æ˜äº†finalï¼Œå°±è¯´æ˜å®ƒä¸å¯èƒ½å†æ´¾ç”Ÿå‡ºæ–°çš„å­ç±»ï¼Œå› æ­¤ï¼Œç”¨ä¸€ä¸ªç±»<strong>ä¸å¯ä»¥åŒæ—¶</strong>å£°æ˜ä¸º<strong>abstractæŠ½è±¡ç±»</strong>å’Œ<strong>final</strong>çš„ç±»</p></li><li><p>è¯¦ç»†ä»‹ç»</p><ol><li><p>ä¿®é¥°å±æ€§</p><p>â€‹å¦‚æœfinalä¿®é¥°çš„æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œè¡¨ç¤ºè¿™ä¸ªå˜é‡è¢«èµ‹äºˆçš„å€¼æ˜¯ä¸å¯æ›´æ”¹çš„ï¼Œå³å®ƒæ˜¯ä¸ªå¸¸é‡ï¼›</p><p>â€‹å¦‚æœfinalä¿®é¥°çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¡¨ç¤ºè¿™ä¸ªå˜é‡è¢«èµ‹äºˆçš„å¼•ç”¨æ˜¯ä¸å¯æ”¹å˜çš„</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">int</span> A = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">final</span> User USER = <span class="keyword">new</span> User();</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    ç¼–è¯‘æŠ¥é”™ï¼Œè¢«finalä¿®é¥°çš„å˜é‡æˆ–å¯¹è±¡ï¼Œåˆå§‹åŒ–åéƒ½ä¸å¯è¢«å†æ¬¡æ”¹å˜</span></span><br><span class="line"><span class="comment">//    A = 20;</span></span><br><span class="line"><span class="comment">//    USER = new User();</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â€‹å¦‚æœä¸€ä¸ª<strong>å˜é‡</strong>æˆ–<strong>æ–¹æ³•å‚æ•°</strong>è¢«finalä¿®é¥°ï¼Œå°±è¡¨ç¤ºå®ƒåªèƒ½è¢«èµ‹å€¼ä¸€æ¬¡ï¼Œä½†æ˜¯JVMè™šæ‹Ÿæœºä¸ºå˜é‡è®¾å®šçš„é»˜è®¤å€¼ä¸è®°ä½œä¸€æ¬¡èµ‹å€¼ã€‚è¢«finalä¿®é¥°çš„å˜é‡å¿…é¡»è¢«åˆå§‹åŒ–ï¼Œåˆå§‹åŒ–çš„å‡ ç§æ–¹å¼ï¼š</p><p>â€‹1ã€åœ¨å®šä¹‰çš„æ—¶å€™åˆå§‹åŒ–</p><p>â€‹2ã€å¯ä»¥åœ¨åˆå§‹åŒ–å—ä¸­åˆå§‹åŒ–ï¼Œä¸å¯ä»¥åœ¨é™æ€åˆå§‹åŒ–å—ä¸­åˆå§‹åŒ–</p><p>â€‹3ã€é™æ€finalå˜é‡å¯ä»¥åœ¨å®šä¹‰æ—¶åˆå§‹åŒ–ï¼Œä¹Ÿå¯ä»¥åœ¨é™æ€åˆå§‹åŒ–å—ä¸­åˆå§‹åŒ–ï¼Œä½†ä¸å¯ä»¥åœ¨åˆå§‹åŒ–å—ä¸­åˆå§‹åŒ–</p><p>â€‹4ã€finalå˜é‡å¯ä»¥åœ¨ç±»çš„æ„é€ å™¨å†…åˆå§‹åŒ–ï¼Œä½†æ˜¯é™æ€finalä¸å¯ä»¥</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line"><span class="comment">//    åœ¨å®šä¹‰æ—¶åˆå§‹åŒ–</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">int</span> A1 = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> A2 = <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    åœ¨åˆå§‹åŒ–å—ä¸­åˆå§‹åŒ–</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">int</span> B1;&#123; B1 = <span class="number">10</span>; &#125;</span><br><span class="line"><span class="comment">//    public static final int B2;&#123; B2 = 10; &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    åœ¨é™æ€åˆå§‹åŒ–å—ä¸­åˆå§‹åŒ–</span></span><br><span class="line"><span class="comment">//    public final int C1;static &#123; C1 = 10; &#125;</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> C2;<span class="keyword">static</span> &#123; C2 = <span class="number">10</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    åœ¨æ„é€ å‡½æ•°ä¸­åˆå§‹åŒ–</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">int</span> D1;</span><br><span class="line"><span class="comment">//    public static final int D2;</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Demo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        D1 = <span class="number">10</span>;</span><br><span class="line"><span class="comment">//        D2 = 10;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><table><thead><tr><th style="text-align:center">åˆå§‹åŒ–</th><th style="text-align:center">åœ¨å®šä¹‰æ—¶</th><th style="text-align:center">åœ¨åˆå§‹åŒ–å—ä¸­</th><th style="text-align:center">åœ¨é™æ€åˆå§‹åŒ–å—ä¸­</th><th style="text-align:center">åœ¨æ„é€ å‡½æ•°ä¸­</th></tr></thead><tbody><tr><td style="text-align:center">é™æ€å¸¸é‡</td><td style="text-align:center">âˆš</td><td style="text-align:center"></td><td style="text-align:center">âˆš</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">éé™æ€å¸¸é‡</td><td style="text-align:center">âˆš</td><td style="text-align:center">âˆš</td><td style="text-align:center"></td><td style="text-align:center">âˆš</td></tr></tbody></table></li><li><p>ä¿®é¥°æ–¹æ³•</p><p>å½“finalä¿®é¥°ä¸€ä¸ªæ–¹æ³•æ—¶ï¼Œè¡¨ç¤ºè¿™ä¸ªæ–¹æ³•ä¸å¯è¢«å­ç±»é‡å†™ï¼Œä½†è¿˜æ˜¯å¯ä»¥ç»§æ‰¿çš„</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">People</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title">say</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Hello World!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"People eat meat"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title">eating</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"People eat meat......"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">extends</span> <span class="title">People</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*public void say()&#123;</span></span><br><span class="line"><span class="comment">        System.out.println("ä½ å¥½");</span></span><br><span class="line"><span class="comment">    &#125;*/</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Student eat vegetable"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title">eating</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Student eat vegetable......"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Student student = <span class="keyword">new</span> Student();</span><br><span class="line"></span><br><span class="line">        student.say();  <span class="comment">//è¾“å‡ºç»“æœï¼šHello World!</span></span><br><span class="line">        student.eat();  <span class="comment">//è¾“å‡ºç»“æœï¼šStudent eat vegetable</span></span><br><span class="line">        student.eating();   <span class="comment">//è¾“å‡ºç»“æœï¼šStudent eat vegetable......</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…·æœ‰privateæƒé™çš„æ–¹æ³•ä¹Ÿå¯ä»¥ç”¨finalä¿®é¥°ï¼Œä½†æ˜¯ç”±äºå­ç±»æ— æ³•ç»§æ‰¿privateæ–¹æ³•ï¼Œå› æ­¤ä¹Ÿæ— æ³•é‡å†™ã€‚</p><p>ç¼–è¯‘å™¨åœ¨å¤„ç†privateæ–¹æ³•æ—¶ï¼Œæ˜¯æŒ‰ç…§è¢«finalä¿®é¥°çš„æ–¹æ³•æ¥å¤„ç†ï¼Œè¿™æ ·å¯ä»¥æé«˜è¯¥æ–¹æ³•è¢«è°ƒç”¨æ—¶çš„æ•ˆç‡ã€‚</p><p>å­ç±»ä»ç„¶å¯ä»¥å®šä¹‰ä¸çˆ¶ç±»ä¸­privateæ–¹æ³•å…·æœ‰åŒæ ·ç»“æ„çš„åŒåæ–¹æ³•ï¼Œä½†æ˜¯è¿™å¹¶ä¸æ˜¯é‡å†™ï¼ŒäºŒè€…å¹¶æ— å…³è”</p></li><li><p>ä¿®é¥°ç±»</p><p>finalä¿®é¥°çš„ç±»ä¸å¯è¢«ç»§æ‰¿ï¼Œæ¯”å¦‚Stringç±»ï¼Œå°±æ˜¯finalä¿®é¥°çš„</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">String</span></span></span><br><span class="line"><span class="class">    <span class="keyword">implements</span> <span class="title">java</span>.<span class="title">io</span>.<span class="title">Serializable</span>, <span class="title">Comparable</span>&lt;<span class="title">String</span>&gt;, <span class="title">CharSequence</span> </span>&#123;</span><br><span class="line">...<span class="comment">//code</span></span><br><span class="line">    ...<span class="comment">//code</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç”±äºabstractå…³é”®å­—ä¿®é¥°çš„ç±»ä¸ºæŠ½è±¡ç±»ï¼Œå…¶æ–¹æ³•ä¸ºæŠ½è±¡æ–¹æ³•ï¼Œéœ€è¦æœ‰å…¶å­ç±»æ¥é‡è½½å®ç°æŠ½è±¡æ–¹æ³•ï¼Œå› æ­¤abstractå…³é”®å­—å’Œfinalå…³é”®å­—ä¸å¯åŒæ—¶ç”¨æ¥ä¿®é¥°ä¸€ä¸ªç±»ã€‚</p><p>åŒç†ï¼Œfinalä¹Ÿä¸å¯ç”¨æ¥ä¿®é¥°æ¥å£ã€‚</p><p>finalä¿®é¥°çš„ç±»çš„æ‰€æœ‰æ–¹æ³•éƒ½ä¸å¯è¢«é‡å†™ï¼Œä½†å…¶ä¸­æ²¡æœ‰è¢«finalä¿®é¥°çš„å˜é‡å¯ä»¥è¢«ä¿®æ”¹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">int</span> b = <span class="number">20</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Demo demo = <span class="keyword">new</span> Demo();</span><br><span class="line">        demo.a = <span class="number">100</span>;</span><br><span class="line"><span class="comment">//        demo.b = 200;</span></span><br><span class="line">        System.out.println(demo.a);<span class="comment">//è¾“å‡ºç»“æœï¼š100</span></span><br><span class="line">        System.out.println(demo.b);<span class="comment">//è¾“å‡ºç»“æœï¼š20</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol></li></ol><h2 id="finally">finally</h2><p>â€‹finallyä½œä¸ºå¼‚å¸¸å¤„ç†çš„ä¸€éƒ¨åˆ†ï¼Œåªèƒ½ç”¨åœ¨tryâ€¦catchè¯­å¥ä¸­ï¼Œå¹¶ä¸”é™„å¸¦ç€ä¸€ä¸ªè¯­å¥å—ï¼Œè¡¨ç¤ºè¿™æ®µè¯­å¥æœ€ç»ˆä¸€å®šä¼šæ‰§è¡Œï¼Œ<strong>ç»å¸¸è¢«ç”¨åœ¨éœ€è¦é‡Šæ”¾èµ„æºçš„æƒ…å†µä¸‹</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">int</span> i = <span class="number">1</span>/<span class="number">0</span>;</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">"ç¨‹åºç»“æŸï¼Œfinallyè¯­å¥å—æ‰§è¡Œ"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* è¾“å‡ºç»“æœ</span></span><br><span class="line"><span class="comment">java.lang.ArithmeticException: / by zero</span></span><br><span class="line"><span class="comment">at com.demo.Demo.main(Demo.java:4)</span></span><br><span class="line"><span class="comment">ç¨‹åºç»“æŸï¼Œfinallyè¯­å¥å—æ‰§è¡Œ</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><p>å¾ˆå¤šäººè®¤ä¸ºfinallyè¯­å¥å—ä¸€å®šä¼šæ‰§è¡Œï¼Œå…¶å®æ˜¯ä¸ä¸€å®š</p><ol><li><p>try/catchè¯­å¥å—æ²¡æœ‰æ‰§è¡Œåˆ°ï¼Œç¨‹åºå°±ç»“æŸäº†ï¼Œfinallyè¯­å¥å—æ— æ³•æ‰§è¡Œ</p><p>æ–¹æ³•è¢«è¿”å›ï¼Œæ‰§è¡Œäº†returnè¯­å¥ï¼›</p><p>åœ¨try/catchä¹‹å‰ï¼Œå‡ºç°äº†å¼‚å¸¸ï¼Œç¨‹åºä¸­æ–­ï¼›</p></li><li><p>æ‰§è¡Œåˆ°try/catchï¼Œä½†Javaè™šæ‹Ÿæœºè¢«ç»ˆæ­¢è¿è¡Œ</p><p>åœ¨tryè¯­å¥å—å†…æ‰§è¡Œäº†System.exit(0); JVMç»ˆæ­¢</p></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ²¡æœ‰æ‰§è¡Œåˆ°try/catchè¯­å¥å—ï¼Œfinallyä¸ä¼šæ‰§è¡Œ</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">test</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//i = i / 0;</span></span><br><span class="line">        <span class="keyword">if</span> (i == <span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> i;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            i = i/<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">return</span> i;</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">"ç¨‹åºç»“æŸï¼Œfinallyè¯­å¥å—æ‰§è¡Œ"</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Demo demo = <span class="keyword">new</span> Demo();</span><br><span class="line">        <span class="keyword">int</span> test = demo.test(<span class="number">1</span>);</span><br><span class="line">        System.out.println(test);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¨‹åºä¸­æ­¢</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.exit(<span class="number">0</span>);<span class="comment">//åœ¨tryè¯­å¥å—ä¸­ï¼Œä¸­æ­¢ç¨‹åºï¼Œfinallyè¯­å¥å—æ— æ³•æ‰§è¡Œ</span></span><br><span class="line">            <span class="keyword">int</span> i = <span class="number">1</span>/<span class="number">0</span>;</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">"ç¨‹åºç»“æŸï¼Œfinallyè¯­å¥å—æ‰§è¡Œ"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="finalize">finalize</h2><p>finalizeæ˜¯Objectç±»çš„ä¸€ä¸ªæ–¹æ³•ï¼Œå®ƒçš„æ–¹æ³•å®šä¹‰å¦‚ä¸‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">finalize</span><span class="params">()</span> <span class="keyword">throws</span> Throwable </span>&#123; &#125;</span><br></pre></td></tr></table></figure><p>finalize()æ˜¯GCï¼ˆ garbagecollector åƒåœ¾å›æ”¶å™¨ï¼‰è¿è¡Œæœºåˆ¶çš„ä¸€éƒ¨åˆ†ã€‚finalize()æ–¹æ³•æ˜¯åœ¨GCæ¸…ç†å®ƒæ‰€ä¸›å±çš„å¯¹è±¡æ—¶è¢«è°ƒç”¨çš„ï¼Œå¦‚æœåœ¨æ‰§è¡Œå®ƒçš„è¿‡ç¨‹ä¸­æŠ›å‡ºäº†æ— æ³•æ•è·çš„å¼‚å¸¸ï¼ŒGCå°†ç»ˆæ­¢è¿™æ¬¡å¯¹è¯¥å¯¹è±¡çš„æ¸…ç†ï¼Œå¹¶ä¸”è¯¥å¼‚å¸¸ä¼šè¢«å¿½ç•¥ï¼ŒçŸ¥é“ä¸‹ä¸€æ¬¡GCå¼€å§‹æ¸…ç†è¿™ä¸ªå¯¹è±¡æ—¶ï¼Œä¼šå†æ¬¡è°ƒç”¨finalize()æ–¹æ³•</p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
          <category> é¢è¯•é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> é¢è¯• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaé¢è¯•é¢˜ -- ==å’Œequalsçš„åŒºåˆ«</title>
      <link href="/posts/20061501.html/"/>
      <url>/posts/20061501.html/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h3 id="â€œ-â€çš„å«ä¹‰">â€œ==â€çš„å«ä¹‰</h3><p>åœ¨Javaä¸­ï¼Œä¸»è¦æœ‰ä¸¤ä¸ªä½œç”¨</p><h4 id="æ¯”è¾ƒåŸºæœ¬æ•°æ®ç±»å‹ï¼ˆbyteã€shortã€intã€longã€floatã€doubleã€charã€booleanï¼‰">æ¯”è¾ƒåŸºæœ¬æ•°æ®ç±»å‹ï¼ˆbyteã€shortã€intã€longã€floatã€doubleã€charã€booleanï¼‰</h4><p>æ¯”è¾ƒå€¼æ˜¯å¦ç›¸ç­‰ï¼Œæ¯”å¦‚ä¸¤ä¸ªintç±»å‹ï¼Œæ¯”è¾ƒçš„æ˜¯ä¸¤ä¸ªå˜é‡å€¼æ˜¯å¦ç›¸ç­‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">int</span> b = <span class="number">12</span>;</span><br><span class="line">    System.out.println(a == b);<span class="comment">//è¾“å‡ºç»“æœï¼šfalse</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ¯”è¾ƒå¼•ç”¨æ•°æ®ç±»å‹ï¼ˆæ•°ç»„ã€ç±»ã€æ¥å£ï¼‰">æ¯”è¾ƒå¼•ç”¨æ•°æ®ç±»å‹ï¼ˆæ•°ç»„ã€ç±»ã€æ¥å£ï¼‰</h4><p>æ¯”è¾ƒçš„æ˜¯å¼•ç”¨åœ°å€æ˜¯å¦ç›¸åŒ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">User user1 = <span class="keyword">new</span> User(<span class="string">"å¼ ä¸‰"</span>, <span class="number">20</span>);</span><br><span class="line">User user2 = <span class="keyword">new</span> User(<span class="string">"å¼ ä¸‰"</span>, <span class="number">20</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//System.identityHashCode(Object)æ–¹æ³•å¯ä»¥è¿”å›å¯¹è±¡çš„å†…å­˜åœ°å€</span></span><br><span class="line">System.out.println(System.identityHashCode(user1));<span class="comment">//è¾“å‡ºç»“æœï¼š603742814</span></span><br><span class="line">System.out.println(System.identityHashCode(user2));<span class="comment">//è¾“å‡ºç»“æœï¼š1067040082</span></span><br><span class="line"></span><br><span class="line">System.out.println(user1 == user2);<span class="comment">//è¾“å‡ºç»“æœï¼šfalse</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="â€œequalsâ€çš„å«ä¹‰">â€œequalsâ€çš„å«ä¹‰</h3><p>åœ¨Javaä¸­ï¼ŒObjectç±»é‡Œæœ‰equalsæ–¹æ³•ï¼ŒStringç±»é‡Œä¹Ÿæœ‰equalsæ–¹æ³•</p><ol><li><p>Objectç±»ä¸­çš„equals</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>   obj   the reference object with which to compare.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span>  &#123;<span class="doctag">@code</span> true&#125; if this object is the same as the obj</span></span><br><span class="line"><span class="comment"> *          argument; &#123;<span class="doctag">@code</span> false&#125; otherwise.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@see</span>     #hashCode()</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@see</span>     java.util.HashMap</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> (<span class="keyword">this</span> == obj);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é˜…è¯»æºç å‘ç°ï¼Œæ¯”è¾ƒçš„æ˜¯å½“å‰å¯¹è±¡çš„å¼•ç”¨å’Œobjçš„å¼•ç”¨æ˜¯å¦ç›¸åŒï¼Œä¹Ÿå°±æ˜¯è¯´<strong>é»˜è®¤æ¯”è¾ƒçš„æ˜¯åœ°å€</strong>ã€‚</p><p>å…¶ä¸­<strong>return (this == obj);</strong> ä½¿ç”¨çš„ä¹Ÿæ˜¯**â€œ==â€<strong>è¿›è¡Œåˆ¤æ–­ï¼Œæ‰€ä»¥ï¼Œåœ¨è¿™é‡Œ <strong>==</strong> æ¯”è¾ƒçš„æ˜¯å¼•ç”¨çš„åœ°å€ï¼Œè€Œ</strong>equals<strong>ä¹Ÿæ˜¯æ¯”è¾ƒçš„å¼•ç”¨çš„åœ°å€ï¼Œæ‰€ä»¥ï¼Œ</strong>==<strong>å’Œ</strong>equals**åœ¨è¿™é‡Œçš„æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯æ¯”è¾ƒå¼•ç”¨çš„åœ°å€ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">User user1 = <span class="keyword">new</span> User(<span class="string">"å¼ ä¸‰"</span>, <span class="number">20</span>);</span><br><span class="line">    User user2 = <span class="keyword">new</span> User(<span class="string">"å¼ ä¸‰"</span>, <span class="number">20</span>);</span><br><span class="line"><span class="comment">//  æ¯”è¾ƒçš„æ˜¯æ™®é€šå¯¹è±¡Userï¼Œ==å’Œequalsçš„ä½œç”¨æ˜¯ä¸€æ ·çš„</span></span><br><span class="line">    System.out.println(user1 == user2);<span class="comment">//è¾“å‡ºç»“æœï¼šfalse</span></span><br><span class="line">System.out.println(user1.equals(user2));<span class="comment">//è¾“å‡ºç»“æœï¼šfalse</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>Stringç±»ä¸­çš„equals</p><p>Objectå¯¹è±¡é‡Œçš„ == å’Œ equals æ²¡ä»€ä¹ˆåŒºåˆ«ï¼Œæ„ä¹‰ä¸å¤§ï¼Œæ‰€ä»¥Stringåœ¨Objectçš„åŸºç¡€ä¸Šé‡å†™äº†equalsã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>  anObject</span></span><br><span class="line"><span class="comment"> *         The object to compare this &#123;<span class="doctag">@code</span> String&#125; against</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span>  &#123;<span class="doctag">@code</span> true&#125; if the given object represents a &#123;<span class="doctag">@code</span> String&#125;</span></span><br><span class="line"><span class="comment"> *          equivalent to this string, &#123;<span class="doctag">@code</span> false&#125; otherwise</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@see</span>  #compareTo(String)</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@see</span>  #equalsIgnoreCase(String)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object anObject)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span> == anObject) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (anObject <span class="keyword">instanceof</span> String) &#123;</span><br><span class="line">        String anotherString = (String)anObject;</span><br><span class="line">        <span class="keyword">int</span> n = value.length;</span><br><span class="line">        <span class="keyword">if</span> (n == anotherString.value.length) &#123;</span><br><span class="line">            <span class="keyword">char</span> v1[] = value;</span><br><span class="line">            <span class="keyword">char</span> v2[] = anotherString.value;</span><br><span class="line">            <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span> (n-- != <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (v1[i] != v2[i])</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å°†æ­¤å­—ç¬¦ä¸²ä¸æŒ‡å®šå¯¹è±¡è¿›è¡Œæ¯”è¾ƒã€‚å½“ä¸”ä»…å½“å‚æ•°ä¸æ˜¯ null ä¸”æ˜¯ä¸€ä¸ª String å¯¹è±¡ï¼Œè¡¨ç¤ºä¸æ­¤å¯¹è±¡ç›¸åŒçš„å­—ç¬¦åºåˆ—æ—¶ï¼Œç»“æœä¸º true ã€‚</p><p>Stringç±»ä¸­çš„equalsæ–¹æ³•æ¯”è¾ƒçš„æ˜¯å­—ç¬¦ä¸²å†…å®¹æ˜¯å¦ä¸€è‡´ã€‚</p><p>æ³¨æ„ï¼šåƒStringã€Dateè¿™äº›é‡å†™äº†equalsçš„ç±»ï¼Œä½¿ç”¨çš„æ—¶å€™ä¼šä¸Objectç±»çš„equalsä¸ä¸€æ ·</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    String str1 = <span class="string">"Hello"</span>;</span><br><span class="line">    String str2 = <span class="keyword">new</span> String(<span class="string">"Hello"</span>);</span><br><span class="line">    String str3 = str2;</span><br><span class="line"></span><br><span class="line">    System.out.println(str1 == str2);       <span class="comment">//è¾“å‡ºç»“æœï¼šfalse</span></span><br><span class="line">    System.out.println(str1 == str3);       <span class="comment">//è¾“å‡ºç»“æœï¼šfalse</span></span><br><span class="line">    System.out.println(str2 == str3);       <span class="comment">//è¾“å‡ºç»“æœï¼štrue</span></span><br><span class="line">    System.out.println(str1.equals(str2));  <span class="comment">//è¾“å‡ºç»“æœï¼štrue</span></span><br><span class="line">    System.out.println(str1.equals(str3));  <span class="comment">//è¾“å‡ºç»“æœï¼štrue</span></span><br><span class="line">    System.out.println(str2.equals(str3));  <span class="comment">//è¾“å‡ºç»“æœï¼štrue</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>å†…å­˜è§£é‡Š</p><p>åœ¨Javaä¸­ï¼Œä¸€èˆ¬æŠŠå¯¹è±¡æ”¾åœ¨å †åŒºï¼Œå¯¹è±¡çš„å¼•ç”¨æ”¾åœ¨æ ˆåŒºã€‚</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/image/20200704025413.png" alt=""></p><p>3.1String str1 = â€œHelloâ€; æ˜¯åœ¨å †åŒºå­˜æ”¾ä¸€ä¸ªå­—ç¬¦ä¸²å¯¹è±¡<br>3.2String str2 = new String(â€œHelloâ€); æ˜¯åœ¨å †åŒºé‡æ–°å­˜æ”¾ä¸€ä¸ªå­—ç¬¦ä¸²å¯¹è±¡</p><p>3.3String str3 = str2;è¿™ä¸ªæ—¶å€™str3å’Œstr2æ˜¯ä¸åŒçš„å¼•ç”¨ï¼Œä½†æŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªå­—ç¬¦ä¸²å¯¹è±¡</p></li><li><p>æ€»ç»“</p><ol><li>åŸºç¡€ç±»å‹æ¯”è¾ƒ</li></ol><p>ä½¿ç”¨ <strong>==</strong> æ¯”è¾ƒå€¼æ˜¯å¦ç›¸ç­‰</p><ol start="2"><li><p>å¼•ç”¨ç±»å‹æ¯”è¾ƒ</p></li><li><p>é‡å†™äº†equalsæ–¹æ³•ï¼Œæ¯”å¦‚Stringã€Date</p><p>ç¬¬ä¸€ç§æƒ…å†µï¼šä½¿ç”¨ == æ¯”è¾ƒçš„æ˜¯Stringçš„å¼•ç”¨æ˜¯å¦æŒ‡å‘åŒä¸€å†…å­˜åœ°å€</p><p>ç¬¬äºŒç§æƒ…å†µï¼šä½¿ç”¨ equals æ¯”è¾ƒçš„æ˜¯Stringçš„å¼•ç”¨çš„å¯¹è±¡å†…å®¹æ˜¯å¦ç›¸åŒ</p></li><li><p>æ²¡æœ‰é‡å†™equalsæ–¹æ³•ï¼Œæ¯”å¦‚è‡ªå®šä¹‰ç±»User</p><p>== å’Œ equals æ¯”è¾ƒçš„éƒ½æ˜¯å¼•ç”¨æ˜¯å¦æŒ‡å‘åŒä¸€å†…å­˜åœ°å€</p></li><li><p>ç‰¹ä¾‹</p><p>Stringç±»å‹ä¸­ï¼Œä¼šæœ‰ä¸€ä¸ªå°é—®é¢˜</p></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    String str1 = <span class="string">"Hello"</span>;</span><br><span class="line">    String str2 = <span class="keyword">new</span> String(<span class="string">"Hello"</span>);</span><br><span class="line">    str2 = str2.intern();</span><br><span class="line"></span><br><span class="line">    System.out.println(str1 == str2);       <span class="comment">//true</span></span><br><span class="line">    System.out.println(str1.equals(str2));  <span class="comment">//true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“è°ƒç”¨internæ–¹æ³•æ—¶ï¼Œå¦‚æœæ± ä¸­å·²ç»åŒ…å«ä¸€ä¸ªç”± equals(Object) æ–¹æ³•ç¡®å®šçš„ç­‰äºæ­¤ String å¯¹è±¡çš„å­—ç¬¦ä¸²ï¼Œåˆ™è¿”å›æ¥è‡ªæ± çš„å­—ç¬¦ä¸²ã€‚å¦åˆ™ï¼Œå°†æ­¤ String å¯¹è±¡æ·»åŠ åˆ°æ± ä¸­ï¼Œå¹¶è¿”å›å¯¹æ­¤String å¯¹è±¡çš„å¼•ç”¨ã€‚</p><p>æ„æ€å°±æ˜¯æ£€æŸ¥å­—ç¬¦ä¸²æ± é‡Œæ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨ï¼Œå°±ç”¨æ± é‡Œçš„å­—ç¬¦ä¸²å¯¹è±¡ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œå°±é‡æ–°æ·»åŠ </p></li></ol>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
          <category> é¢è¯•é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> é¢è¯• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®°ä¸€æ¬¡Vueé¢è¯•</title>
      <link href="/posts/20061201.html/"/>
      <url>/posts/20061201.html/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h1>Vue</h1><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/image/20200704034032.png" alt=""></p><h2 id="ä»€ä¹ˆæ˜¯é’©å­å‡½æ•°">ä»€ä¹ˆæ˜¯é’©å­å‡½æ•°</h2><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/image/20200704034112.png" alt=""></p><p>å…³é”®å­—ï¼š<strong>åœ¨ç³»ç»Ÿçº§å¯¹æ‰€æœ‰æ¶ˆæ¯å’Œäº‹ä»¶è¿›è¡Œè¿‡æ»¤</strong></p><p>â€‹æ˜¯è¯´é’©å­å‡½æ•°æ˜¯åœ¨ä¸€ä¸ªäº‹ä»¶è§¦å‘çš„æ—¶å€™ï¼Œåœ¨ç³»ç»Ÿçº§æ•è·åˆ°äº†å®ƒï¼Œç„¶ååšä¸€äº›æ“ä½œã€‚</p><p>å…³é”®å­—ï¼š<strong>ä¸€æ®µç”¨ä»¥å¤„ç†ç³»ç»Ÿæ¶ˆæ¯çš„ç¨‹åº</strong></p><p>â€‹é’©å­å‡½æ•°æ˜¯ç”¨æ¥å¤„ç†ç³»ç»Ÿæ¶ˆæ¯çš„</p><p>æ€»ç»“ï¼š</p><p>â€‹1ã€é’©å­å‡½æ•°ï¼Œé¡¾åæ€ä¹‰æ˜¯ä¸ªå‡½æ•°ï¼Œåœ¨ç³»ç»Ÿæ¶ˆæ¯è§¦å‘æ—¶è¢«ç³»ç»Ÿè°ƒç”¨</p><p>â€‹2ã€ ä¸æ˜¯ç”¨æˆ·è‡ªå·±è§¦å‘çš„</p><h2 id="å¸¸è§çš„é’©å­å‡½æ•°">å¸¸è§çš„é’©å­å‡½æ•°</h2><h3 id="Reactçš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°">Reactçš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°</h3><h3 id="Vueçš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°">Vueçš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°</h3><h2 id="Vueçš„åŒå‘ç»‘å®š">Vueçš„åŒå‘ç»‘å®š</h2><h3 id="MVCæ¨¡å¼">MVCæ¨¡å¼</h3><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/image/20200704034238.png" alt=""></p><p>ä»¥å¾€çš„MVCæ¨¡å¼æ˜¯å•å‘ç»‘å®šï¼Œå³Modelç»‘å®šåˆ°Viewï¼Œå½“æˆ‘ä»¬ç”¨JavaScriptä»£ç æ›´æ–°Modelæ—¶ï¼ŒViewå°±ä¼šè‡ªåŠ¨æ›´æ–°</p><pre><code>### 1.3.1ã€MVVMæ¨¡å¼</code></pre><p>â€‹è¯´åˆ°Vueçš„åŒå‘ç»‘å®šé¦–å…ˆè”ç³»åˆ°çš„å°±æ˜¯MVVM(Model-View-ViewModel)æ¨¡å¼äº†ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå½“è¯•å›¾å‘ç”Ÿæ”¹å˜çš„æ—¶å€™ä¼ é€’ç»™VM,å†è®©æ•°æ®å¾—åˆ°æ›´æ–°ï¼Œå½“æ•°æ®å‘ç”Ÿæ”¹å˜çš„æ—¶å€™ä¼ ç»™VM,ä½¿å¾—è¯•å›¾å‘ç”Ÿæ”¹å˜ï¼›</p><p>â€‹MVVMæ¨¡å¼æ˜¯é€šè¿‡ä»¥ä¸‹ä¸‰ä¸ªæ ¸å¿ƒç»„ä»¶ç»„æˆï¼Œæ¯ä¸ªéƒ½æœ‰å®ƒè‡ªå·±ç‹¬ç‰¹çš„è§’è‰²ï¼š</p><p>â€‹    <strong>Model</strong> - åŒ…å«äº†ä¸šåŠ¡å’ŒéªŒè¯é€»è¾‘çš„æ•°æ®æ¨¡å‹</p><p>â€‹    <strong>View</strong> - å®šä¹‰å±å¹•ä¸­Viewçš„ç»“æ„ï¼Œå¸ƒå±€å’Œå¤–è§‚</p><p>â€‹    <strong>ViewModel</strong> - æ‰®æ¼”â€œViewâ€å’Œâ€œModelâ€ä¹‹é—´çš„ä½¿è€…ï¼Œå¸®å¿™å¤„ç† <strong>View</strong> çš„å…¨éƒ¨ä¸šåŠ¡é€»è¾‘</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/image/20200704034318.png" alt=""></p><pre><code>### 1.3.2ã€Vueæ•°æ®åŒå‘ç»‘å®šåŸç†</code></pre><p>â€‹Vueçš„åŒå‘ç»‘å®šä¸»è¦é€šè¿‡ <strong>Object.defineProperty()</strong> æ–¹æ³•æ¥è¿›è¡Œ<strong>æ•°æ®åŠ«æŒ</strong>ä»¥åŠ<strong>å‘å¸ƒè€…-è®¢é˜…</strong>æ¨¡å¼æ¥å®ç°çš„ã€‚</p><p>â€‹1ã€ Vueæ˜¯æ€ä¹ˆå®ç°æ•°æ®åŠ«æŒçš„ï¼Ÿ</p><p>â€‹Vueå®ä¾‹åŒ–çš„æ—¶å€™ä¼šå»éå†æ‰€æœ‰å±æ€§ï¼Œç»™è¿™äº›å±æ€§æ·»åŠ getå’Œsetæ–¹æ³•è¿›è¡Œæ•°æ®åŠ«æŒ</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/image/20200704034342.png" alt=""></p><h3 id="åŒå‘ç»‘å®šçš„å…·ä½“å®ç°ï¼Ÿ">åŒå‘ç»‘å®šçš„å…·ä½“å®ç°ï¼Ÿ</h3><p>â€‹1ã€å®ç°ä¸€ä¸ªç›‘å¬å™¨Observerï¼Œç”¨æ¥åŠ«æŒå¹¶ç›‘å¬æ‰€æœ‰å±æ€§ï¼Œå¦‚æœæœ‰å˜åŠ¨ï¼Œå°±é€šçŸ¥è®¢é˜…è€…ã€‚</p><p>â€‹2ã€å®ç°ä¸€ä¸ªè®¢é˜…è€…Watcherï¼Œæ¯ä¸€ä¸ªWatcheréƒ½ç»‘å®šä¸€ä¸ªæ›´æ–°å‡½æ•°ï¼ŒWatcherå¯ä»¥æ”¶åˆ°å±æ€§çš„å˜åŒ–é€šçŸ¥å¹¶æ‰§è¡Œå“åº”çš„å‡½æ•°ï¼Œä»è€Œæ›´æ–°è§†å›¾ã€‚</p><p>â€‹3ã€å®ç°ä¸€ä¸ªè§£æå™¨Compileï¼Œå¯ä»¥æ‰«æå’Œè§£ææ¯ä¸ªèŠ‚ç‚¹çš„ç›¸å…³æŒ‡ä»¤ï¼ˆv-modelã€v-onç­‰æŒ‡ä»¤ï¼‰ï¼Œå¦‚æœèŠ‚ç‚¹å­˜åœ¨v-model, v-onç­‰æŒ‡ä»¤ï¼Œåˆ™è§£æå™¨Compileåˆå§‹åŒ–è¿™ç±»èŠ‚ç‚¹çš„æ¨¡æ¿æ•°æ®ï¼Œä½¿ä¹‹å¯ä»¥æ˜¾ç¤ºåœ¨è§†å›¾ä¸Šï¼Œç„¶ååˆå§‹åŒ–ç›¸åº”çš„è®¢é˜…è€…Watcher</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/image/20200704034345.png" alt=""></p><h2 id="Vueä¸­classçš„ç”¨æ³•">Vueä¸­classçš„ç”¨æ³•</h2><p>â€‹Vueä¸­çš„classæœ‰ 4 ç§å†™æ³•ï¼Œclasså’Œstyleéƒ½å±äºDOMå±æ€§ï¼Œæ‰€ä»¥åœ¨Vueä¸­ä½¿ç”¨ :class å’Œ :styleè¡¨ç¤º</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--è¦ç»™idä¸ºappçš„å…ƒç´ æ·»åŠ å±æ€§--&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">    .green&#123;color:green&#125;</span><br><span class="line">    .red&#123;background-color:red&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--æ–¹æ³•ä¸€--&gt;</span><br><span class="line">&lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;!--ç»“æœä¸ºç»¿è‰²å­—ä½“ï¼Œçº¢è‰²èƒŒæ™¯--&gt;</span><br><span class="line">&lt;span :class&#x3D;&quot;[greens,reds]&quot;&gt;åœ¨Vueä¸­ä½¿ç”¨class&lt;&#x2F;span&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;!--æ³¨æ„ï¼Œæ­¤å¤„éœ€è¦è‡ªè¡Œå¼•å…¥vue.jsæ–‡ä»¶--&gt;</span><br><span class="line">&lt;script src&#x3D;&quot;.&#x2F;node_modules&#x2F;vue&#x2F;dist&#x2F;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;scipt&gt;</span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &quot;#app&quot;,</span><br><span class="line">    data:&#123;</span><br><span class="line">    greens:&quot;green&quot;,</span><br><span class="line">    reds:&quot;red&quot;</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;&#x2F;scipt&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--æ–¹æ³•äºŒ--&gt;</span><br><span class="line">&lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;!--ç»“æœä¸ºç»¿è‰²å­—ä½“ï¼ŒèƒŒæ™¯ä¸æ˜¯çº¢è‰²--&gt;</span><br><span class="line">&lt;span :class&#x3D;&quot;&#123;green:true,red:false&#125;&quot;&gt;åœ¨Vueä¸­ä½¿ç”¨class&lt;&#x2F;span&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;script src&#x3D;&quot;.&#x2F;node_modules&#x2F;vue&#x2F;dist&#x2F;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;scipt&gt;</span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &quot;#app&quot;,</span><br><span class="line">    data:&#123;&#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;&#x2F;scipt&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--æ–¹æ³•ä¸‰--&gt;</span><br><span class="line">&lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;!--ç»“æœä¸ºé»˜è®¤é¢œè‰²å­—ä½“ï¼ŒèƒŒæ™¯æ˜¯çº¢è‰²--&gt;</span><br><span class="line">&lt;span :class&#x3D;&quot;demo&quot;&gt;åœ¨Vueä¸­ä½¿ç”¨class&lt;&#x2F;span&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;script src&#x3D;&quot;.&#x2F;node_modules&#x2F;vue&#x2F;dist&#x2F;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;scipt&gt;</span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &quot;#app&quot;,</span><br><span class="line">    data:&#123;</span><br><span class="line">    demo:&#123;</span><br><span class="line">    green:false,</span><br><span class="line">    red:true</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;&#x2F;scipt&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--æ–¹æ³•å››--&gt;</span><br><span class="line">&lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;!--ç»“æœä¸ºç»¿è‰²å­—ä½“ï¼ŒèƒŒæ™¯æ˜¯çº¢è‰²--&gt;</span><br><span class="line">&lt;span :class&#x3D;&quot;&#123;green:g,red:r&#125;&quot;&gt;åœ¨Vueä¸­ä½¿ç”¨class&lt;&#x2F;span&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;script src&#x3D;&quot;.&#x2F;node_modules&#x2F;vue&#x2F;dist&#x2F;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;scipt&gt;</span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &quot;#app&quot;,</span><br><span class="line">    data:&#123;</span><br><span class="line">    demo:&#123;</span><br><span class="line">    g:true,</span><br><span class="line">    r:true</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;&#x2F;scipt&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
          <category> é¢è¯•é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
            <tag> java </tag>
            
            <tag> é¢è¯• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vueç¬”è®°ï¼ˆ3ï¼‰åŸºç¡€å…¥é—¨</title>
      <link href="/posts/20060601.html/"/>
      <url>/posts/20060601.html/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css">]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> Vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vueç¬”è®°ï¼ˆ2ï¼‰åŸºç¡€å…¥é—¨</title>
      <link href="/posts/20060501.html/"/>
      <url>/posts/20060501.html/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><div class="note primary icon">    <p>ğŸ“šVueç¬”è®°ç›®å½•</p>    <a href="/posts/20060401.html">ğŸš€å…¥é—¨ä»‹ç»</a> -    <a href="/posts/20060501.html">âš™ï¸åŸºç¡€å…¥é—¨</a> -</div><hr><p>æœ¬æ–‡å‚è€ƒæ–‡æ¡£ï¼š<a href="https://cn.vuejs.org/v2/guide/instance.html" target="_blank" rel="noopener">Vue.js</a></p><h1>Vueå®ä¾‹</h1><h2 id="åˆ›å»ºä¸€ä¸ªVueå®ä¾‹">åˆ›å»ºä¸€ä¸ªVueå®ä¾‹</h2><p>æ¯ä¸€ä¸ªVueå®ä¾‹éƒ½æ˜¯é€šè¿‡<code>Vue</code>å‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°çš„<strong>Vueå®ä¾‹</strong>å¼€å§‹çš„ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    <span class="comment">// é€‰é¡¹</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>å®ä¾‹ä»£ç å—</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"vue.js"</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  &#123;&#123; message &#125;&#125; &#123;&#123;name&#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript"><span class="keyword">var</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">el: <span class="string">'#app'</span>,</span></span><br><span class="line">data: &#123;</span><br><span class="line"><span class="actionscript">message: <span class="string">'Hello Vue!'</span>,</span></span><br><span class="line"><span class="actionscript">name : <span class="string">"Vue"</span></span></span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="æ•°æ®ä¸æ–¹æ³•">æ•°æ®ä¸æ–¹æ³•</h2><p>å½“ä¸€ä¸ªVueå®ä¾‹è¢«åˆ›å»ºæ—¶ï¼Œå®ƒå°†<code>data</code>å¯¹è±¡ä¸­çš„æ‰€æœ‰çš„propertyåŠ å…¥åˆ°Vueçš„<strong>å“åº”å¼ç³»ç»Ÿ</strong>ä¸­ï¼Œå½“è¿™äº›propertyçš„å€¼å‘ç”Ÿæ”¹å˜æ—¶ï¼Œè§†å›¾å°†ä¼šäº§ç”Ÿ<strong>å“åº”</strong>ï¼Œå³åŒ¹é…æ›´æ–°ä¸ºæ–°å€¼ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ•°æ®å¯¹è±¡</span></span><br><span class="line"><span class="keyword">var</span> data = &#123;<span class="attr">a</span> : <span class="number">1</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¯¥æ•°æ®å¯¹è±¡è¢«åŠ å…¥åˆ°ä¸€ä¸ªVueå®ä¾‹ä¸­</span></span><br><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    data: data</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ­¤æ—¶</span></span><br><span class="line">vm.a == data.a <span class="comment">// ==&gt; true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾ç½®propertyä¹Ÿä¼šå½±å“åŸå§‹æ•°æ®</span></span><br><span class="line">vm.a = <span class="number">2</span></span><br><span class="line">data.a <span class="comment">// ==&gt; 2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åä¹‹äº¦ç„¶</span></span><br><span class="line">data.a = <span class="number">3</span></span><br><span class="line">vm.a <span class="comment">// ==&gt; 3</span></span><br></pre></td></tr></table></figure><p>å½“è¿™äº›æ•°æ®æ”¹å˜æ—¶ï¼Œè§†å›¾ä¼šé‡æ–°æ¸²æŸ“ã€‚ä¸”åªæœ‰å½“å®ä¾‹è¢«åˆ›å»ºæ—¶å°±å·²ç»å­˜åœ¨äº<code>data</code>ä¸­çš„propertyæ‰æ˜¯<strong>å“åº”å¼</strong>çš„ã€‚</p><p>æ¯”å¦‚ï¼šæ–°æ·»åŠ ä¸€ä¸ªæ–°çš„property</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vm.b = <span class="string">"Hello"</span></span><br></pre></td></tr></table></figure><p>å¯¹<code>b</code>çš„æ”¹åŠ¨å°†ä¸ä¼šè§¦å‘ä»»ä½•è§†å›¾çš„æ›´æ–°ï¼Œä½†æ˜¯å¦‚æœä½ çŸ¥é“ä¼šæ™šäº›æ—¶å€™éœ€è¦ä¸€ä¸ªpropertyï¼Œä½†æ˜¯ä¸€å¼€å§‹å®ƒä¸ºç©ºæˆ–è€…ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆåªéœ€è¦è®¾ç½®ä¸€äº›åˆå§‹å€¼ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    data:&#123;</span><br><span class="line">        newTodoList: <span class="string">''</span>,</span><br><span class="line">        visitCount: <span class="number">0</span>,</span><br><span class="line">        hideCompletedTodos: <span class="literal">false</span>,</span><br><span class="line">        todos: [],</span><br><span class="line">        error: <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>è¿™é‡Œè¿˜æœ‰ä¸€ä¸ªä¾‹å¤–ï¼Œ<code>Object.freeze()</code>ï¼Œè¿™ä¸ªä¼šé˜»æ­¢ä¿®æ”¹ç°æœ‰çš„propertyï¼Œä¹Ÿæ„å‘³ç€å“åº”å¼ç³»ç»Ÿæ— æ³•å†è¿½è¸ªå˜åŒ–</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app-1"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;foo&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- è¿™é‡Œçš„fooä¸ä¼šæ›´ç»† --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"foo = 'Hello Vue!'"</span>&gt;</span>Change<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    foo: <span class="string">'Hello World!'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.freeze(obj)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> vm1 = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">"#app-1"</span>,</span><br><span class="line">    data: obj</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœç‚¹å‡»æŒ‰é’®<span style="color: green"> Hello Worl! </span>ä¸ä¼šå˜æˆ <span style="color: green">Hello Vue!</span></p><head>    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script><meta name="generator" content="Hexo 4.2.1"></head><body><div id="app-1" style="border: 1px solid #eee;padding: 25px 35px">    <p><span v-text="foo" style="color: green"></span></p>    <!-- è¿™é‡Œçš„fooä¸ä¼šæ›´ç»† -->    <button @click="foo = 'Hello Vue!'" style="border: 1px solid #eeeeee; padding: 2px;background-color: #c3c3c3">Change</button></div><script type="text/javascript">    var obj = {        foo: 'Hello World!'    }    Object.freeze(obj)    var vm1 = new Vue({        el: "#app-1",        data: obj    })</script></body><ul><li><p>æ‰“å¼€æ§åˆ¶å°ï¼Œè¾“å…¥<code>vm1.foo</code>ä¼šåœ¨æ§åˆ¶å°æ‰“å°å‡º Hello World!</p></li><li><p>è¾“å…¥<code>vm1.foo = &quot;Hello&quot;</code>ä¼šæŠ¥é”™  <span style="color:red">Uncaught TypeError: Cannot assign to read only property â€˜fooâ€™ of object â€˜#&lt;Object&gt;â€™</span></p></li></ul><h2 id="å®ä¾‹ç”Ÿå‘½å‘¨æœŸé’©å­">å®ä¾‹ç”Ÿå‘½å‘¨æœŸé’©å­</h2><p>æ¯ä¸ªVueå®ä¾‹åœ¨è¢«åˆ›å»ºæ—¶éƒ½è¦ç»è¿‡ä¸€ç³»åˆ—çš„åˆå§‹åŒ–è¿‡ç¨‹ã€‚ä¾‹å¦‚ï¼šéœ€è¦è®¾ç½®æ•°æ®ç›‘å¬ã€ç¼–è¯‘æ¨¡æ¿ã€å°†å®ä¾‹æŒ‚è½½åˆ°DOMã€å¹¶åœ¨æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶æ›´æ–°DOMç­‰ã€‚åŒæ—¶è¿™ä¸ªè¿‡ç¨‹æˆ–äº§ç”Ÿä¸€äº›å«åš<code>ç”Ÿå‘½å‘¨æœŸé’©å­</code>çš„å‡½æ•°ã€‚</p><ul><li><p>beforeCreateï¼ˆåˆ›å»ºä¹‹å‰ï¼‰</p><p>æ­¤é˜¶æ®µä¸ºå®ä¾‹åŒ–åˆå§‹é˜¶æ®µã€‚æ­¤æ—¶çš„æ•°æ®è§‚å¯Ÿå’Œäº‹ä»¶æœºåˆ¶éƒ½å°šæœªå½¢æˆï¼Œä¸èƒ½è·å¾—DOMèŠ‚ç‚¹ã€‚</p></li><li><p>Createdï¼ˆåˆ›å»ºå®Œæˆï¼‰</p><p>æ­¤é˜¶æ®µï¼ŒVueå®ä¾‹å·²ç»è·å–åˆ°ï¼Œä½†æ˜¯ä»ç„¶ä¸å¯ä»¥è·å–åˆ°DOM</p></li><li><p>beforeMountï¼ˆæŒ‚è½½ä¹‹å‰ï¼‰</p><p>åœ¨æ­¤é˜¶æ®µï¼Œä¾ç„¶è·å–ä¸åˆ°å…·ä½“çš„DOMå…ƒç´ ï¼Œä½†VueæŒ‚è½½çš„æ ¹èŠ‚ç‚¹å·²ç»åˆ›å»ºï¼Œä¸‹é¢çš„Vueå¯¹DOMçš„æ“ä½œéƒ½å°†å›´ç»•è¿™ä¸ªæ ¹èŠ‚ç‚¹ç»§ç»­è¿›è¡Œ</p></li><li><p>mountedï¼ˆæŒ‚è½½å®Œæˆï¼‰</p><p>åœ¨æ­¤é˜¶æ®µï¼Œæ•°æ®å’ŒDOMéƒ½å·²ç»è¢«æ¸²æŸ“å‡ºæ¥ï¼Œä¸€èˆ¬åœ¨æ­¤åšå¼‚æ­¥è¯·æ±‚æ“ä½œ</p></li><li><p>beforeUpdateï¼ˆå‘ç”Ÿæ”¹å˜å‰ï¼‰</p><p>åœ¨æ­¤é˜¶æ®µï¼ŒVueéµä»æ•°æ®é©±åŠ¨DOMçš„åŸåˆ™ã€‚beforeUpdateå‡½æ•°åœ¨æ•°æ®æ›´æ–°åè™½ç„¶æ²¡æœ‰ç«‹å³æ›´æ–°æ•°æ®ï¼Œä½†æ˜¯DOMä¸­çš„æ•°æ®ä¼šæ”¹å˜ï¼Œè¿™æ˜¯Vueçš„<strong>åŒå‘ç»‘å®š</strong>çš„ä½œç”¨</p></li><li><p>updatedï¼ˆæ”¹å˜åï¼‰</p><p>åœ¨æ­¤é˜¶æ®µï¼ŒDOMä¼šæ›´æ–°å‘ç”Ÿæ”¹å˜çš„è§†å›¾å†…å®¹</p></li><li><p>beforeDestroyï¼ˆé”€æ¯å‰ï¼‰</p><p>åœ¨ä¸Šä¸€é˜¶æ®µï¼ŒVueå·²ç»æˆåŠŸçš„é€šè¿‡æ•°æ®é©±åŠ¨DOMæ›´æ–°ï¼Œå½“ä¸éœ€è¦Vueæ“ä½œDOMæ—¶ï¼Œå°±éœ€è¦é”€æ¯Vueï¼Œä¹Ÿå°±æ˜¯æ¸…æ¥šVueä¸DOMçš„å…³è”ï¼Œè°ƒç”¨<code>destroy</code>æ–¹æ³•å¯ä»¥é”€æ¯å½“å‰ç»„ä»¶ã€‚åœ¨é”€æ¯å‰ï¼Œä¼šè§¦å‘<code>beforeDestroyé’©å­å‡½æ•°</code></p></li><li><p>destroyedï¼ˆé”€æ¯å®Œæˆï¼‰</p><p>é”€æ¯åï¼Œè§¦å‘destroyedé’©å­å‡½æ•°</p></li></ul><p>æ¯”å¦‚<code>created</code>é’©å­å¯ä»¥ç”¨åœ¨ä¸€ä¸ªå®ä¾‹è¢«åˆ›å»ºä¹‹åæ‰§è¡Œçš„ä»£ç </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    a: <span class="number">1</span></span><br><span class="line">  &#125;,</span><br><span class="line">  created: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// `this` æŒ‡å‘ vm å®ä¾‹</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'a is: '</span> + <span class="keyword">this</span>.a)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// =&gt; "a is: 1"</span></span><br></pre></td></tr></table></figure><p>ä¹Ÿæœ‰ä¸€äº›å…¶ä»–çš„é’©å­ï¼Œåœ¨å®ä¾‹ç”Ÿå‘½å‘¨æœŸçš„ä¸åŒé˜¶æ®µè¢«è°ƒç”¨ï¼Œå¦‚<code>mounted</code>ã€<code>updated </code> å’Œ <code>destroyed</code>ï¼Œç”Ÿå‘½å‘¨æœŸé’©å­çš„<code>this</code>ä¸Šä¸‹æ–‡æŒ‡å‘è°ƒç”¨å®ƒçš„Vueå®ä¾‹</p><div class="snote info">    <p>        ä¸è¦åœ¨é€‰é¡¹propertyæˆ–å›è°ƒä¸Šä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œæ¯”å¦‚ï¼š<br>        <code>created:() => console.log(this.a)</code> æˆ– <code>vm.$watch('a',newValue => this.myMathod())</code>ã€‚<br>        å› ä¸ºç®­å¤´å‡½æ•°å¹¶æ²¡æœ‰<code>this</code>ï¼Œ<code>this</code>ä¼šä½œä¸ºå˜é‡ä¸€ç›´å‘ä¸Šçº§è¯æ³•ä½œç”¨åŸŸæŸ¥æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°ä¸ºæ­¢ï¼Œæ‰€ä»¥ç»å¸¸å¯¼è‡´ï¼š<br>        <code>Uncaught TypeError: Cannot read property of undefined</code>æˆ–<br>        <code>Uncaught TypeError: this.myMethod is not a function</code>ä¹‹ç±»çš„é”™è¯¯    <p></div><h2 id="ç”Ÿå‘½å‘¨æœŸå›¾è§£â˜…â˜…â˜…â˜…â˜…">ç”Ÿå‘½å‘¨æœŸå›¾è§£â˜…â˜…â˜…â˜…â˜…</h2><p>æ¯ä¸ªVueå®ä¾‹åœ¨è¢«åˆ›å»ºæ—¶éƒ½è¦ç»è¿‡ä¸€ç³»åˆ—çš„åˆå§‹åŒ–è¿‡ç¨‹ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±æ˜¯Vueçš„ç”Ÿå‘½å‘¨æœŸã€‚</p><p>å…ˆæ¥çœ‹<a href="https://cn.vuejs.org/v2/guide/instance.html#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%9B%BE%E7%A4%BA" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a>ä¸Šçš„å›¾</p><img src= "/img/loading.gif" data-src="https://cn.vuejs.org/images/lifecycle.png" style="zoom:50%;" /><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"vue.js"</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app-2"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> vm2 = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">        el: <span class="string">'#app-2'</span>,</span></span><br><span class="line">        data: &#123;</span><br><span class="line"><span class="actionscript">            message: <span class="string">'Vueçš„ç”Ÿå‘½å‘¨æœŸ'</span></span></span><br><span class="line">        &#125;,</span><br><span class="line"><span class="actionscript">        beforeCreate: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.group(<span class="string">'------beforeCreateåˆ›å»ºå‰çŠ¶æ€------'</span>);</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">"%c%s"</span>, <span class="string">"color:red"</span>, <span class="string">"el     : "</span> + <span class="keyword">this</span>.$el); <span class="comment">//undefined</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">"%c%s"</span>, <span class="string">"color:red"</span>, <span class="string">"data   : "</span> + <span class="keyword">this</span>.$data); <span class="comment">//undefined </span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">"%c%s"</span>, <span class="string">"color:red"</span>, <span class="string">"message: "</span> + <span class="keyword">this</span>.message)</span></span><br><span class="line">        &#125;,</span><br><span class="line"><span class="actionscript">        created: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.group(<span class="string">'------createdåˆ›å»ºå®Œæ¯•çŠ¶æ€------'</span>);</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">"%c%s"</span>, <span class="string">"color:red"</span>, <span class="string">"el     : "</span> + <span class="keyword">this</span>.$el); <span class="comment">//undefined</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">"%c%s"</span>, <span class="string">"color:red"</span>, <span class="string">"data   : "</span> + <span class="keyword">this</span>.$data); <span class="comment">//å·²è¢«åˆå§‹åŒ– </span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">"%c%s"</span>, <span class="string">"color:red"</span>, <span class="string">"message: "</span> + <span class="keyword">this</span>.message); <span class="comment">//å·²è¢«åˆå§‹åŒ–</span></span></span><br><span class="line">        &#125;,</span><br><span class="line"><span class="actionscript">        beforeMount: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.group(<span class="string">'------beforeMountæŒ‚è½½å‰çŠ¶æ€------'</span>);</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">"%c%s"</span>, <span class="string">"color:red"</span>, <span class="string">"el     : "</span> + (<span class="keyword">this</span>.$el)); <span class="comment">//å·²è¢«åˆå§‹åŒ–</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="keyword">this</span>.$el);</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">"%c%s"</span>, <span class="string">"color:red"</span>, <span class="string">"data   : "</span> + <span class="keyword">this</span>.$data); <span class="comment">//å·²è¢«åˆå§‹åŒ–  </span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">"%c%s"</span>, <span class="string">"color:red"</span>, <span class="string">"message: "</span> + <span class="keyword">this</span>.message); <span class="comment">//å·²è¢«åˆå§‹åŒ–  </span></span></span><br><span class="line">        &#125;,</span><br><span class="line"><span class="actionscript">        mounted: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.group(<span class="string">'------mounted æŒ‚è½½ç»“æŸçŠ¶æ€------'</span>);</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">"%c%s"</span>, <span class="string">"color:red"</span>, <span class="string">"el     : "</span> + <span class="keyword">this</span>.$el); <span class="comment">//å·²è¢«åˆå§‹åŒ–</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="keyword">this</span>.$el);</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">"%c%s"</span>, <span class="string">"color:red"</span>, <span class="string">"data   : "</span> + <span class="keyword">this</span>.$data); <span class="comment">//å·²è¢«åˆå§‹åŒ–</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">"%c%s"</span>, <span class="string">"color:red"</span>, <span class="string">"message: "</span> + <span class="keyword">this</span>.message); <span class="comment">//å·²è¢«åˆå§‹åŒ– </span></span></span><br><span class="line">        &#125;,</span><br><span class="line"><span class="actionscript">        beforeUpdate: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.group(<span class="string">'beforeUpdate æ›´æ–°å‰çŠ¶æ€===============ã€‹'</span>);</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">"%c%s"</span>, <span class="string">"color:red"</span>, <span class="string">"el     : "</span> + <span class="keyword">this</span>.$el);</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="keyword">this</span>.$el);</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">"%c%s"</span>, <span class="string">"color:red"</span>, <span class="string">"data   : "</span> + <span class="keyword">this</span>.$data);</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">"%c%s"</span>, <span class="string">"color:red"</span>, <span class="string">"message: "</span> + <span class="keyword">this</span>.message);</span></span><br><span class="line">        &#125;,</span><br><span class="line"><span class="actionscript">        updated: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.group(<span class="string">'updated æ›´æ–°å®ŒæˆçŠ¶æ€===============ã€‹'</span>);</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">"%c%s"</span>, <span class="string">"color:red"</span>, <span class="string">"el     : "</span> + <span class="keyword">this</span>.$el);</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="keyword">this</span>.$el);</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">"%c%s"</span>, <span class="string">"color:red"</span>, <span class="string">"data   : "</span> + <span class="keyword">this</span>.$data);</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">"%c%s"</span>, <span class="string">"color:red"</span>, <span class="string">"message: "</span> + <span class="keyword">this</span>.message);</span></span><br><span class="line">        &#125;,</span><br><span class="line"><span class="actionscript">        beforeDestroy: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.group(<span class="string">'beforeDestroy é”€æ¯å‰çŠ¶æ€===============ã€‹'</span>);</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">"%c%s"</span>, <span class="string">"color:red"</span>, <span class="string">"el     : "</span> + <span class="keyword">this</span>.$el);</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="keyword">this</span>.$el);</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">"%c%s"</span>, <span class="string">"color:red"</span>, <span class="string">"data   : "</span> + <span class="keyword">this</span>.$data);</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">"%c%s"</span>, <span class="string">"color:red"</span>, <span class="string">"message: "</span> + <span class="keyword">this</span>.message);</span></span><br><span class="line">        &#125;,</span><br><span class="line"><span class="actionscript">        destroyed: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.group(<span class="string">'destroyed é”€æ¯å®ŒæˆçŠ¶æ€===============ã€‹'</span>);</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">"%c%s"</span>, <span class="string">"color:red"</span>, <span class="string">"el     : "</span> + <span class="keyword">this</span>.$el);</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="keyword">this</span>.$el);</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">"%c%s"</span>, <span class="string">"color:red"</span>, <span class="string">"data   : "</span> + <span class="keyword">this</span>.$data);</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">"%c%s"</span>, <span class="string">"color:red"</span>, <span class="string">"message: "</span> + <span class="keyword">this</span>.message)</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"><span class="handlebars"><span class="xml">    <span class="comment">&lt;!--è®¾ç½®å»¶è¿Ÿ3ç§’åï¼Œæ›´æ–°messageçš„å€¼--&gt;</span></span></span></span><br><span class="line"><span class="actionscript">    setTimeout(<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        vm2.message = <span class="string">"æ›´æ”¹äº†messageçš„å€¼"</span>;</span></span><br><span class="line">    &#125;, 3000);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>ä¸Šé¢ä»£ç çš„è¿è¡Œç»“æœï¼Œå¯ä»¥åˆ·æ–°é¡µé¢é‡æ–°è§‚å¯Ÿæ­¤ç»“æœ</p></blockquote><body>  <div id="app-2" style="border: 1px solid #eee;padding: 25px 35px">    <span v-text="message"></span>  </div></body><script>  var vm2 = new Vue({    el: '#app-2',    data: {      message: 'Vueçš„ç”Ÿå‘½å‘¨æœŸ'    },    beforeCreate: function() {      console.group('------beforeCreateåˆ›å»ºå‰çŠ¶æ€------');      console.log("%c%s", "color:red" , "el     : " + this.$el); //undefined      console.log("%c%s", "color:red","data   : " + this.$data); //undefined       console.log("%c%s", "color:red","message: " + this.message)     },    created: function() {      console.group('------createdåˆ›å»ºå®Œæ¯•çŠ¶æ€------');      console.log("%c%s", "color:red","el     : " + this.$el); //undefined      console.log("%c%s", "color:red","data   : " + this.$data); //å·²è¢«åˆå§‹åŒ–       console.log("%c%s", "color:red","message: " + this.message); //å·²è¢«åˆå§‹åŒ–    },    beforeMount: function() {      console.group('------beforeMountæŒ‚è½½å‰çŠ¶æ€------');      console.log("%c%s", "color:red","el     : " + (this.$el)); //å·²è¢«åˆå§‹åŒ–      console.log(this.$el);      console.log("%c%s", "color:red","data   : " + this.$data); //å·²è¢«åˆå§‹åŒ–        console.log("%c%s", "color:red","message: " + this.message); //å·²è¢«åˆå§‹åŒ–      },    mounted: function() {      console.group('------mounted æŒ‚è½½ç»“æŸçŠ¶æ€------');      console.log("%c%s", "color:red","el     : " + this.$el); //å·²è¢«åˆå§‹åŒ–      console.log(this.$el);          console.log("%c%s", "color:red","data   : " + this.$data); //å·²è¢«åˆå§‹åŒ–      console.log("%c%s", "color:red","message: " + this.message); //å·²è¢«åˆå§‹åŒ–     },    beforeUpdate: function () {      console.group('beforeUpdate æ›´æ–°å‰çŠ¶æ€===============ã€‹');      console.log("%c%s", "color:red","el     : " + this.$el);      console.log(this.$el);         console.log("%c%s", "color:red","data   : " + this.$data);       console.log("%c%s", "color:red","message: " + this.message);     },    updated: function () {      console.group('updated æ›´æ–°å®ŒæˆçŠ¶æ€===============ã€‹');      console.log("%c%s", "color:red","el     : " + this.$el);      console.log(this.$el);       console.log("%c%s", "color:red","data   : " + this.$data);       console.log("%c%s", "color:red","message: " + this.message);     },    beforeDestroy: function () {      console.group('beforeDestroy é”€æ¯å‰çŠ¶æ€===============ã€‹');      console.log("%c%s", "color:red","el     : " + this.$el);      console.log(this.$el);          console.log("%c%s", "color:red","data   : " + this.$data);       console.log("%c%s", "color:red","message: " + this.message);     },    destroyed: function () {      console.group('destroyed é”€æ¯å®ŒæˆçŠ¶æ€===============ã€‹');      console.log("%c%s", "color:red","el     : " + this.$el);      console.log(this.$el);        console.log("%c%s", "color:red","data   : " + this.$data);       console.log("%c%s", "color:red","message: " + this.message)    }  });    setTimeout(function () {        vm2.message = "æ›´æ”¹äº†messageçš„å€¼";    }, 3000);</script></html><p>æ‰“å¼€æ§åˆ¶å°æŸ¥çœ‹</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/08/04/20200805033915.png" alt=""></p><p>å¯ä»¥çœ‹åˆ°ä¸€ä¸ªVueå®ä¾‹åœ¨åˆ›å»ºè¿‡ç¨‹ä¸­è°ƒç”¨çš„å‡ ä¸ªç”Ÿå‘½å‘¨æœŸé’©å­ã€‚</p><ul><li><p>åœ¨beforeCreateå’Œcreateé’©å­å‡½æ•°ä¹‹é—´çš„ç”Ÿå‘½å‘¨æœŸ</p><head>    <meta charset="UTF-8">    <title>Title</title>    <style type="text/css">        .show1{            background: transparent url("https://cn.vuejs.org/images/lifecycle.png") no-repeat scroll -0px -225px;            width: 1200px;            height: 350px;        }    </style></head><body><div class="show1" style="zoom:40%;"></div></body><p>åœ¨è¿™ä¸ªç”Ÿå‘½å‘¨æœŸä¹‹é—´ï¼Œè¿›è¡Œ<strong>åˆå§‹åŒ–äº‹ä»¶</strong>ï¼Œè¿›è¡Œ<strong>æ•°æ®çš„è§‚æµ‹</strong>ï¼Œå¯ä»¥çœ‹åˆ°åœ¨<code>created</code>çš„æ—¶å€™æ•°æ®å·²ç»å’Œ<code>dataå±æ€§</code>ç»‘å®šï¼ˆæ”¾åœ¨dataä¸­çš„å±æ€§ï¼Œå½“å€¼å‘ç”Ÿæ”¹å˜çš„åŒæ—¶ï¼Œè§†å›¾ä¹Ÿä¼šæ”¹å˜ï¼‰ï¼Œæ­¤æ—¶<code>el</code>è¿˜æ²¡æœ‰é€‰é¡¹ã€‚</p></li><li><p>åœ¨createdå’ŒbeforeMounté’©å­å‡½æ•°ä¹‹é—´çš„ç”Ÿå‘½å‘¨æœŸ</p><head>    <meta charset="UTF-8">    <title>Title</title>    <style type="text/css">        .show2{            background: transparent url("https://cn.vuejs.org/images/lifecycle.png") no-repeat scroll -0px -486px;            width: 1200px;            height: 1007px;        }    </style></head><body><div class="show2" style="zoom:40%;"></div></body><p>åœ¨è¿™ä¸ªç”Ÿå‘½å‘¨æœŸä¹‹é—´ï¼Œå…ˆ<strong>åˆ¤æ–­æ˜¯å¦æœ‰elé€‰é¡¹</strong>ï¼šå¦‚æœæœ‰ï¼Œåˆ™ç»§ç»­å‘ä¸‹ç¼–è¯‘ï¼›å¦‚æœæ²¡æœ‰elé€‰é¡¹ï¼Œåˆ™åœæ­¢ç¼–è¯‘ï¼Œä¹Ÿå°±æ„å‘³ç€åœæ­¢äº†ç”Ÿå‘½å‘¨æœŸï¼ŒçŸ¥é“è¯¥Vueå®ä¾‹ä¸Šè°ƒç”¨<strong>vm.$mount(el)</strong>ã€‚æ­¤æ—¶æ³¨é‡Šæ‰15è¡Œä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">el: <span class="string">"#app-2"</span></span><br></pre></td></tr></table></figure><p>ç„¶åè¿è¡Œä»£ç å¯ä»¥çœ‹åˆ°æ‰§è¡Œå®Œcreatedä¹‹åå°±åœæ­¢äº†</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/08/06/20200806004958.png" alt="image-20200806004958593"></p><p>å¦‚æœç»§ç»­åœ¨æ§åˆ¶å°æ‰§è¡Œ<code>vm2.$mount(&quot;#app-2&quot;)</code>ï¼Œå¯ä»¥å‘ç°ç»§ç»­å‘ä¸‹æ‰§è¡Œäº†</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/08/06/20200806014007.png" alt="image-20200806012806198"></p><p>ç»§ç»­å‘ä¸‹çœ‹Vueç”Ÿå‘½å‘¨æœŸå›¾ï¼Œtemplateå‚æ•°é€‰é¡¹çš„æœ‰æ— å¯¹ç”Ÿå‘½å‘¨æœŸçš„å½±å“</p><ul><li>å¦‚æœVueå®ä¾‹å¯¹è±¡ä¸­æœ‰templateå‚æ•°é€‰é¡¹ï¼Œåˆ™å°†å…¶ä½œä¸ºæ¨¡æ¿å˜å¼‚æˆrenderå‡½æ•°</li><li>å¦‚æœVueå®ä¾‹å¯¹è±¡ä¸­æ²¡æœ‰templateå‚æ•°é€‰é¡¹ï¼Œåˆ™å°†å¤–éƒ¨HTMLä½œä¸ºæ¨¡æ¿ç¼–è¯‘</li><li>å¯ä»¥çœ‹å‡ºtemplateçš„ä¼˜å…ˆçº§é«˜äºå¤–éƒ¨HTMLçš„ä¼˜å…ˆçº§</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"vue.js"</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app-3"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--åœ¨htmlä¸­ä¿®æ”¹--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123;message + ' è¿™æ˜¯outerHTMLçš„å†…å®¹'&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> vm3 = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">            el: <span class="string">"#app-3"</span>,</span></span><br><span class="line"><span class="actionscript">            <span class="comment">//åœ¨Vueé…ç½®é¡¹ä¸­ä¿®æ”¹</span></span></span><br><span class="line"><span class="handlebars"><span class="xml">            template: "<span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><span class="template-variable">&#123;&#123;message + ' è¿™æ˜¯templateçš„å†…å®¹'&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span>",</span></span></span><br><span class="line">            data:&#123;</span><br><span class="line"><span class="actionscript">                message: <span class="string">"Hello Vue Lifecycle"</span></span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ‰§è¡Œåçš„ç»“æœæ˜¾ç¤ºï¼šğŸ‘‡</p><body><div id="app-3" style="border: 1px solid #eee;padding: 25px 35px"><span v-text="message + ' â€”â€” è¿™æ˜¯outerHTMLçš„å†…å®¹'"></span></div><script type="text/javascript">var vm3 = new Vue({el: "#app-3",template: '<div style="border: 1px solid #eeeeee; padding: 25px 35px"><span v-text="message + \' â€”â€” è¿™æ˜¯templateçš„å†…å®¹\'"></span></div>',data:{message: "Hello Vue Lifecycle"}})</script></body><p>å¦‚æœå°†Vueä¸­templateçš„ä»£ç æ³¨é‡Šæ‰ï¼Œæ˜¾ç¤ºç»“æœå¦‚ä¸‹ï¼šğŸ‘‡</p><body><div id="app-4" style="border: 1px solid #eee;padding: 25px 35px"><span v-text="message + ' â€”â€” è¿™æ˜¯outerHTMLçš„å†…å®¹'"></span></div><script type="text/javascript">var vm4 = new Vue({el: "#app-4",//template: '<span v-text="message + \' â€”â€” è¿™æ˜¯templateçš„å†…å®¹\'"></span>',data:{message: "Hello Vue Lifecycle"}})</script></body><p>æ‰€ä»¥ï¼šç”±æ­¤å¯ä»¥çœ‹å‡ºï¼Œä¸ºä»€ä¹ˆelçš„åˆ¤æ–­è¦åœ¨templateä¹‹å‰ï¼Œå› ä¸ºéœ€è¦é€šè¿‡elæ‰¾åˆ°å¯¹åº”çš„outer templateã€‚</p><br><p>åœ¨Vueå¯¹è±¡ä¸­ï¼Œè¿˜æœ‰ä¸€ä¸ª<code>render</code>å‡½æ•°ï¼Œå®ƒæ˜¯ä»¥<code>createElement</code>ä½œä¸ºå‚æ•°ï¼Œç„¶ååšæ¸²æŸ“æ“ä½œï¼Œè€Œä¸”è¿˜å¯ä»¥ç›´æ¥åµŒå…¥JSX</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">"#app"</span>,</span><br><span class="line">    render: <span class="function"><span class="keyword">function</span>(<span class="params">createElement</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> createElement(<span class="string">'span'</span>,<span class="string">'this is createElement'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°æ¸²æŸ“çš„é¡µé¢æ˜¯ï¼šğŸ‘‡</p><body><div style="border: 1px solid #eee;padding: 25px 35px">    <div id="app-5">        <span v-text="message + ' â€”â€” è¿™æ˜¯outerHTMLçš„å†…å®¹'"></span>    </div></div><script type="text/javascript">var vm5 = new Vue({el: "#app-5",        render: function(createElement){            return createElement('span','this is createElement')        }})</script></body><p>æ‰€ä»¥ä¼˜å…ˆçº§æ’åä¸ºï¼š</p><p>renderå‡½æ•°é€‰é¡¹  &gt;  templateé€‰é¡¹  &gt;  outerHTML</p></li><li><p>åœ¨beforeMountå’Œmountedé’©å­å‡½æ•°ä¹‹é—´çš„ç”Ÿå‘½å‘¨æœŸ</p><head>    <meta charset="UTF-8">    <title>Title</title>    <style type="text/css">        .show3{            background: transparent url("https://cn.vuejs.org/images/lifecycle.png") no-repeat scroll -0px -1377px;            width: 850px;            height: 392px;        }    </style></head><body><div class="show3" style="zoom:40%;"></div></body><p>å¯ä»¥çœ‹å‡ºæ­¤é˜¶æ®µæ˜¯ç»™Vueæ·»åŠ $elæˆå‘˜ï¼Œå¹¶ä¸”æ›¿æ¢æ‰æŒ‚è½½åœ¨DOMçš„å…ƒç´ ï¼Œå› ä¸ºåœ¨ä¹‹å‰consoleæ‰“å°çš„ç»“æœå¯ä»¥çœ‹åˆ°<code>beforeMount</code>ä¹‹å‰elè¿˜æ˜¯undefinedã€‚</p><div><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/08/06/20200806172148.png"></div></li><li><p>mountedç”Ÿå‘½å‘¨æœŸ</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/08/06/20200806181657.png" alt="image-20200806173010693"></p><p>åœ¨<code>mounted</code>ç”Ÿå‘½å‘¨æœŸä¹‹å‰ï¼Œ<code>beforeMount</code>é˜¶æ®µæ—¶ h1ä½¿ç”¨****è¿›è¡Œå ä½çš„ï¼Œå› ä¸ºæ­¤æ—¶è¿˜æ²¡æœ‰æŒ‚è½½åˆ°é¡µé¢ä¸Šï¼Œè¿˜æ˜¯JSä¸­çš„è™šæ‹ŸDOMå½¢å¼å­˜åœ¨çš„ã€‚åœ¨ï¼Œ<code>mounted</code>é˜¶æ®µæ—¶ï¼Œh1ä¸­å†…å®¹å‘ç”Ÿæ”¹å˜</p></li><li><p>åœ¨beforeUpdateå’Œupdatedé’©å­å‡½æ•°ä¹‹é—´çš„ç”Ÿå‘½å‘¨æœŸ</p><head>    <meta charset="UTF-8">    <title>Title</title>    <style type="text/css">        .show4{            background: transparent url("https://cn.vuejs.org/images/lifecycle.png") no-repeat scroll -410px -1664px;            width: 793px;            height: 558px;        }    </style></head><body><div class="show4" style="zoom:40%;"></div></body><p>å½“Vueå‘ç°dataä¸­çš„æ•°æ®å‘ç”Ÿæ”¹å˜æ—¶ï¼Œä¼š<strong>è§¦å‘å¯¹åº”ç»„ä»¶çš„é‡æ–°æ¸²æŸ“</strong>ï¼Œå…ˆåè°ƒç”¨<code>beforeUpdate</code>å’Œ<code>updated</code>é’©å­å‡½æ•°ã€‚</p><p>åœ¨æ§åˆ¶å°è¾“å…¥<code>vm2.message=&quot;æ›´æ”¹äº†messageçš„å€¼&quot;</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vm2.message=<span class="string">"æ›´æ”¹äº†messageçš„å€¼"</span></span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/08/06/20200806181559.png" alt="image-20200806181559210"></p><p>æˆ–è€…æ·»åŠ <code>setTimeout()</code>æ–¹æ³•ï¼šï¼ˆ<strong>æœ¬ä¾‹ä¸­ä½¿ç”¨çš„æ˜¯æ­¤æ–¹æ³•</strong>ï¼‰</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--è®¾ç½®å»¶è¿Ÿ<span class="number">3</span>ç§’åï¼Œæ›´æ–°messageçš„å€¼--&gt;</span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    vm2.message = <span class="string">"æ›´æ”¹äº†messageçš„å€¼"</span>;</span><br><span class="line">&#125;, <span class="number">3000</span>);</span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/08/06/20200806181650.png" alt="image-20200806181650813"></p></li><li><p>åœ¨beforeDestroyå’Œdestroyedé’©å­å‡½æ•°ä¹‹é—´çš„ç”Ÿå‘½å‘¨æœŸ</p><head>  <meta charset="UTF-8">    <title>Title</title>    <style type="text/css">        .show5{            background: transparent url("https://cn.vuejs.org/images/lifecycle.png") no-repeat scroll -0px -2214px;            width: 838px;            height: 579px;        }    </style></head><body><div class="show5" style="zoom:40%;"></div></body><p><code>beforeDestroy</code>é’©å­å‡½æ•°åœ¨å®ä¾‹é”€æ¯ä¹‹å‰è°ƒç”¨ï¼Œåœ¨æ­¤é˜¶æ®µï¼Œå®ä¾‹ä»ç„¶å¯ä»¥ä½¿ç”¨ã€‚</p><p><code>destroyed</code>é’©å­å‡½æ•°åœ¨å®ä¾‹é”€æ¯åè°ƒç”¨ã€‚è°ƒç”¨åï¼ŒVueå®ä¾‹æŒ‡ç¤ºçš„æ‰€æœ‰ä¸œè¥¿éƒ½ä¼šè§£é™¤ç»‘å®šï¼Œæ‰€æœ‰äº‹ä»¶ç›‘å¬å™¨ä¼šè¢«ç§»é™¤ï¼Œæ‰€æœ‰å®ä¾‹å°†ä¼šè¢«é”€æ¯ã€‚</p></li></ul><h1>æ¨¡æ¿è¯­æ³•</h1><p>Vue.jsä½¿ç”¨äº†åŸºäºHTMLçš„æ¨¡æ¿è¯­æ³•ï¼Œå…è®¸å¼€å‘è€…å£°æ˜å¼åœ°å°†DOMç»‘å®šè‡³åº•å±‚Vueå®ä¾‹çš„æ•°æ®ä¸­ï¼Œæ‰€ä»¥Vue.jsçš„æ¨¡æ¿éƒ½æ˜¯åˆæ³•çš„HTMLï¼Œæ‰€ä»¥èƒ½è¢«<strong>éµå¾ªè§„èŒƒçš„æµè§ˆå™¨</strong>å’Œ<strong>HTMLè§£æå™¨</strong>è§£æã€‚</p><p>åœ¨åº•å±‚çš„å®ç°ä¸Šï¼ŒVueå°†æ¨¡æ¿ç¼–è¯‘æˆè™šæ‹ŸDOMæ¸²æŸ“å‡½æ•°ã€‚ç»“åˆå“åº”ç³»ç»Ÿï¼ŒVueèƒ½å¤Ÿæ™ºèƒ½åœ°è®¡ç®—å‡ºæœ€å°‘éœ€è¦é‡æ–°æ¸²æŸ“å¤šå°‘ç»„ä»¶ï¼Œå¹¶æŠŠDOMæ“ä½œæ¬¡æ•°å‡åˆ°æœ€å°‘ã€‚</p><p>ä¹Ÿå¯ä»¥ä¸ä½¿ç”¨æ¨¡æ¿ï¼Œ<strong>ç›´æ¥å†™æ¸²æŸ“ï¼ˆrenderï¼‰å‡½æ•°</strong>ï¼Œä½¿ç”¨å¯é€‰çš„JSXè¯­æ³•</p><h2 id="æ’å€¼">æ’å€¼</h2><h3 id="æ–‡æœ¬">æ–‡æœ¬</h3><p>æ•°æ®ç»‘å®šæœ€å¸¸ç”¨çš„æ–¹å¼å°±æ˜¯ä½¿ç”¨â€œMustacheâ€è¯­æ³•ï¼Œï¼ˆåŒå¤§æ‹¬å·ï¼‰çš„æ–‡æœ¬æ’å€¼ï¼Œç§°ä¹‹ä¸º<code>æ’å€¼è¡¨è¾¾å¼</code>ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>Message: &#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åŒå¤§æ‹¬å·å†…ï¼ˆæ’å€¼è¡¨è¾¾å¼ï¼‰çš„æ ‡ç­¾å°†ä¼šè¢«æ›¿æ¢ä¸ºå¯¹åº”æ•°æ®å¯¹è±¡å¯¹è±¡ä¸Šmessage å±æ€§çš„å€¼ã€‚æ— è®ºä½•æ—¶ï¼Œç»‘å®šçš„æ•°æ®å¯¹è±¡ä¸Šçš„messageå±æ€§å‘ç”Ÿæ”¹å˜ï¼Œæ’å€¼å¤„çš„å†…å®¹éƒ½ä¼šæ›´æ–°ã€‚</p><p>é€šè¿‡ä½¿ç”¨<code>v-once</code>æŒ‡ä»¤ï¼Œä¹Ÿå¯ä»¥æ‰§è¡Œä¸€æ¬¡æ€§çš„æ’å€¼ï¼Œå½“æ•°æ®å‘ç”Ÿæ”¹å˜ï¼Œæ’å€¼å¤„çš„å†…å®¹ä¸ä¼šæ›´æ–°ã€‚ä½†æ˜¯ä¼šå½±å“è¯¥èŠ‚ç‚¹ä¸Šçš„å…¶ä»–æ•°æ®ç»‘å®šï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">v-onxe</span>&gt;</span>è¿™ä¸ªå†…å®¹ä¸ä¼šæ”¹å˜: &#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹ä»£ç </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/vue.js"</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app-6"</span> <span class="attr">style</span>=<span class="string">"border: 1px solid #eee;padding: 25px 35px"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>æ’å€¼è¡¨è¾¾å¼ï¼š&#123;&#123; message &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-once</span>&gt;</span>è¿™é‡Œçš„å†…å®¹ä¸ä¼šæ›´æ–°ï¼š&#123;&#123; message &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"change"</span>&gt;</span>æ”¹å˜messageçš„å€¼<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> vm6 = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">        el: <span class="string">"#app-6"</span>,</span></span><br><span class="line">        data:&#123;</span><br><span class="line"><span class="actionscript">            message: <span class="string">"Hello Vueï¼"</span></span></span><br><span class="line">        &#125;,</span><br><span class="line">        methods:&#123;</span><br><span class="line">            change()&#123;</span><br><span class="line"><span class="actionscript">                <span class="comment">// ä»¥ç¤ºåŒºåˆ†ï¼Œéšæœºç”Ÿæˆ2ä½æ•°</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">this</span>.message = <span class="string">"æ›´æ”¹äº†messageçš„å€¼"</span> + <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random()*<span class="number">100</span>)</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><body><div id="app-6" style="border: 1px solid #eee;padding: 25px 35px">    <span>æ’å€¼è¡¨è¾¾å¼ï¼š</span><span v-text="message"></span><br>    <span>è¿™é‡Œçš„å†…å®¹ä¸ä¼šæ›´æ–°ï¼š</span><span v-text="message" v-once></span><br>    <button @click="change" style="border: 1px solid #eeeeee; padding: 2px;background-color: #c3c3c3">æ”¹å˜messageçš„å€¼</button></div><script type="text/javascript">    var vm6 = new Vue({        el: "#app-6",        data:{            message: "Hello Vueï¼"        },        methods:{            change(){                // ä»¥ç¤ºåŒºåˆ†ï¼Œéšæœºç”Ÿæˆ2ä½æ•°                this.message = "æ›´æ”¹äº†messageçš„å€¼" + Math.floor(Math.random()*100)            }        }    })</script></body><h3 id="åŸå§‹HTML">åŸå§‹HTML</h3><p>åŒå¤§æ‹¬å·å†…ï¼ˆæ’å€¼è¡¨è¾¾å¼ï¼‰ä¼šå°†æ•°æ®è§£æä¸ºæ™®é€šæ–‡æœ¬ï¼Œè€ŒéHTMLä»£ç ã€‚ä¸ºäº†è¾“å‡ºçœŸæ­£çš„HTMLï¼Œéœ€è¦ä½¿ç”¨<code>v-html</code>æŒ‡ä»¤ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app-7"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>ä½¿ç”¨æ’å€¼è¡¨è¾¾å¼ï¼š&#123;&#123;innerHTML&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>ä½¿ç”¨v-htmlæŒ‡ä»¤ï¼š<span class="tag">&lt;<span class="name">span</span> <span class="attr">v-html</span>=<span class="string">"innerHTML"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">    <span class="keyword">var</span> vm7 = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">        el: <span class="string">"#app-7"</span>,</span><br><span class="line">        data: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span>&#123;</span><br><span class="line">                innerHTML:<span class="string">"&lt;span style='color: red'&gt;è¿™é‡Œåº”è¯¥æ˜¯çº¢è‰²å­—ä½“&lt;/span&gt;"</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><body><div id="app-7" style="border: 1px solid #eee;padding: 25px 35px">    <p>ä½¿ç”¨æ’å€¼è¡¨è¾¾å¼ï¼š<span v-text="innerHTML"></span></p>    <p>ä½¿ç”¨v-htmlæŒ‡ä»¤ï¼š<span v-html="innerHTML"></span></p></div><script type="text/javascript">    var vm7 = new Vue({        el: "#app-7",        data: function () {            return{                innerHTML:"<span style='color: red'>è¿™é‡Œåº”è¯¥æ˜¯çº¢è‰²å­—ä½“</span>"            }        }    })</script></body><p>è¿™ä¸ª <code>span</code> çš„å†…å®¹å°†ä¼šè¢«æ›¿æ¢æˆä¸º property å€¼ <code>innerHtml</code>ï¼Œç›´æ¥ä½œä¸º HTMLâ€”â€”ä¼šå¿½ç•¥è§£æ property å€¼ä¸­çš„æ•°æ®ç»‘å®šã€‚æ³¨æ„ï¼Œä¸èƒ½ä½¿ç”¨ <code>v-html</code> æ¥å¤åˆå±€éƒ¨æ¨¡æ¿ï¼Œå› ä¸º Vue ä¸æ˜¯åŸºäºå­—ç¬¦ä¸²çš„æ¨¡æ¿å¼•æ“ã€‚åä¹‹ï¼Œå¯¹äºç”¨æˆ·ç•Œé¢ (UI)ï¼Œç»„ä»¶æ›´é€‚åˆä½œä¸ºå¯é‡ç”¨å’Œå¯ç»„åˆçš„åŸºæœ¬å•ä½ã€‚</p><blockquote><p>ä½ çš„ç«™ç‚¹ä¸ŠåŠ¨æ€æ¸²æŸ“çš„ä»»æ„ HTML å¯èƒ½ä¼šéå¸¸å±é™©ï¼Œå› ä¸ºå®ƒå¾ˆå®¹æ˜“å¯¼è‡´    <a href="https://en.wikipedia.org/wiki/Cross-site_scripting" target="_blank" rel="noopener">XSS æ”»å‡»</a>ã€‚    è¯·åªå¯¹å¯ä¿¡å†…å®¹ä½¿ç”¨ HTML æ’å€¼ï¼Œ<strong>ç»ä¸è¦</strong>å¯¹ç”¨æˆ·æä¾›çš„å†…å®¹ä½¿ç”¨æ’å€¼ã€‚<p></blockquote><h3 id="Attribute">Attribute</h3><p>åŒå¤§æ‹¬å·ï¼ˆæ’å€¼è¡¨è¾¾å¼ï¼‰è¯­æ³•ä¸èƒ½ä½œç”¨åœ¨HTMLå±æ€§ä¸Šï¼Œé‡åˆ°è¿™ç§æƒ…å†µå¯ä»¥ä½¿ç”¨<code>v-bindæŒ‡ä»¤</code>ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-bind:id</span>=<span class="string">"dynamicId"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">        el: <span class="string">"#app"</span>,</span></span><br><span class="line">        date:&#123;</span><br><span class="line">            dynamicId: 1</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœåˆ™ä¸ºï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"1"</span>&gt;</span></span><br><span class="line">    // something code</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¯¹äºå¸ƒå°”å±æ€§ï¼ˆå®ƒä»¬åªè¦å­˜åœ¨å°±æ„å‘³ç€ä¸º<code>true</code>ï¼‰</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-bind:disabled</span>=<span class="string">"isDisabled"</span>&gt;</span>button<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¦‚æœisDisabledçš„å€¼ä¸ºnullã€undefinedæˆ–falseï¼Œåˆ™<code>disabled</code>å±æ€§ä¸ä¼šè¢«æ¸²æŸ“å‡ºæ¥ï¼ŒButtonå¯ç”¨</p><h3 id="ä½¿ç”¨JavaScriptè¡¨è¾¾å¼">ä½¿ç”¨JavaScriptè¡¨è¾¾å¼</h3><p>è‡³æ­¤ï¼Œåœ¨æˆ‘ä»¬çš„æ¨¡æ¿ä¸­ï¼Œä¸€ç›´éƒ½åªç»‘å®šç®€å•çš„propertyå€¼ã€‚ä½†å®é™…ä¸Šï¼Œå¯¹äºæ‰€æœ‰çš„æ•°æ®ç»‘å®šï¼ŒVue.jséƒ½æä¾›äº†å®Œå…¨çš„JavaScriptè¡¨è¾¾å¼æ”¯æŒ</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--åŸºæœ¬è¿ç®—--&gt;</span></span><br><span class="line">&#123;&#123;number + 1&#125;&#125;</span><br><span class="line"><span class="comment">&lt;!--ä¸‰å…ƒè¿ç®—--&gt;</span></span><br><span class="line">&#123;&#123;ok ? 'YES' : 'NO'&#125;&#125;</span><br><span class="line"><span class="comment">&lt;!--å­—ç¬¦ä¸²å¤„ç†--&gt;</span></span><br><span class="line">&#123;&#123;message.split('').reverse().join('')&#125;&#125;</span><br><span class="line"><span class="comment">&lt;!--åŠ¨æ€ç»‘å®š--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-bind:id</span>=<span class="string">"'list-' + id"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™äº›è¡¨è¾¾å¼ä¼šåœ¨æ‰€å± Vue å®ä¾‹çš„æ•°æ®ä½œç”¨åŸŸä¸‹ä½œä¸º JavaScript è¢«è§£æã€‚æœ‰ä¸ªé™åˆ¶å°±æ˜¯ï¼Œæ¯ä¸ªç»‘å®šéƒ½åªèƒ½åŒ…å«<strong>å•ä¸ªè¡¨è¾¾å¼</strong>ï¼Œæ‰€ä»¥ä¸‹é¢çš„ä¾‹å­éƒ½<strong>ä¸ä¼š</strong>ç”Ÿæ•ˆã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- è¿™æ˜¯è¯­å¥ï¼Œä¸æ˜¯è¡¨è¾¾å¼ --&gt;</span></span><br><span class="line">&#123;&#123; var a = 1 &#125;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- æµæ§åˆ¶ä¹Ÿä¸ä¼šç”Ÿæ•ˆï¼Œè¯·ä½¿ç”¨ä¸‰å…ƒè¡¨è¾¾å¼ --&gt;</span></span><br><span class="line">&#123;&#123; if (ok) &#123; return message &#125; &#125;&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ¨¡æ¿è¡¨è¾¾å¼éƒ½è¢«æ”¾åœ¨æ²™ç›’ä¸­ï¼Œåªèƒ½è®¿é—®å…¨å±€å˜é‡çš„ä¸€ä¸ªç™½åå•ï¼Œå¦‚ <code>Math</code> å’Œ <code>Date</code> ã€‚ä½ ä¸åº”è¯¥åœ¨æ¨¡æ¿è¡¨è¾¾å¼ä¸­è¯•å›¾è®¿é—®ç”¨æˆ·å®šä¹‰çš„å…¨å±€å˜é‡ã€‚</p></blockquote><h2 id="æŒ‡ä»¤">æŒ‡ä»¤</h2><p>æŒ‡ä»¤ (Directives) æ˜¯å¸¦æœ‰ <code>v-</code> å‰ç¼€çš„ç‰¹æ®Š attributeã€‚æŒ‡ä»¤ attribute çš„å€¼é¢„æœŸæ˜¯<strong>å•ä¸ª JavaScript è¡¨è¾¾å¼</strong> (<code>v-for</code> æ˜¯ä¾‹å¤–æƒ…å†µ)ã€‚æŒ‡ä»¤çš„èŒè´£æ˜¯ï¼Œå½“è¡¨è¾¾å¼çš„å€¼æ”¹å˜æ—¶ï¼Œå°†å…¶äº§ç”Ÿçš„è¿å¸¦å½±å“ï¼Œå“åº”å¼åœ°ä½œç”¨äº DOMã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">v-if</span>=<span class="string">"seen"</span>&gt;</span>ç°åœ¨ä½ çœ‹åˆ°æˆ‘äº†<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œï¼Œ<code>v-if</code> æŒ‡ä»¤å°†æ ¹æ®è¡¨è¾¾å¼ <code>seen</code> çš„å€¼çš„çœŸå‡æ¥æ’å…¥/ç§»é™¤ <code>&lt;p&gt;</code> å…ƒç´ ã€‚</p><h3 id="å‚æ•°">å‚æ•°</h3><p>ä¸€äº›æŒ‡ä»¤èƒ½å¤Ÿæ¥æ”¶ä¸€ä¸ªâ€œå‚æ•°â€ï¼Œåœ¨æŒ‡ä»¤åç§°ä¹‹åä»¥å†’å·è¡¨ç¤ºã€‚ä¾‹å¦‚ï¼Œ<code>v-bind</code> æŒ‡ä»¤å¯ä»¥ç”¨äºå“åº”å¼åœ°æ›´æ–° HTML attributeï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">v-bind:href</span>=<span class="string">"url"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åœ¨è¿™é‡Œ <code>href</code> æ˜¯å‚æ•°ï¼Œå‘ŠçŸ¥ <code>v-bind</code> æŒ‡ä»¤å°†è¯¥å…ƒç´ çš„ <code>href</code> attribute ä¸è¡¨è¾¾å¼ <code>url</code> çš„å€¼ç»‘å®šã€‚</p><p><code>v-on</code> æŒ‡ä»¤ï¼Œå®ƒç”¨äºç›‘å¬ DOM äº‹ä»¶ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">v-on:click</span>=<span class="string">"doSomething"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="åŠ¨æ€å‚æ•°">åŠ¨æ€å‚æ•°</h3><p><span class="inline-tag blue">2.6.0 æ–°å¢</span></p><p>ä» 2.6.0 å¼€å§‹ï¼Œå¯ä»¥ç”¨æ–¹æ‹¬å·æ‹¬èµ·æ¥çš„ JavaScript è¡¨è¾¾å¼ä½œä¸ºä¸€ä¸ªæŒ‡ä»¤çš„å‚æ•°ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">v-bind:</span>[<span class="attr">attributeName</span>]=<span class="string">"url"</span>&gt;</span> ... <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„ <code>attributeName</code> ä¼šè¢«ä½œä¸ºä¸€ä¸ª JavaScript è¡¨è¾¾å¼è¿›è¡ŒåŠ¨æ€æ±‚å€¼ï¼Œæ±‚å¾—çš„å€¼å°†ä¼šä½œä¸ºæœ€ç»ˆçš„å‚æ•°æ¥ä½¿ç”¨ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ çš„ Vue å®ä¾‹æœ‰ä¸€ä¸ª <code>data</code> property <code>attributeName</code>ï¼Œå…¶å€¼ä¸º <code>&quot;href&quot;</code>ï¼Œé‚£ä¹ˆè¿™ä¸ªç»‘å®šå°†ç­‰ä»·äº <code>v-bind:href</code>ã€‚</p><p>ç¤ºä¾‹ï¼šaæ ‡ç­¾çš„æœ€ç»ˆç»“æœä¸º<code>&lt;a href=&quot;https://www.baidu.com&quot;&gt; ... &lt;/a&gt;</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">v-bind:</span>[<span class="attr">attributeName</span>]=<span class="string">"url"</span>&gt;</span> ... <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">        el: <span class="string">"#app"</span>,</span></span><br><span class="line">        date:&#123;</span><br><span class="line"><span class="actionscript">            attributeName: <span class="string">'href'</span>,</span></span><br><span class="line"><span class="actionscript">            url: <span class="string">'https://www.baidu.com'</span></span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åŒæ ·åœ°ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨åŠ¨æ€å‚æ•°ä¸ºä¸€ä¸ªåŠ¨æ€çš„äº‹ä»¶åç»‘å®šå¤„ç†å‡½æ•°ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">v-on:</span>[<span class="attr">eventName</span>]=<span class="string">"doSomething"</span>&gt;</span> ... <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å½“<code>eventName</code>çš„å€¼ä¸º<code>focus</code>æ—¶ï¼Œ<code>v-on:[eventName]</code> ç­‰ä»·äº <code>v-on:focus</code></p><ul><li><p>å¯¹åŠ¨æ€å‚æ•°çš„å€¼çš„çº¦æŸ</p><p>åŠ¨æ€å‚æ•°é¢„æœŸä¼šæ±‚å‡ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¼‚å¸¸æƒ…å†µä¸‹å€¼ä¸º <code>null</code>ã€‚è¿™ä¸ªç‰¹æ®Šçš„ <code>null</code> å€¼å¯ä»¥è¢«æ˜¾æ€§åœ°ç”¨äºç§»é™¤ç»‘å®šã€‚ä»»ä½•å…¶å®ƒéå­—ç¬¦ä¸²ç±»å‹çš„å€¼éƒ½å°†ä¼šè§¦å‘ä¸€ä¸ªè­¦å‘Šã€‚</p></li><li><p>å¯¹åŠ¨æ€å‚æ•°è¡¨è¾¾å¼çš„çº¦æŸ</p><p>åŠ¨æ€å‚æ•°è¡¨è¾¾å¼æœ‰ä¸€äº›è¯­æ³•çº¦æŸï¼Œå› ä¸ºæŸäº›å­—ç¬¦ï¼Œå¦‚ç©ºæ ¼å’Œå¼•å·ï¼Œæ”¾åœ¨ HTML attribute åé‡Œæ˜¯æ— æ•ˆçš„ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- è¿™ä¼šè§¦å‘ä¸€ä¸ªç¼–è¯‘è­¦å‘Š --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">v-bind:</span>['<span class="attr">foo</span>' + <span class="attr">bar</span>]=<span class="string">"value"</span>&gt;</span> ... <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å˜é€šçš„åŠæ³•æ˜¯ä½¿ç”¨æ²¡æœ‰ç©ºæ ¼æˆ–å¼•å·çš„è¡¨è¾¾å¼ï¼Œæˆ–ç”¨è®¡ç®—å±æ€§æ›¿ä»£è¿™ç§å¤æ‚è¡¨è¾¾å¼ã€‚</p><p>åœ¨ DOM ä¸­ä½¿ç”¨æ¨¡æ¿æ—¶ (ç›´æ¥åœ¨ä¸€ä¸ª HTML æ–‡ä»¶é‡Œæ’°å†™æ¨¡æ¿)ï¼Œè¿˜éœ€è¦é¿å…ä½¿ç”¨å¤§å†™å­—ç¬¦æ¥å‘½åé”®åï¼Œå› ä¸ºæµè§ˆå™¨ä¼šæŠŠ attribute åå…¨éƒ¨å¼ºåˆ¶è½¬ä¸ºå°å†™ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">åœ¨ DOM ä¸­ä½¿ç”¨æ¨¡æ¿æ—¶è¿™æ®µä»£ç ä¼šè¢«è½¬æ¢ä¸º `v-bind:[someattr]`ã€‚</span></span><br><span class="line"><span class="comment">é™¤éåœ¨å®ä¾‹ä¸­æœ‰ä¸€ä¸ªåä¸ºâ€œsomeattrâ€çš„ propertyï¼Œå¦åˆ™ä»£ç ä¸ä¼šå·¥ä½œã€‚</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">v-bind:</span>[<span class="attr">someAttr</span>]=<span class="string">"value"</span>&gt;</span> ... <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="ä¿®é¥°ç¬¦">ä¿®é¥°ç¬¦</h3><p>ä¿®é¥°ç¬¦ (modifier) æ˜¯ä»¥åŠè§’å¥å· <code>.</code> æŒ‡æ˜çš„ç‰¹æ®Šåç¼€ï¼Œç”¨äºæŒ‡å‡ºä¸€ä¸ªæŒ‡ä»¤åº”è¯¥ä»¥ç‰¹æ®Šæ–¹å¼ç»‘å®šã€‚ä¾‹å¦‚ï¼Œ<code>.prevent</code> ä¿®é¥°ç¬¦å‘Šè¯‰ <code>v-on</code> æŒ‡ä»¤å¯¹äºè§¦å‘çš„äº‹ä»¶è°ƒç”¨ <code>event.preventDefault()</code>ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">v-on:submit.prevent</span>=<span class="string">"onSubmit"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="ç¼©å†™">ç¼©å†™</h2><p><code>v-</code> å‰ç¼€ä½œä¸ºä¸€ç§è§†è§‰æç¤ºï¼Œç”¨æ¥è¯†åˆ«æ¨¡æ¿ä¸­ Vue ç‰¹å®šçš„ attributeã€‚å½“ä½ åœ¨ä½¿ç”¨ Vue.js ä¸ºç°æœ‰æ ‡ç­¾æ·»åŠ åŠ¨æ€è¡Œä¸º (dynamic behavior) æ—¶ï¼Œ<code>v-</code> å‰ç¼€å¾ˆæœ‰å¸®åŠ©ï¼Œç„¶è€Œï¼Œå¯¹äºä¸€äº›é¢‘ç¹ç”¨åˆ°çš„æŒ‡ä»¤æ¥è¯´ï¼Œå°±ä¼šæ„Ÿåˆ°ä½¿ç”¨ç¹çã€‚åŒæ—¶ï¼Œåœ¨æ„å»ºç”± Vue ç®¡ç†æ‰€æœ‰æ¨¡æ¿çš„<a href="https://en.wikipedia.org/wiki/Single-page_application" target="_blank" rel="noopener">å•é¡µé¢åº”ç”¨ç¨‹åº (SPA - single page application)</a> æ—¶ï¼Œ<code>v-</code> å‰ç¼€ä¹Ÿå˜å¾—æ²¡é‚£ä¹ˆé‡è¦äº†ã€‚å› æ­¤ï¼ŒVue ä¸º <code>v-bind</code> å’Œ <code>v-on</code> è¿™ä¸¤ä¸ªæœ€å¸¸ç”¨çš„æŒ‡ä»¤ï¼Œæä¾›äº†ç‰¹å®šç®€å†™ï¼š</p><h3 id="v-bindç¼©å†™">v-bindç¼©å†™</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å®Œæ•´è¯­æ³• --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">v-bind:href</span>=<span class="string">"url"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- ç¼©å†™ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">:href</span>=<span class="string">"url"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- åŠ¨æ€å‚æ•°çš„ç¼©å†™ (2.6.0+) --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">:</span>[<span class="attr">key</span>]=<span class="string">"url"</span>&gt;</span> ... <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="v-onç¼©å†™">v-onç¼©å†™</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å®Œæ•´è¯­æ³• --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">v-on:click</span>=<span class="string">"doSomething"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- ç¼©å†™ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> @<span class="attr">click</span>=<span class="string">"doSomething"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- åŠ¨æ€å‚æ•°çš„ç¼©å†™ (2.6.0+) --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> @[<span class="attr">event</span>]=<span class="string">"doSomething"</span>&gt;</span> ... <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å®ƒä»¬çœ‹èµ·æ¥å¯èƒ½ä¸æ™®é€šçš„ HTML ç•¥æœ‰ä¸åŒï¼Œä½† <code>:</code> ä¸ <code>@</code> å¯¹äº attribute åæ¥è¯´éƒ½æ˜¯åˆæ³•å­—ç¬¦ï¼Œåœ¨æ‰€æœ‰æ”¯æŒ Vue çš„æµè§ˆå™¨éƒ½èƒ½è¢«æ­£ç¡®åœ°è§£æã€‚è€Œä¸”ï¼Œå®ƒä»¬ä¸ä¼šå‡ºç°åœ¨æœ€ç»ˆæ¸²æŸ“çš„æ ‡è®°ä¸­ã€‚ç¼©å†™è¯­æ³•æ˜¯å®Œå…¨å¯é€‰çš„</p><a class="btn-beautify button--animated pink block right outline larger" href="/posts/20060601.html/" title="ğŸ“šVueç¬”è®°ï¼ˆ3ï¼‰åŸºç¡€è¿›é˜¶"><i class="far fa-hand-point-right fa-fw"></i> ğŸ“šVueç¬”è®°ï¼ˆ3ï¼‰åŸºç¡€è¿›é˜¶ </a>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> Vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vueç¬”è®°ï¼ˆ1ï¼‰å…¥é—¨ä»‹ç»</title>
      <link href="/posts/20060401.html/"/>
      <url>/posts/20060401.html/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><div class="note primary icon">    <p>ğŸ“šVueç¬”è®°ç›®å½•</p>    <a href="/posts/20060401.html">ğŸš€å…¥é—¨ä»‹ç»</a> -    <a href="/posts/20060501.html">âš™ï¸å…¥é—¨ä»‹ç»</a> -</div><hr><p>å‚è€ƒæ–‡æ¡£åœ°å€ï¼š<a href="https://cn.vuejs.org/v2/guide/index.html#%E8%B5%B7%E6%AD%A5" target="_blank" rel="noopener">Vue.js</a></p><h2 id="å¼€å§‹ä½¿ç”¨Vue">å¼€å§‹ä½¿ç”¨Vue</h2><h3 id="ç›´æ¥ç”¨-script-å¼•å…¥">ç›´æ¥ç”¨<code>&lt;script&gt;</code>å¼•å…¥</h3><p>â€‹ç›´æ¥ä¸‹è½½å¹¶ç”¨<code>&lt;script&gt;</code>å¼•å…¥ï¼Œ<code>Vue</code>ä¼šè¢«æ³¨å†Œä¸ºä¸€ä¸ªå…¨å±€å˜é‡ã€‚</p><div class='tip warning'><p>åœ¨å¼€å‘ç¯å¢ƒä¸‹ï¼Œä¸è¦ä½¿ç”¨å‹ç¼©ç‰ˆæœ¬ï¼Œä¸ç„¶å°±å¤±å»äº†æ‰€æœ‰å¸¸è§é”™è¯¯çš„ç›¸å…³è­¦æŠ¥ã€‚<p></div><div style="padding-left: 8%">    <div>        <a class="btn-beautify button--animated outline green larger" href="https://cn.vuejs.org/js/vue.js" target="_blank" rel="noopener" title="å¼€å‘ç‰ˆæœ¬"><i class="far fa-hand-point-right fa-fw"></i> å¼€å‘ç‰ˆæœ¬ </a>        <span>åŒ…å«å®Œæ•´çš„è­¦å‘Šå’Œè°ƒè¯•æ¨¡å¼</span>    </div>    <div>        <a class="btn-beautify button--animated outline green larger" href="https://cn.vuejs.org/js/vue.min.js" target="_blank" rel="noopener" title="ç”Ÿäº§ç‰ˆæœ¬"><i class="far fa-hand-point-right fa-fw"></i> ç”Ÿäº§ç‰ˆæœ¬ </a>        <span>åˆ é™¤äº†è­¦å‘Šï¼Œ33.30KB min+gzip</span>    </div></div><h3 id="CDN">CDN</h3><ul><li><p>å¯¹äºå¼€å‘ç¯å¢ƒå’Œå­¦ä¹ ï¼Œå¯ä»¥ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/vue/dist/vue.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>å¯¹äºç”Ÿäº§ç¯å¢ƒï¼Œæ¨èé“¾æ¥åˆ°ä¸€ä¸ªæ˜ç¡®çš„ç‰ˆæœ¬å·å’Œæ„å»ºæ–‡ä»¶ï¼Œä»¥é¿å…æ–°ç‰ˆæœ¬é€ æˆçš„ä¸å¯é¢„æœŸçš„ç ´å</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/vue@2.6.11"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>å¦‚æœä½¿ç”¨åŸç”ŸES Modulesï¼Œè¿™é‡Œä¹Ÿæœ‰ä¸€ä¸ªå…¼å®¹ES Modulesçš„æ„å»ºæ–‡ä»¶ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"module"</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'https://cdn.jsdelivr.net/npm/vue@2.6.11/dist/vue.esm.browser.js'</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥åœ¨<a href="https://cdn.jsdelivr.net/npm/vue/" target="_blank" rel="noopener">cdn.jsdelivr.net/npm/vue/</a>æµè§ˆNPMåŒ…çš„æºä»£ç </p><p>Vueä¹Ÿå¯ä»¥åœ¨<a href="https://unpkg.com/vue@2.6.11/dist/vue.js" target="_blank" rel="noopener">unpkg</a>å’Œ<a href="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.11/vue.js" target="_blank" rel="noopener">cdnjs</a>ä¸Šè·å–ï¼ˆcdnjsçš„ç‰ˆæœ¬æ›´æ–°å¯èƒ½ä¼šå»¶åï¼‰</p></li></ul><h3 id="NPM">NPM</h3><p>åœ¨ä½¿ç”¨Vueæ„å»ºå¤§å‹é¡¹ç›®æ—¶æ¨èä½¿ç”¨NPMå®‰è£…ã€‚NPMèƒ½æ›´å¥½çš„å’Œè¯¸å¦‚<a href="https://webpack.js.org/" target="_blank" rel="noopener">webpack</a>æˆ–<a href="http://browserify.org/" target="_blank" rel="noopener">Browserify</a>æ¨¡å—æ‰“åŒ…å™¨é…åˆä½¿ç”¨ã€‚åŒæ—¶Vueä¹Ÿæä¾›é…å¥—å·¥å…·æ¥å¼€å‘<code>å•æ–‡ä»¶ç»„ä»¶</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> æœ€æ–°ç¨³å®šç‰ˆ</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> npm install vue</span></span><br></pre></td></tr></table></figure><h3 id="å‘½ä»¤è¡Œå·¥å…·ï¼ˆCLIï¼‰">å‘½ä»¤è¡Œå·¥å…·ï¼ˆCLIï¼‰</h3><h2 id="èµ·æ­¥">èµ·æ­¥</h2><h3 id="åˆ›å»º-Hello-Vue-ä¾‹å­">åˆ›å»º Hello Vue ä¾‹å­</h3><ul><li><p>åˆ›å»ºä¸€ä¸ª<code>.html</code>æ–‡ä»¶</p></li><li><p>å¼•å…¥<code>vue.js</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å¼€å‘ç¯å¢ƒç‰ˆæœ¬ï¼ŒåŒ…å«äº†æœ‰å¸®åŠ©çš„å‘½ä»¤è¡Œè­¦å‘Š --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/vue/dist/vue.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æˆ–è€…</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ç”Ÿäº§ç¯å¢ƒç‰ˆæœ¬ï¼Œä¼˜åŒ–äº†å°ºå¯¸å’Œé€Ÿåº¦ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/vue"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>ç¼–å†™html</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--è¿™é‡Œå¼•å…¥äº†vue.jsæ–‡ä»¶--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/vue.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app-1"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"border: 1px solid #eee;padding: 25px 35px"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span>&gt;</span></span><br><span class="line">                &#123;&#123;message&#125;&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">const</span> app_1 = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">            el:<span class="string">"#app-1"</span>,</span></span><br><span class="line">            data:&#123;</span><br><span class="line"><span class="actionscript">                message:<span class="string">"Hello Vue!"</span></span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="å£°æ˜å¼æ¸²æŸ“">å£°æ˜å¼æ¸²æŸ“</h3><ul><li><p>Vue.jsçš„æ ¸å¿ƒæ˜¯ä¸€ä¸ªå…è®¸é‡‡ç”¨ç®€æ´çš„æ¨¡æ¿è¯­æ³•æ¥å£°æ˜å¼åœ°å°†æ•°æ®æ¸²æŸ“è¿›DOM</p>  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app-1"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">    <span class="keyword">const</span> app_1 = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">        el:<span class="string">"#app-1"</span>,</span><br><span class="line">        data:&#123;</span><br><span class="line">            message:<span class="string">"Hello Vue!"</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœ</p>  <head>      <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>  <meta name="generator" content="Hexo 4.2.1"></head>  <body>  <div id="app-1" style="border: 1px solid #eee; padding: 25px 35px">      <span v-text="message"></span>  </div>  <script type="text/javascript">      const app_1 = new Vue({          el:"#app-1",          data:{              message:"Hello Vue!"          }      })  </script>  </body><p>å¯ä»¥åœ¨æµè§ˆå™¨çš„JavaScriptæ§åˆ¶å°ä½¿ç”¨<code>app_1.message</code> æ¥ä¿®æ”¹messageçš„å€¼</p></li><li><p>é™¤äº†æ–‡æœ¬æ’å€¼ï¼Œè¿˜å¯ä»¥è¿™æ ·æ¥ç»‘å®šå…ƒç´ attribute(å±æ€§)</p>  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app-2"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-bind:title</span>=<span class="string">"message"</span>&gt;</span></span><br><span class="line">    é¼ æ ‡æ‚¬åœå‡ ç§’é’ŸæŸ¥çœ‹æ­¤å¤„åŠ¨æ€ç»‘å®šçš„æç¤ºä¿¡æ¯ï¼</span><br><span class="line">  <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">    <span class="keyword">const</span> app_2 = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">        el:<span class="string">"#app-2"</span>,</span><br><span class="line">        data:&#123;</span><br><span class="line">            message: <span class="string">'é¡µé¢åŠ è½½äº '</span> + <span class="keyword">new</span> <span class="built_in">Date</span>().toLocaleString()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š<span style="color: #ff5b22">é¼ æ ‡æ‚¬åœä¼šçœ‹åˆ°ç»“æœ</span> ğŸ‘‡</p>  <head>      <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>  </head>  <body>  <div id="app-2">      <div style="border: 1px solid #eee;padding: 25px 35px">          <span v-bind:title="message">              ğŸš€é¼ æ ‡æ‚¬åœå‡ ç§’é’ŸæŸ¥çœ‹æ­¤å¤„åŠ¨æ€ç»‘å®šçš„æç¤ºä¿¡æ¯ï¼          </span>      </div>  </div>  <script type="text/javascript">      const app_2 = new Vue({          el:"#app-2",          data:{              message: 'é¡µé¢åŠ è½½äº ' + new Date().toLocaleString()          }      })  </script>  </body><p>å¯ä»¥åœ¨æµè§ˆå™¨çš„JavaScriptæ§åˆ¶å°ä½¿ç”¨<code>app_2.message = 'æ–°çš„message'</code> æ¥ä¿®æ”¹messageçš„å€¼ï¼Œå†æ¬¡æŠŠé¼ æ ‡æ‚¬åœåˆ°è¿è¡Œç»“æœä¸Šï¼Œä¼šçœ‹åˆ°ç»‘å®šäº†<code>titlt</code>çš„HTMLå·²ç»æ›´æ–°äº†</p><ul><li><p>å…¶ä¸­ <code>v-bind</code> è¢«ç§°ä¸º<strong>æŒ‡ä»¤</strong>ï¼ŒæŒ‡ä»¤å¸¦æœ‰å‰ç¼€<code>v-</code>ï¼Œä»¥è¡¨ç¤ºå®ƒä»¬æ˜¯Vueæä¾›çš„attributeã€‚</p><p>ç¼©å†™ï¼š<code>:</code></p><p>ä¿®é¥°ç¬¦ï¼š</p><ul><li><code>.prop</code>ï¼šæœ€ä¸ºä¸€ä¸ªDom property ç»‘å®šè€Œä¸æ˜¯ä½œä¸º attribute ç»‘å®šï¼ˆ<span style="color: #6fff57">æœ‰ä»€ä¹ˆåŒºåˆ«</span>â“ï¼‰</li><li><code>.camel</code>ï¼šå°† kebab-case attribute åè½¬æ¢ä¸º camelCaseã€‚(ä» 2.1.0 å¼€å§‹æ”¯æŒ)</li><li><code>.sync</code>ï¼š è¯­æ³•ç³–ï¼Œä¼šæ‰©å±•æˆä¸€ä¸ªæ›´æ–°çˆ¶ç»„ä»¶ç»‘å®šå€¼çš„ <code>v-on</code> ä¾¦å¬å™¨ã€‚(ä» 2.3.0 å¼€å§‹æ”¯æŒ)</li></ul><p>ç”¨æ³•ï¼š</p><ul><li>åŠ¨æ€åœ°<strong>ç»‘å®š</strong>ä¸€ä¸ªæˆ–å¤šä¸ªattributeï¼Œæˆ–ä¸€ä¸ªç»„ä»¶propåˆ°è¡¨è¾¾å¼ã€‚</li><li>åœ¨ç»‘å®š<code>class</code>æˆ–<code>style</code> attributeæ—¶ï¼Œæ”¯æŒå…¶ä»–ç±»å‹çš„å€¼ï¼Œå¦‚æ•°ç»„æˆ–å¯¹è±¡ã€‚</li><li>åœ¨ç»‘å®špropæ—¶ï¼Œpropå¿…é¡»åœ¨å­ç»„ä»¶ä¸­å£°æ˜ï¼Œå¯ä»¥ç”¨ä¿®é¥°ç¬¦æŒ‡å®šä¸åŒçš„ç»‘å®šç±»å‹</li></ul></li><li><p>åœ¨HTMLä¸­ï¼Œattribute å’Œ propertyçš„åŒºåˆ«â“</p><ul><li>attributeï¼šæ˜¯HTMLæ ‡ç­¾ä¸Šçš„æŸä¸ªå±æ€§ï¼Œå¦‚idã€valueã€classç­‰ä»¥åŠè‡ªå®šä¹‰å±æ€§ï¼Œå®ƒçš„å€¼åªèƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œå…³äºè¿™ä¸ªå±æ€§ä¸€å…±æœ‰3ä¸ªæ–¹æ³•ï¼š<ul><li>getAttribute</li><li>setAttribute</li><li>removeAttribute</li></ul></li><li>propertyï¼šæ˜¯JSè·å–çš„DOMå¯¹è±¡ä¸Šçš„å±æ€§å€¼ï¼Œå¯ä»¥å°†å®ƒçœ‹åšä¸€ä¸ªåŸºæœ¬çš„jså¯¹è±¡</li></ul></li></ul></li></ul><h3 id="æ¡ä»¶ä¸å¾ªç¯">æ¡ä»¶ä¸å¾ªç¯</h3><ul><li><p>æ§åˆ¶åˆ‡æ¢ä¸€ä¸ªå…ƒç´ æ˜¯å¦æ˜¾ç¤º</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app-3"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"check"</span>&gt;</span>click<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-if</span>=<span class="string">"seen"</span>&gt;</span></span><br><span class="line">        ç°åœ¨ä½ çœ‹åˆ°æˆ‘äº†ã€‚</span><br><span class="line">    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">    <span class="keyword">const</span> app_3 = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">        el: <span class="string">"#app-3"</span>,</span><br><span class="line">        data: &#123;</span><br><span class="line">            seen: <span class="literal">true</span></span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            check() &#123;</span><br><span class="line">                <span class="keyword">this</span>.seen = !<span class="keyword">this</span>.seen</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><body><div id="app-3">    <div style="border: 1px solid #eee;padding: 25px 35px">        <button @click="check" style="border: 1px solid #eeeeee; padding: 2px;background-color: #c3c3c3">è¦çœ‹æˆ‘å—ï¼Ÿ</button>        <span v-if="seen">            ç°åœ¨ä½ çœ‹åˆ°æˆ‘äº†ã€‚        </span>    </div></div><script type="text/javascript">    const app_3 = new Vue({        el: "#app-3",        data: {            seen: true        },        methods: {            check() {                this.seen = !this.seen            }        }    })</script></body><p>ç»§ç»­åœ¨æ§åˆ¶å°è¾“å…¥ <code>app_3.seen = false</code>ï¼Œä½ ä¼šå‘ç°ä¹‹å‰æ˜¾ç¤ºçš„æ¶ˆæ¯æ¶ˆå¤±äº†ã€‚</p></li><li><p><code>v-for</code> æŒ‡ä»¤å¯ä»¥ç»‘å®šæ•°ç»„çš„æ•°æ®æ¥æ¸²æŸ“ä¸€ä¸ªé¡¹ç›®åˆ—è¡¨</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app-4"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ol</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">"todo in todos"</span>&gt;</span></span><br><span class="line">      &#123;&#123; todo.text &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">    <span class="keyword">const</span> app_4 = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">el: <span class="string">'#app-4'</span>,</span><br><span class="line">      data: &#123;</span><br><span class="line">            todos: [</span><br><span class="line">                &#123;<span class="attr">id</span>: <span class="string">"1"</span>, <span class="attr">text</span>: <span class="string">"Java"</span>&#125;,</span><br><span class="line">                &#123;<span class="attr">id</span>: <span class="string">"2"</span>, <span class="attr">text</span>: <span class="string">"Spring"</span>&#125;,</span><br><span class="line">                &#123;<span class="attr">id</span>: <span class="string">"3"</span>, <span class="attr">text</span>: <span class="string">"Maven"</span>&#125;,</span><br><span class="line">                &#123;<span class="attr">id</span>: <span class="string">"4"</span>, <span class="attr">text</span>: <span class="string">"MySQL"</span>&#125;,</span><br><span class="line">                &#123;<span class="attr">id</span>: <span class="string">"5"</span>, <span class="attr">text</span>: <span class="string">"HTML"</span>&#125;</span><br><span class="line">            ]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><body><div id="app-4" style="border: 1px solid #eee;padding: 25px 35px">  <ol>    <li v-for="todo in todos">        <span v-text="todo.text"></span>    </li>  </ol></div><script type="text/javascript">    const app_4 = new Vue({el: '#app-4',      data: {            todos: [                {id: "1", text: "Java"},                {id: "2", text: "Spring"},                {id: "3", text: "Maven"},                {id: "4", text: "MySQL"},                {id: "5", text: "HTML"}            ]      }    })</script></body><p>åœ¨æ§åˆ¶å°é‡Œï¼Œè¾“å…¥ <code>app_4.todos.push({id: &quot;6&quot;, text: &quot;æ–°é¡¹ç›®&quot; })</code>ï¼Œä½ ä¼šå‘ç°åˆ—è¡¨æœ€åæ·»åŠ äº†ä¸€ä¸ªæ–°é¡¹ç›®ã€‚</p></li><li><p>ç‚¹å‡»æŒ‰é’®ï¼Œåˆ‡æ¢é¡µé¢ï¼Œæ¯”å¦‚ï¼šç‚¹å‡»é¦–é¡µæŒ‰é’®ï¼Œæ˜¾ç¤ºé¦–é¡µé¡µé¢ï¼›ç‚¹å‡»å½’æ¡£æŒ‰é’®ï¼Œæ˜¾ç¤ºå½’æ¡£é¡µé¢</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app-5"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-show</span>=<span class="string">"tab == 1"</span>&gt;</span>è¿™æ˜¯é¦–é¡µé¡µé¢<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-show</span>=<span class="string">"tab == 2"</span>&gt;</span>è¿™æ˜¯å½’æ¡£é¡µé¢<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-show</span>=<span class="string">"tab == 3"</span>&gt;</span>è¿™æ˜¯åˆ†ç±»é¡µé¢<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"checkTab"</span> <span class="attr">data-id</span>=<span class="string">"1"</span>&gt;</span>é¦–é¡µ<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"checkTab"</span> <span class="attr">data-id</span>=<span class="string">"2"</span>&gt;</span>å½’æ¡£<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"checkTab"</span> <span class="attr">data-id</span>=<span class="string">"3"</span>&gt;</span>åˆ†ç±»<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">    <span class="keyword">const</span> app_5 = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">        el: <span class="string">"#app-5"</span>,</span><br><span class="line">        data: &#123;</span><br><span class="line">            tab: <span class="number">1</span></span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            checkTab(e) &#123;</span><br><span class="line">                <span class="keyword">this</span>.tab = e.target.dataset.id</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><body><div id="app-5" style="border: 1px solid #eee;padding: 25px 35px">    <p v-show="tab == 1">è¿™æ˜¯é¦–é¡µé¡µé¢</p><p v-show="tab == 2">è¿™æ˜¯å½’æ¡£é¡µé¢</p><p v-show="tab == 3">è¿™æ˜¯åˆ†ç±»é¡µé¢</p>    <button @click="checkTab" data-id="1" style="border: 1px solid #eeeeee; padding: 2px;background-color: #c3c3c3">é¦–é¡µ</button>    <button @click="checkTab" data-id="2" style="border: 1px solid #eeeeee; padding: 2px;background-color: #c3c3c3">å½’æ¡£</button>    <button @click="checkTab" data-id="3" style="border: 1px solid #eeeeee; padding: 2px;background-color: #c3c3c3">åˆ†ç±»</button></div><script type="text/javascript">    const app_5 = new Vue({        el: "#app-5",        data: {            tab: 1        },        methods: {            checkTab(e) {                this.tab = e.target.dataset.id            }        }    })</script></body></li></ul><h3 id="å¤„ç†ç”¨æˆ·è¾“å…¥">å¤„ç†ç”¨æˆ·è¾“å…¥</h3><ul><li><p>ä¸ºäº†è®©ç”¨æˆ·ä¸åº”ç”¨è¿›è¡Œäº¤äº’ï¼Œä½¿ç”¨<code>v-on</code>æŒ‡ä»¤æ·»åŠ ä¸€ä¸ªäº‹ä»¶ç›‘å¬å™¨ï¼Œé€šè¿‡å®ƒè°ƒç”¨åœ¨Vueå®ä¾‹ä¸­å®šä¹‰çš„æ–¹æ³•</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app-6"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; message &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">"reverseMessage"</span>&gt;</span>åè½¬æ¶ˆæ¯<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">    <span class="keyword">const</span> app_6 = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">        el: <span class="string">"#app-6"</span>,</span><br><span class="line">        data: &#123;</span><br><span class="line">            message: <span class="string">"ABCDEFG"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            reverseMessage() &#123;</span><br><span class="line">                <span class="keyword">this</span>.message = <span class="keyword">this</span>.message.split(<span class="string">""</span>).reverse().join(<span class="string">""</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><body><div id="app-6" style="border: 1px solid #eee;padding: 25px 35px">  <p><span v-text="message"></span></p>  <button v-on:click="reverseMessage" style="border: 1px solid #eeeeee; padding: 2px;background-color: #c3c3c3">åè½¬æ¶ˆæ¯</button></div><script type="text/javascript">    const app_6 = new Vue({        el: "#app-6",        data: {            message: "ABCDEFG"        },        methods: {            reverseMessage() {                this.message = this.message.split("").reverse().join("")            }        }    })</script></body><p>æ³¨æ„åœ¨<code>reverseMessage</code>æ–¹æ³•ä¸­ï¼Œæ›´æ–°äº†åº”ç”¨çš„çŠ¶æ€ï¼Œä½†æ²¡æœ‰è§¦ç¢°DOMâ€”â€”æ‰€æœ‰çš„DOMæ“ä½œéƒ½ç”±Vueæ¥å¤„ç†ï¼Œç¼–å†™çš„ä»£ç åªéœ€è¦å…³æ³¨é€»è¾‘å±‚é¢</p></li><li><p>Vueè¿˜æä¾›äº†<code>v-model</code>æŒ‡ä»¤ï¼Œå®ƒèƒ½è½»æ¾å®ç°è¡¨å•è¾“å…¥å’Œåº”ç”¨çŠ¶æ€ä¹‹é—´çš„ç»‘å®š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app-7"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; message &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model</span>=<span class="string">"message"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">    <span class="keyword">const</span> app_7 = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">        el: <span class="string">"#app-7"</span>,</span><br><span class="line">        data: &#123;</span><br><span class="line">            message: <span class="string">"Hello Vue!"</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><body><div id="app-7" style="border: 1px solid #eee;padding: 25px 35px">    <p><span v-text="message"></span></p>  <input v-model="message"></div><script type="text/javascript">    const app_7 = new Vue({        el: "#app-7",        data: {            message: "Hello Vue!"        }    })</script></body><p>ä¿®æ”¹æ–‡æœ¬è¾“å…¥æ¡†çš„å†…å®¹ï¼ŒåŒæ—¶ä¹Ÿä¼šæ¸²æŸ“åˆ°DOM</p></li></ul><h3 id="ç»„ä»¶åŒ–åº”ç”¨æ„å»º">ç»„ä»¶åŒ–åº”ç”¨æ„å»º</h3><p>ç»„ä»¶ç³»ç»Ÿæ˜¯Vueçš„å¦ä¸€ä¸ªè¦æ¦‚å¿µï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ç§æŠ½è±¡ï¼Œå…è®¸æˆ‘ä»¬ä½¿ç”¨å°å‹ã€ç‹¬ç«‹å’Œé€šå¸¸å¯å¤ç”¨çš„ç»„ä»¶æ„å»ºå¤§å‹åº”ç”¨ã€‚</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/SevenKiss/imgPicGo/2020/08/04/20200804142156.png" alt=""></p><p>åœ¨Vueé‡Œï¼Œä¸€ä¸ªç»„ä»¶æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæ‹¥æœ‰é¢„å®šä¹‰é€‰é¡¹çš„ä¸€ä¸ªVueå®ä¾‹ã€‚</p><p>ç»„ä»¶ï¼ˆcomponentï¼‰æ˜¯Vue.jsæœ€å¼ºå¤§çš„åŠŸèƒ½ä¹‹ä¸€</p><p>ç»„ä»¶å¯ä»¥æ‰©å±•HTMLå…ƒç´ ï¼Œå°è£…å¯é‡ç”¨çš„ä»£ç ã€‚</p><p>æ³¨å†Œä¸€ä¸ªå…¨å±€ç»„ä»¶</p><pre><code>Vue.component(tagName,options)</code></pre><ul><li><p>tag-nameï¼šç»„ä»¶å</p><p>ç»„ä»¶åä¸å»ºè®®ä½¿ç”¨é©¼å³°å‘½åæ³•ï¼Œå› ä¸ºHTMLå±æ€§ä¸åŒºåˆ†å¤§å°å†™ï¼Œä¼šæŠŠé©¼å³°å‘½åæ³•è½¬è¯‘æˆ ä»¥ <code>-</code> è¿æ¥</p><p>æ¯”å¦‚ tagName â€”&gt; tag-name</p></li><li><p>optionsï¼šé…ç½®é€‰é¡¹</p></li></ul><p>åœ¨Vueä¸­æ³¨å†Œç»„ä»¶ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰åä¸º todo-item çš„æ–°ç»„ä»¶</span></span><br><span class="line">Vue.component(<span class="string">'todo-item'</span>, &#123;</span><br><span class="line">  template: <span class="string">'&lt;li&gt;è¿™æ˜¯ä¸ªå¾…åŠé¡¹&lt;/li&gt;'</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">var</span> app = <span class="keyword">new</span> Vue(...)</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ol</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- åˆ›å»ºä¸€ä¸ª todo-item ç»„ä»¶çš„å®ä¾‹ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">todo-item</span>&gt;</span><span class="tag">&lt;/<span class="name">todo-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><p>ä½¿ç”¨ <code>v-bind</code> æŒ‡ä»¤å°†å¾…åŠé¡¹ä¼ åˆ°å¾ªç¯è¾“å‡ºçš„æ¯ä¸ªç»„ä»¶ä¸­ï¼š</p><p>1ã€å·²ç»è®¾æ³•å°†åº”ç”¨åˆ†ä¸ºä¸¤ä¸ªæ›´å°çš„å•å…ƒã€‚å­å•å…ƒé€šè¿‡<code>props</code>æ¥å£ä¸çˆ¶å•å…ƒè¿›è¡Œäº†è‰¯å¥½çš„è§£è€¦</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ol</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">      ç°åœ¨æˆ‘ä»¬ä¸ºæ¯ä¸ª todo-item æä¾› todo å¯¹è±¡</span></span><br><span class="line"><span class="comment">      todo å¯¹è±¡æ˜¯å˜é‡ï¼Œå³å…¶å†…å®¹å¯ä»¥æ˜¯åŠ¨æ€çš„ã€‚</span></span><br><span class="line"><span class="comment">      æˆ‘ä»¬ä¹Ÿéœ€è¦ä¸ºæ¯ä¸ªç»„ä»¶æä¾›ä¸€ä¸ªâ€œkeyâ€ï¼Œç¨åå†</span></span><br><span class="line"><span class="comment">      ä½œè¯¦ç»†è§£é‡Šã€‚</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">todo-item</span></span></span><br><span class="line"><span class="tag">      <span class="attr">v-for</span>=<span class="string">"item in groceryList"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">v-bind:todo</span>=<span class="string">"item"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">v-bind:key</span>=<span class="string">"item.id"</span></span></span><br><span class="line"><span class="tag">    &gt;</span><span class="tag">&lt;/<span class="name">todo-item</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">    Vue.component(<span class="string">'todo-item'</span>, &#123;</span><br><span class="line">        props: [<span class="string">'todo'</span>],</span><br><span class="line">        template: <span class="string">'&lt;li&gt;&#123;&#123; todo.text &#125;&#125;&lt;/li&gt;'</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">var</span> app_8 = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">        el: <span class="string">'#app-8'</span>,</span><br><span class="line">        data: &#123;</span><br><span class="line">            groceryList: [</span><br><span class="line">                &#123; <span class="attr">id</span>: <span class="number">0</span>, <span class="attr">text</span>: <span class="string">'è”¬èœ'</span> &#125;,</span><br><span class="line">                &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">text</span>: <span class="string">'å¥¶é…ª'</span> &#125;,</span><br><span class="line">                &#123; <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">text</span>: <span class="string">'éšä¾¿å…¶å®ƒä»€ä¹ˆäººåƒçš„ä¸œè¥¿'</span> &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><body><div id="app-8" style="border: 1px solid #eee;padding: 25px 35px">  <ol>    <todo-item      v-for="item in groceryList"      v-bind:todo="item"      v-bind:key="item.id"    ></todo-item>  </ol></div><script type="text/javascript">    Vue.component('todo-item', {    props: ['todo'],      template: '<li><span v-text="todo.text"></span></li>'    })    var app_8 = new Vue({     el: '#app-8',      data: {        groceryList: [                { id: 0, text: 'è”¬èœ' },              { id: 1, text: 'å¥¶é…ª' },              { id: 2, text: 'éšä¾¿å…¶å®ƒä»€ä¹ˆäººåƒçš„ä¸œè¥¿' }        ]      }    })</script></body><p>æ­¤æ—¶å†æ¬¡æ‰“å¼€æ§åˆ¶å°å¹¶è¾“å…¥<code>app_8.groceryList.push = {id:&quot;3&quot;,text:&quot;è‚‰&quot;}</code>ç»“æœå†…å®¹å¹¶ä¸ä¼šæ”¹å˜</p><p>å¦‚æœå†è¿›ä¸€æ­¥æ”¹è¿›<code>todo-item</code>ç»„ä»¶ï¼Œå¯ä»¥æä¾›æ›´ä¸ºå¤æ‚çš„æ¨¡æ¿å’Œé€»è¾‘ï¼Œè€Œä¸ä¼šå½±å“åˆ°çˆ¶å•å…ƒ</p><p>åœ¨ä¸€ä¸ªå¤§å‹åº”ç”¨ä¸­ï¼Œæœ‰å¿…è¦å°†æ•´ä¸ªåº”ç”¨ç¨‹åºåˆ’åˆ†ä¸ºç»„ä»¶ï¼Œä»¥ä½¿å¼€å‘ä¾¿äºç®¡ç†</p></li></ul><a class="btn-beautify button--animated pink block right outline larger" href="https://blog.badcode.icu/posts/20060501.html/" title="ğŸ“šVueç¬”è®°ï¼ˆ2ï¼‰åŸºç¡€å…¥é—¨"><i class="far fa-hand-point-right fa-fw"></i> ğŸ“šVueç¬”è®°ï¼ˆ2ï¼‰åŸºç¡€å…¥é—¨ </a>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> Vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
